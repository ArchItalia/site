{"config":{"lang":["it"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Benvenuti","text":""},{"location":"#architalia-linux-community","title":"Architalia Linux Community","text":"<p>Architalia \u00e8 una comunit\u00e0 italiana dedicata alla distribuzione di Arch Linux e delle sue derivate. Questa comunit\u00e0 \u00e8 composta da appassionati di Linux e tecnologie open source che si uniscono per condividere informazioni, risorse e conoscenze su Arch Linux e le sue varie modifiche. </p> <p>Gli utenti di Architalia partecipano a discussioni sui forum, chiacchierano su chat o gruppi social e condividono guide, programmi e soluzioni ai problemi tecnici relativi ad Arch Linux e alle sue derivate. Architalia offre una vasta gamma di servizi, tra cui un wiki, un forum e una raccolta di guide per l'installazione e la configurazione di Arch Linux. </p> <p>In queste risorse, gli utenti possono trovare informazioni dettagliate su come utilizzare questa distribuzione, oltre a suggerimenti su come personalizzarla per le proprie esigenze. In sintesi, Architalia \u00e8 una comunit\u00e0 animata da appassionati di Linux che uniscono le forze per supportare e promuovere Arch Linux e le sue molteplici derivazioni.</p>"},{"location":"#tutti-i-canali-ufficiali","title":"Tutti i canali ufficiali","text":"<ul> <li> Sito Ufficiale</li> <li> Mastodon</li> <li> Facebook Group</li> <li> Facebook Page </li> <li> YouTube</li> <li> Telegram</li> <li> GitHub</li> <li> GitLab</li> </ul>"},{"location":"#team-architalia","title":"Team Architalia","text":"<ul> <li>Jonathan Linux - Founder</li> <li>Marco Buccino - Co-Founder, Facebook Admin</li> <li>Ivan Karavitis - Co-Founder, Facebook Admin</li> <li>Klod Cripta - Team coordinator, Facebook Admin, Telegram Admin, Core Linux beta tester</li> <li>Marco Favarotto - Facebook Admin, Telegram moderator</li> <li>Luana - Telegram Bot manager, Telegram moderator</li> <li>Cate - Telegram Bot manager</li> <li>Riccardo Arreghini - Youtube Manager, Facebook Admin, owner at Rik Man</li> <li>Marco Giannini - Reviewer, Promoter, supporter, owner at Marcos's Box</li> </ul>"},{"location":"#supporta-la-community","title":"Supporta la Community","text":"<p>Se sei un appassionato di Arch Linux, sostieni la nostra comunit\u00e0 su Architalia e aiutaci a crescere donando oggi. Con il tuo contributo, potremo garantire la continuit\u00e0 dei nostri servizi e offrire sempre pi\u00f9 supporto e risorse a tutti i nostri membri. Grazie per il tuo supporto!</p> <p>Support the Architalia community of Arch Linux by making a donation to help us grow. If you're a passionate Arch Linux user, donate today and help us ensure the continuity of our services and provide even more support and resources to all of our members. Thank you for your support!</p> <p>Donazione Paypal</p> <p></p>"},{"location":"libri/","title":"Libri","text":""},{"location":"libri/#materiale-studio","title":"Materiale Studio","text":"<ol> <li>Linux Essential [PDF] \ud83c\uddee\ud83c\uddf9 6.6MB</li> <li>Web Development Essential [PDF] \ud83c\uddee\ud83c\uddf9 7.1MB</li> <li>LPIC-1 Exam 101 [PDF] \ud83c\uddee\ud83c\uddf9 8.7MB</li> <li>LPIC-1 Exam 102 [PDF] \ud83c\uddee\ud83c\uddf9 10MB</li> <li>Linux Essential [PDF] \ud83c\uddec\ud83c\udde7 6.6MB</li> <li>Web Development Essential [PDF] \ud83c\uddec\ud83c\udde7 7.1MB</li> <li>LPIC-1 Exam 101 [PDF] \ud83c\uddec\ud83c\udde7 8.7MB</li> <li>LPIC-1 Exam 102 [PDF] \ud83c\uddec\ud83c\udde7 10MB</li> <li>LPIC-2 Study Guide [PDF] \ud83c\uddec\ud83c\udde7 14.5MB</li> <li>LPIC-3 Security Guide [PDF] \ud83c\uddec\ud83c\udde7 229KB</li> </ol>"},{"location":"termini/","title":"Esonero responsabilita","text":""},{"location":"termini/#esonero-resonsabilita","title":"Esonero resonsabilita' \ud83c\uddee\ud83c\uddf9","text":"<p>1- Non \u00e8 in nessun modo possibile derivare nessun diritto dai contenuti di questo sito web; non \u00e8 possibile avanzare pretese in riferimento ai contenuti del presente sito web. ArchItalia e i suoi autori non saranno responsabili per eventuali danni diretti o indiretti di qualsivoglia natura, derivanti da o collegati all\u2019accesso o all\u2019uso delle eventuali informazioni su questo sito Web.</p> <p>2- Questo sito web pu\u00f2 contenere informazioni e collegamenti a siti web di soggetti diversi rispetto a ArchItalia, pi\u00f9 nello specifico informazioni di Archlinux. Queste informazioni e questi collegamenti sono esclusivamente a scopo informativo. ArchItalia non ha alcun controllo su queste informazioni e su questi siti web e non sar\u00e0 responsabile per tali informazioni oltre, gli eventuali prodotti o servizi menzionati su tali siti web. ArchItalia non fornisce nessun consenso, approvazione o raccomandazione relativamente a tali informazioni presenti su questi siti web.</p> <p>3- I marchi, le immagini, i loghi e le immagini che rendono riconoscibili i servizi di ArchItalia oltre alle opzioni di design, testo e grafica del sito web sono di propriet\u00e0 di ArchItalia. Nulla di quanto \u00e8 compreso nel presente documento verr\u00e0 interpretato come la concessione di una licenza o di un diritto ai sensi dei diritti d\u2019autore o di qualsiasi altro diritto di propriet\u00e0 intellettuale di ArchItalia.</p> <p>4- I marchi, le immagini, i loghi e le immagini di terze parti sono di proprieta' dei rispettivi proprietari. ArchItalia non sar\u00e0 in alcun modo responsabile per questi contenuti.</p> <p>5- Sebbene ArchItalia si impegni in modo quanto pi\u00f9 ragionevolmente possibile a mantenere questo sito privo di virus, non pu\u00f2 fornire alcuna garanzia in tal senso. La responsabilit\u00e0 per i virus \u00e8 esclusa.</p>"},{"location":"termini/#disclaimer","title":"Disclaimer \ud83c\uddec\ud83c\udde7","text":"<p>1- No rights can be derived in any way from the content of this website; no claims can be made with reference to the contents of this website. ArchItalia and its authors will not be liable for any direct or indirect damages of any kind, arising from or related to access or use of any information on this website.</p> <p>2- This website may contain information and links to websites of subjects other than ArchItalia, specifically information about Archlinux. This information and these links are for informational purposes only. ArchItalia has no control over this information and these websites and will not be responsible for such information as well as any products or services mentioned on such websites. ArchItalia does not provide any consent, approval, or recommendation with respect to such information present on these websites.</p> <p>3- The trademarks, images, logos, and images that make ArchItalia services recognizable, as well as the design options, text, and graphics of the website, are owned by ArchItalia. Nothing in this document shall be construed as a license or right granted under right or any other intellectual property right of ArchItalia.</p> <p>4- The trademarks, images, logos, and images of third parties are owned by their respective owners. ArchItalia will not be in any way responsible for this content.</p> <p>5- Although ArchItalia reasonably endeavors to keep this site free of viruses, it cannot provide any guarantee in this regard. Responsibility for viruses is excluded.</p>"},{"location":"Altre-Guide/Pacman/","title":"Pacman","text":"<p>I pacchetti di software vengono scaricati e gestiti attraverso i repositories, che sono cataloghi online dove sono archiviati i pacchetti. Pacman permette di installare, aggiornare e rimuovere pacchetti tramite una semplice interfaccia da linea di comando, con la possibilit\u00e0 di personalizzarla tramite opzioni aggiuntive.</p> <p>Pacman \u00e8 in grado di gestire le dipendenze tra i pacchetti, garantendo la compatibilit\u00e0 tra di essi e la corretta installazione di tutti i pacchetti necessari per il funzionamento di un'applicazione.</p>"},{"location":"Altre-Guide/Pacman/#configurazione","title":"Configurazione","text":"<p>La configurazione di Pacman \u00e8 in /etc/pacman.conf. Ulteriori informazioni riguardo il file di configurazione possono essere trovate usando il comando:</p> <p><code>$ man pacman.conf</code></p> <p>Evitare l'aggiornamento di un pacchetto</p> <p>Per evitare di aggiornare la versione di un pacchetto attraverso il file di configurazione /etc/pacman.conf, aggiungere la linea:</p> <p><code>$ IgnorePkg=nomepacchetto</code></p> <p>Evitare l'aggiornamento di un gruppo di pacchetti</p> <p>Per evitare di aggiornare la versione di un gruppo di  pacchetti esempio gnome attraverso il file di configurazione /etc/pacman.conf, aggiungere la linea:</p> <p><code>$ IgnoreGroup=gnome</code></p>"},{"location":"Altre-Guide/Pacman/#repositories","title":"Repositories","text":"<p>In questa sezione puoi definire che repositories usare, come specificato in pacman.conf. Possono essere definite direttamente qui o puoi aggiungerle da un altro file. Tutti i repositories ufficiali utilizzano lo stesso file /etc/pacman.d/mirrorlist dov'\u00e8 contenuta una variabile <code>$repo</code> in modo da mantenere una sola lista:</p> <pre><code>[core]\ninclude = /etc/pacman.d/mirrorlist\n\n[extra]\ninclude = /etc/pacman.d/mirrorlist\n\n[multilab]\ninclude = /etc/pacman.d/mirrorlist\n</code></pre>"},{"location":"Altre-Guide/Pacman/#comandi","title":"Comandi","text":"<p>Ecco una lista esaustiva dei comandi di pacman:</p> <ul> <li><code># pacman -Q</code>        Mostra i pacchetti installati nel sistema. </li> <li><code># pacman -Qc</code>        Mostra i file di configurazione dei pacchetti che non fanno parte del sistema base.</li> <li><code># pacman -Qd</code>        Mostra i pacchetti dipendenti di un pacchetto specifico.</li> <li><code># pacman -Qdt</code>       Mostra i pacchetti orfani, non pi\u00f9 necessari a dipendenze gi\u00e0 rimosse.</li> <li><code># pacman -R $(pacman -Qdtq)</code> Rimuovere i pacchetti e le dipendenze non piu' necessarie.</li> <li><code># pacman -Qi</code>         Mostra le informazioni dettagliate di un pacchetto installato.</li> <li><code># pacman -Qk</code>        Verifica integrit\u00e0 dei file di un pacchetto con md5sums.</li> <li><code># pacman -Ql</code>         Mostra tutti i file installati da un pacchetto.</li> <li><code># pacman -Qm</code>      Mostra i pacchetti esplicitamente installati dall'utente, non presenti nei repositories ufficiali.</li> <li><code># pacman -Qo</code>        Mostra il pacchetto proprietario di un file specifico.</li> <li><code># pacman -Qp</code>        Mostra le informazioni descrittive di un pacchetto locale.</li> <li><code># pacman -Qqe &gt; pkglist</code> Creare un file backup dei pacchetti installati.</li> <li><code># pacman -S $(cat pkglist)</code> Installare pacchetti leggendo dal pkglist.</li> <li><code># pacman -Qs</code>         Cerca un pacchetto tra quelli gi\u00e0 installati nel sistema.</li> <li><code># pacman -Qu</code>        Mostra i pacchetti che necessitano di aggiornamento disponibili nei repositories.</li> <li><code># pacman -Rs</code>         Rimuove un pacchetto, insieme ai pacchetti dipendenti da esso e non pi\u00f9 utilizzati da nessun altro pacchetto.</li> <li><code># pacman -Rdd</code>       Forza la rimozione di un pacchetto e delle dipendenze.</li> <li><code># pacman -Rn</code>        Rimuove un pacchetto, senza rimuovere le dipendenze non necessarie.</li> <li><code># pacman -Rns</code>       Rimuove un pacchetto, insieme alle dipendenze non necessarie.</li> <li><code># pacman -S</code>          Installa un pacchetto, scaricandolo dai repositories.</li> <li><code># pacman -Scc</code>       Rimuove tutti i pacchetti in cache dal database di pacman.</li> <li><code># pacman -Sc</code>        Rimuove pacchetti non pi\u00f9 disponibili nei repositories dalla cache di pacman.</li> <li><code># pacman -Sdd</code>  Forza il tentativo di installazione di un pacchetto senza dipendenze requiste, ognuna di esse viene ignorata. </li> <li><code># pacman -Si</code>         Mostra le informazioni descrittive di un pacchetto disponibile nei repositories.</li> <li><code># pacman -Sg</code>        Mostra i gruppi di pacchetti disponibili.</li> <li><code># pacman -Sgg</code>       Mostra i pacchetti presenti in tutti i gruppi di pacchetti disponibili.</li> <li><code># pacman -Ss</code>         Cerca un pacchetto nei repositories.</li> <li><code># pacman -Sw</code>         Scarica un pacchetto senza installarlo.</li> <li><code># pacman -Sy</code>         Aggiorna l'elenco dei pacchetti scaricabili dai repositories.</li> <li><code># pacman -Syu</code>        Aggiorna il sistema, scaricando i pacchetti pi\u00f9 recenti dai repositories.</li> <li><code># pacman -Syy</code>        Aggiorna completamente l'elenco dei pacchetti scaricabili dai repositories.</li> <li><code># pacman -U</code>          Installa o Aggiorna un pacchetto locale. </li> <li><code># pacman -Uu</code>      Scarica e installa in modo automatico le dipendenze di un pacchetto locale.</li> <li><code># pacman -U &lt;pacchetto.tar.xz&gt;</code>     Installa/aggiorna un pacchetto da un file locale.</li> <li><code># pacman -Qu --color auto</code>          Mostra i pacchetti che necessitano di aggiornamento, evidenziando le informazioni pi\u00f9 importanti con i colori.</li> <li><code># pacman -Sw &lt;pacchetto&gt;</code>            Scarica un pacchetto specifico, senza installarlo.</li> <li><code># pacman -Syu --ignore &lt;pacchetto&gt;</code>   Aggiorna il sistema, ignorando un pacchetto specifico.</li> <li><code># pacman -Sdd &lt;pacchetto&gt;</code>          Forza il tentativo di installazione di un pacchetto senza dipendenze requiste, ognuna di esse viene ignorata.</li> </ul>"},{"location":"Altre-Guide/amd/","title":"Manjaro Mesa Codecs","text":"<ul> <li>Autore: bucch</li> <li>Repository: GitLab  </li> <li>\ud83c\uddee\ud83c\uddf9 Italian -  \ud83c\uddec\ud83c\udde7 English</li> </ul>"},{"location":"Altre-Guide/amd/#italian","title":"italian","text":"<p>Uno script semplice per ricompilare il pacchetto <code>mesa</code> al fine di abilitare l'accelerazione hardware per i codec proprietari (ovvero H.264 e H.265). Non \u00e8 necessario eseguire questo script se non si dispone di una scheda grafica AMD installata nel proprio sistema!</p>"},{"location":"Altre-Guide/amd/#background-info","title":"Background info","text":"<p>Dall'anno 2022, Manjaro Linux Team ha seguito la decisione di Fedora e openSUSE di disattivare i codec proprietari nel pacchetto mesa ridistribuito nel loro repository:</p> <p>Mesa \u00e8 ora alla versione 22.2.4  Includa una modifica importante che disattiva l'accelerazione hardware per i codec video proprietari (in genere H.264 e H.265) quando si utilizza lo stack di driver Mesa.  I codec video aperti (VP8, VP9, AV1 - in base alle capacit\u00e0 hardware) non sono influenzati e possono essere ancora accelerati hardware \"out of the box\".  Questa modifica riguarda principalmente le schede grafiche AMD. (Le GPU Intel non utilizzano Mesa per l'accelerazione video, le schede Nvidia utilizzano il driver proprietario e l'accelerazione video Mesa non funziona correttamente con il driver Nouveau di opensource). E' possibile leggere di pi\u00f9 sull'accelerazione video hardware qui e in generale sull'argomento qui</p> <p>(fonte)</p>"},{"location":"Altre-Guide/amd/#requisiti","title":"Requisiti","text":"<p>Installare i pacchetti richiesti prima di eseguire lo script con:</p> <pre><code>sudo pacman -S --needed base-devel git \n</code></pre>"},{"location":"Altre-Guide/amd/#utilizzo","title":"Utilizzo","text":"<p>Clonare questo repository quindi eseguire lo script:</p> <pre><code>git clone https://gitlab.com/th3bucch/manjaro-mesa-codecs.git\ncd manjaro-mesa-codecs\n./manjaro-mesa-codecs.sh\n</code></pre>"},{"location":"Altre-Guide/amd/#suggerimenti","title":"Suggerimenti","text":"<p>Il modo pi\u00f9 semplice per eseguire questo script ovunque nel sistema \u00e8 di creare un link simbolico ad una delle directory incluse nella variabile globale <code>$PATH</code> (ad es. <code>~/.local/bin</code>). Verificare le directory disponibili con <code>echo $PATH</code>.</p> <p>Eseguire il comando: <pre><code>cd manjaro-mesa-codecs\nln -s $(pwd)/manjaro-mesa-codecs.sh /home/$USER/.local/bin/manjaro-mesa-codecs\n</code></pre></p> <p>lo script sar\u00e0 disponibile a livello di sistema con il comando: <pre><code>manjaro-mesa-codecs\n</code></pre></p>"},{"location":"Altre-Guide/amd/#pacman-hook","title":"Pacman HOOK","text":"<p>Da fare</p>"},{"location":"Altre-Guide/amd/#risoluzione-dei-problemi","title":"Risoluzione dei problemi","text":"<p>Se <code>pacman</code> non riesce a verificare il pacchetto di codice sorgente restituendo il messaggio \"unknown public key key-id\", copiare l'ID della chiave fornita e importarla con: <pre><code>gpg --recv-keys &lt;key-id&gt;\n</code></pre> </p>"},{"location":"Altre-Guide/amd/#english","title":"english","text":"<p>A simple script to re-compile the <code>mesa</code> package in order to enable hardware acceleration for proprietary codecs (i.e H.264 and H.265). You shouldn't need to run this script if you don't have installed an AMD graphic card on your system!</p>"},{"location":"Altre-Guide/amd/#background-info_1","title":"Background info","text":"<p>Since december 2022 the Manjaro Linux Team has followed Fedora and openSUSE decision to disable proprietary codecs in the mesa package redistributed in their repository:</p> <p>Mesa is now at 22.2.4    includes a notable change which disables hardware acceleration for proprietary video codecs (most commonly H.264 and H.265) when using the Mesa drivers stack.    Open video codecs (VP8, VP9, AV1 - based on your hardware capabilities) are unaffected and can still be hardware-accelerated out of the box.    This change mainly affects AMD graphics cards. (Intel GPUs don\u2019t use Mesa for video acceleration, Nvidia cards use the proprietary driver, and Mesa video acceleration mostly doesn\u2019t work properly with the opensource Nouveau driver) you can read more about hardware video acceleration here and about that topic in general here</p> <p>(source)</p>"},{"location":"Altre-Guide/amd/#requirements","title":"Requirements","text":"<p>Install required packages before running the script with:</p> <pre><code>sudo pacman -S --needed base-devel git \n</code></pre>"},{"location":"Altre-Guide/amd/#usage","title":"Usage","text":"<p>Clone this repository then run the script:</p> <pre><code>git clone https://gitlab.com/th3bucch/manjaro-mesa-codecs.git\ncd manjaro-mesa-codecs\n./manjaro-mesa-codecs.sh\n</code></pre>"},{"location":"Altre-Guide/amd/#tips","title":"Tips","text":"<p>Easiest way to run this script from everywhere on the system is to symlink it to one of the directories included in the <code>$PATH</code> global variable (i.e. <code>~/.local/bin</code>). Check which directories are inclued using <code>echo $PATH</code>.</p> <p><code>cd</code> inside the cloned repository then run: <pre><code>ln -s $(pwd)/manjaro-mesa-codecs.sh /home/$USER/.local/bin/manjaro-mesa-codecs\n</code></pre></p> <p>the script will be available systemwide for your user with the command: <pre><code>manjaro-mesa-codecs\n</code></pre></p>"},{"location":"Altre-Guide/amd/#pacman-hook_1","title":"Pacman HOOK","text":"<p>TBD</p>"},{"location":"Altre-Guide/amd/#troubleshooting","title":"Troubleshooting","text":"<p>If <code>pacman</code> cannot verify the source code package returning <code>unknown public key *key-id*</code> message, just copy the provided key-id and import that with: <pre><code>gpg --recv-keys &lt;key-id&gt;\n</code></pre></p>"},{"location":"Altre-Guide/aur/","title":"AUR","text":"<p>ArchLinux \u00e8 una distribuzione Linux nota per la sua architettura modulare e snella, adatta ad utenti avanzati. Uno dei suoi punti di forza \u00e8 la vastissima disponibilit\u00e0 di pacchetti disponibili tramite il sistema di gestione dei pacchetti Pacman. Tuttavia, non tutti i pacchetti sono presenti nei repository ufficiali e, in questi casi, gli utenti possono utilizzare l'AUR (Arch User Repository), una collezione di pacchetti creati e mantenuti dalla comunit\u00e0 degli utenti di ArchLinux. </p> <p>Gli utenti sono in grado di compilare i pacchetti AUR in modo da poterli installare sul proprio sistema. Qui di seguito una descrizione completa e approfondita su come questo processo sia in grado di funzionare.</p> <p>Step 1: Installazione del pacchetto base-devel</p> <p>Per compilare i pacchetti AUR su ArchLinux, \u00e8 necessario installare il pacchetto base-devel, che contiene tutti gli strumenti necessari per la compilazione. Per farlo, eseguire il seguente comando da terminale:</p> <pre><code>sudo pacman -S base-devel\n</code></pre> <p>Questo installer\u00e0 tutti i pacchetti necessari per la compilazione, inclusi gli strumenti di base del compilatore (pacchetti come automake, autoconf, gcc, binutils, etc).</p> <p>Step 2: Scaricare il pacchetto AUR tramite Git</p> <p>Per accedere al pacchetto AUR, \u00e8 necessario scaricare il file PKGBUILD. Questo definisce come il pacchetto deve essere compilato ed installato sul sistema. Il modo pi\u00f9 semplice per farlo \u00e8 utilizzare il software di gestione dei pacchetti AUR, ovvero git.</p> <p>Per prima cosa, \u00e8 necessario installare git. Per farlo, digitare il seguente comando da terminale:</p> <pre><code>sudo pacman -S git\n</code></pre> <p>Una volta installato, \u00e8 possibile scaricare i pacchetti AUR con il seguente comando:</p> <pre><code>git clone https://aur.archlinux.org/nomepacchetto.git\n</code></pre> <p>Ricordati di sostituire nomepacchetto con il nome del pacchetto che si vuole scaricare.</p> <p>Step 3: Compilare il pacchetto AUR</p> <p>Dopo aver scaricato il file PKGBUILD, \u00e8 possibile compilare il pacchetto. Per farlo, navigare nella cartella del pacchetto AUR, dove \u00e8 stato scaricato il file PKGBUILD. </p> <p>Dopo essere entrati nella directory della cartella del pacchetto, eseguire il comando:</p> <pre><code>makepkg -s\n</code></pre> <p>Questa opzione indica a makepkg di installare tutte le dipendenze necessarie al momento della compilazione. Le dipendenze verranno ricercate dai repository ufficiali e dal AUR.</p> <p>Il processo di compilazione avr\u00e0 inizio automaticamente. Questo potrebbe richiedere un po' di tempo, a seconda delle dimensioni e della complessit\u00e0 del pacchetto.</p> <p>Alla fine della compilazione, verr\u00e0 creato un pacchetto installabile con estensione .pkg.tar.xz.</p> <p>Step 4: Installare il pacchetto AUR</p> <p>Una volta terminata la compilazione, sar\u00e0 possibile installare il pacchetto tramite il seguente comando:</p> <pre><code>sudo pacman -U nomepacchetto.pkg.tar.xz\n</code></pre> <p>Dove nuevamente nomepacchetto dovr\u00e0 essere sostituito dal nome del pacchetto generato dal comando makepkg.</p> <p>Esempi di compilazione pacchetto AUR</p> <p>Per dare un esempio di compilazione di un pacchetto AUR, consideriamo il pacchetto Clean.</p> <ol> <li> <p>Installa il pacchetto base-devel come indicato in precedenza.</p> </li> <li> <p>Installa git con il comando:</p> </li> </ol> <pre><code>sudo pacman -S git\n</code></pre> <ol> <li>Scarica il pacchetto Clean tramite Git utilizzando il comando:</li> </ol> <pre><code>git clone https://aur.archlinux.org/clean.git\n</code></pre> <ol> <li>Accedi alla directory del pacchetto clean.</li> </ol> <pre><code>cd clean\n</code></pre> <ol> <li>Compilazione del pacchetto </li> </ol> <pre><code>makepkg -s\n</code></pre> <ol> <li>Installazione del pacchetto </li> </ol> <pre><code>sudo pacman -U clean*.pkg.tar.xz\n</code></pre> <p>Questi sono i passaggi necessari per compilare e installare con successo il pacchetto Flameshot. Questo esempio pu\u00f2 essere utilizzato come riferimento per la compilazione di altri pacchetti AUR.</p>"},{"location":"Altre-Guide/comandi-linux/","title":"Comandi per gli Utenti Linux","text":"<p>In questo capitolo imparerete i comandi di Linux e come utilizzarli.</p>"},{"location":"Altre-Guide/comandi-linux/#generalita","title":"Generalit\u00e0","text":"<p>I sistemi Linux attuali hanno utilit\u00e0 grafiche dedicate al lavoro di un amministratore. Tuttavia, \u00e8 importante essere in grado di utilizzare l'interfaccia in modalit\u00e0 riga di comando per diversi motivi:</p> <ul> <li>La maggior parte dei comandi di sistema sono comuni a tutte le distribuzioni Linux, questo non \u00e8 il caso degli strumenti grafici.</li> <li>Pu\u00f2 accadere che il sistema non si avvii correttamente ma che un interprete di comando di backup rimanga accessibile.</li> <li>L'amministrazione remota viene eseguita dalla riga di comando con un terminale SSH.</li> <li>Per preservare le risorse del server, l'interfaccia grafica \u00e8 installata o lanciata su richiesta.</li> <li>L'amministrazione \u00e8 eseguita da scripts.</li> </ul> <p>L'apprendimento di questi comandi consente all'amministratore di connettersi a un terminale Linux, di gestirne le risorse e i file, di identificare la stazione, il terminale e gli utenti collegati, ecc.</p>"},{"location":"Altre-Guide/comandi-linux/#gli-utenti","title":"Gli utenti","text":"<p>L'utente di un sistema Linux \u00e8 definito nel file <code>/etc/passwd</code>, da:</p> <ul> <li>Un nome di login, o pi\u00f9 comunemente chiamato \"login\", che non pu\u00f2 contenere spazi.</li> <li>Un identificatore numerico: UID (User Identifier).</li> <li>Un identificatore di gruppo: GID (Group Identifier).</li> <li>Un interprete di comandi, ad esempio una shell, che pu\u00f2 essere diversa da un utente all'altro.</li> <li>Una directory di connessione, ad esempio la directory home.</li> </ul> <p>In altri file l'utente sar\u00e0 definito da:</p> <ul> <li>Una password, che verr\u00e0 crittografata prima di essere memorizzata (<code>/etc/shadow</code>).</li> <li>Un prompt dei comandi, o prompt login, che sar\u00e0 simboleggiato da un <code>#</code> per gli amministratori e da un <code>$</code> per gli altri utenti (<code>/etc/profile</code>).</li> </ul> <p>Il comando <code>passwd</code> \u00e8 un comando di sistema utilizzato per modificare la password dell'utente corrente o di un altro utente specificato. L'utente che utilizza il comando deve avere i privilegi di amministratore per poter modificare la password di un altro utente. Il comando passwd richieder\u00e0 all'utente di inserire la vecchia password e quindi di inserire e confermare la nuova password. La password inserita non verr\u00e0 mostrata sullo schermo per motivi di sicurezza.</p> <p>A seconda della politica di sicurezza implementata sul sistema, la password dovr\u00e0 contenere un certo numero di caratteri e soddisfare determinati requisiti di complessit\u00e0.</p> <p>Tra gli interpreti di comando esistenti, la Bourne-Again Shell (<code>/bin/bash</code>) \u00e8 quella utilizzata pi\u00f9 frequentemente. \u00c8 assegnata per impostazione predefinita ai nuovi utenti. Per vari motivi, gli utenti avanzati di Linux possono scegliere shell alternative tra la Korn Shell (<code>ksh</code>), la C Shell (<code>csh</code>), etc.</p> <p>La directory di accesso dell'utente \u00e8 per convenzione memorizzata nella directory <code>/home</code> della workstation. Conterr\u00e0 i dati personali dell'utente e i file di configurazione delle sue applicazioni. Per impostazione predefinita, al login, la directory di accesso \u00e8 selezionata come directory corrente.</p> <p>Un'installazione di tipo workstation (con interfaccia grafica) avvia questa interfaccia sul terminale 1. Essendo Linux multiutente, \u00e8 possibile connettere pi\u00f9 utenti pi\u00f9 volte, su diversi terminali fisici (TTY) o terminali virtuali (PTS). I terminali virtuali sono disponibili all'interno di un ambiente grafico. Un utente passa da un terminale fisico ad un altro usando Alt + Fx dalla riga di comando o utilizzando CTRL + Alt + Fx in modalit\u00e0 grafica.</p>"},{"location":"Altre-Guide/comandi-linux/#la-shell","title":"La shell","text":"<p>Una volta che l'utente \u00e8 collegato a una console, la shell visualizza il prompt dei comandi. Si comporta quindi come un ciclo infinito, ripetendo lo stesso schema a ogni istruzione inserita:</p> <ul> <li>Visualizza il prompt dei comandi.</li> <li>Lettura del comando.</li> <li>Analisi della sintassi.</li> <li>Sostituzione di caratteri speciali.</li> <li>Esecuzione del comando.</li> <li>Visualizza il prompt dei comandi.</li> <li>etc.</li> </ul> <p>La sequenza chiave CTRL + C \u00e8 usata per interrompere un comando in esecuzione.</p> <p>L'uso di un comando segue generalmente questa sequenza:</p> <pre><code>comando [opzione(i)] [argomento(i)]\n</code></pre> <p>Il nome del comando \u00e8 spesso in minuscolo.</p> <p>Uno spazio separa ogni oggetto.</p> <p>Le opzioni abbreviate iniziano con un trattino (<code>-l</code>), mentre le opzioni lunghe iniziano con due trattini (<code>--list</code>). Un doppio trattino (<code>--</code>) indica la fine dell'elenco delle opzioni.</p> <p>\u00c8 possibile raggruppare alcune opzioni brevi insieme:</p> <pre><code>$ ls -l -i -a\n</code></pre> <p>\u00e8 equivalente a:</p> <pre><code>$ ls -lia\n</code></pre> <p>Dopo un'opzione possono esserci pi\u00f9 argomenti:</p> <pre><code>$ ls -lia /etc /home /var\n</code></pre> <p>In letteratura, il termine \"opzione\" \u00e8 equivalente al termine \"parametro,\" che \u00e8 pi\u00f9 comunemente usato nella programmazione. Il lato opzionale di un'opzione o argomento \u00e8 simboleggiata dall'inclusione in parentesi quadre <code>[</code> e <code>]</code>. Quando \u00e8 possibile pi\u00f9 di un'opzione, Una barra verticale chiamata \"pipe\" li separa <code>[a|e|i]</code>.</p>"},{"location":"Altre-Guide/comandi-linux/#comandi-generali","title":"Comandi generali","text":""},{"location":"Altre-Guide/comandi-linux/#comandi-apropos-whatis-e-man","title":"comandi <code>apropos</code>, <code>whatis</code> e <code>man</code>","text":"<p>\u00c8 impossibile per un amministratore a qualsiasi livello conoscere tutti i comandi e le opzioni in dettaglio. Solitamente \u00e8 disponibile un manuale per tutti i comandi installati.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-apropos","title":"comando <code>apropos</code>","text":"<p>Il comando <code>apropos</code> ti consente di cercare per parola chiave all'interno di queste pagine dei manuali:</p> Opzioni Descrizione <code>-s</code>, <code>--sections list</code> o <code>--section list</code> Limitato alle sezioni dei manuali. <code>-a</code> o <code>--and</code> Visualizza solo la voce corrispondente a tutte le parole chiave fornite. <p>Esempio:</p> <pre><code>$ apropos clear\nclear (1)            - clear the terminal screen\nclear_console (1)    - clear the console\nclearenv (3)         - clear the environment\nclearerr (3)         - check and reset stream status\nclearerr_unlocked (3) - nonlocking stdio functions\nfeclearexcept (3)    - floating-point rounding and exception handling\nfwup_clear_status (3) - library to support management of system firmware updates\nklogctl (3)          - read and/or clear kernel message ring buffer; set console_loglevel\nsgt-samegame (6)     - block-clearing puzzle\nsyslog (2)           - read and/or clear kernel message ring buffer; set console_loglevel\ntimerclear (3)       - timeval operations\nXClearArea (3)       - clear area or window\nXClearWindow (3)     - clear area or window\nXSelectionClearEvent (3) - SelectionClear event structure\n</code></pre> <p>Per trovare il comando che consentir\u00e0 di cambiare la password di un account:</p> <pre><code>$ apropos --exact password  -a change\nchage (1)            - change user password expiry information\npasswd (1)           - change user password\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-whatis","title":"comando <code>whatis</code>","text":"<p>Il comando <code>whatis</code> visualizza la descrizione del comando passata come argomento:</p> <pre><code>whatis clear\n</code></pre> <p>Esempio:</p> <pre><code>$ whatis clear\nclear (1)            - clear the terminal screen\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-man","title":"comando <code>man</code>","text":"<p>Una volta trovato con <code>apropos</code> o <code>whatis</code>, il manuale \u00e8 letto da <code>man</code> (\"Man \u00e8 tuo amico\"). Questo set di manuali \u00e8 diviso in 8 sezioni, raggruppando le informazioni per argomento, la sezione predefinita \u00e8 la 1:</p> <ol> <li>Programmi o comandi eseguibili.</li> <li>Chiamate di sistema (funzioni date dal kernel).</li> <li>Chiamate di libreria (funzioni date dalla libreria).</li> <li>File speciali (di solito si trovano in /dev).</li> <li>Formati di file e convenzioni (file di configurazione come etc/passwd).</li> <li>Giochi (come le applicazioni basate sui personaggi).</li> <li>Varie (es. man (7)).</li> <li>Comandi di amministrazione del sistema (di solito solo per root).</li> <li>Routine del Kernel (non standard).</li> </ol> <p>\u00c8 possibile accedere alle informazioni su ciascuna sezione digitando <code>man x intro</code>, dove <code>x</code> \u00e8 il numero della sezione.</p> <p>Il comando:</p> <pre><code>man passwd\n</code></pre> <p>dir\u00e0 all'amministratore le opzioni, etc, del comando passwd. Mentre:</p> <pre><code>$ man 5 passwd\n</code></pre> <p>lo informer\u00e0 sui file relativi al comando.</p> <p>Navigare nel manuale con le frecce \u2191 e \u2193. Uscire dal manuale premendo il tasto q.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-shutdown","title":"comando <code>shutdown</code>","text":"<p>Il comando <code>shutdown</code> consente di spegnere elettronicamente un server Linux, immediatamente o dopo un certo periodo di tempo.</p> <pre><code>shutdown [-h] [-r] time [message]\n</code></pre> <p>Specificare l'ora di spegnimento nel formato <code>hh:mm</code> per un'ora precisa, o <code>+mm</code> per un ritardo in minuti.</p> <p>Per forzare un arresto immediato, usa la parola <code>now</code> al posto del tempo. In questo caso, il messaggio opzionale non viene inviato agli altri utenti del sistema.</p> <p>Esempi:</p> <pre><code>[root]# shutdown -h 0:30 \"Server shutdown at 0:30\"\n[root]# shutdown -r +5\n</code></pre> <p>Opzioni:</p> Opzioni Osservazioni <code>-h</code> Arresta il sistema elettronicamente. <code>-r</code> Riavvia il sistema."},{"location":"Altre-Guide/comandi-linux/#comando-history","title":"comando <code>history</code>","text":"<p>Il comando <code>history</code> visualizza la cronologia dei comandi inseriti dall'utente.</p> <p>I comandi sono memorizzati nel file <code>.bash_history</code> nella directory di accesso dell'utente.</p> <p>Esempio di un comando history</p> <pre><code>$ history\n147 man ls\n148 man history\n</code></pre> Opzioni Commenti <code>-w</code> Scrive la cronologia corrente nel file della cronologia <code>-c</code> Cancella la cronologia della sessione corrente (ma non il contenuto del file <code>.bash_history</code>). <ul> <li>Manipolazione della cronologia:</li> </ul> <p>Per manipolare la history, i seguenti comandi immessi dal prompt dei comandi permetteranno di:</p> Chiavi Funzione !! Richiama l'ultimo comando eseguito. !n Richiama il comando per il suo numero nell'elenco. !string Richiama il comando pi\u00f9 recente che inizia con la stringa. \u2191 Naviga nella cronologia andando indietro nel tempo a partire dal comando pi\u00f9 recente. \u2193 Naviga nella cronologia andando avanti nel tempo."},{"location":"Altre-Guide/comandi-linux/#autocompletamento","title":"Autocompletamento","text":"<p>Il completamento automatico \u00e8 di grande aiuto.</p> <ul> <li>Completa i comandi, i percorsi inseriti o i nomi dei file.</li> <li>Una pressione del tasto TAB completa la voce nel caso di una soluzione singola.</li> <li>Nel caso di pi\u00f9 soluzioni, premere TAB una seconda volta per visualizzare le opzioni.</li> </ul> <p>Se premendo due volte il tasto TAB non vengono presentate opzioni, non c'\u00e8 soluzione al completamento attuale.</p>"},{"location":"Altre-Guide/comandi-linux/#visualizzazione-e-identificazione","title":"Visualizzazione e Identificazione","text":""},{"location":"Altre-Guide/comandi-linux/#commando-clear","title":"commando <code>clear</code>","text":"<p>Il comando <code>clear</code> cancella il contenuto della schermata del terminale. Pi\u00f9 precisamente, sposta la visualizzazione in modo che il prompt dei comandi si trovi in cima allo schermo, sulla prima riga.</p> <p>Su un terminale fisico, il display sar\u00e0 permanentemente nascosto, mentre in un'interfaccia grafica, una barra di scorrimento permetter\u00e0 di tornare indietro nella cronologia del terminale virtuale.</p> <p>Suggerimento</p> <p>CTRL + L avr\u00e0 lo stesso effetto del comando <code>clear</code></p>"},{"location":"Altre-Guide/comandi-linux/#comando-echo","title":"comando <code>echo</code>","text":"<p>Il comando <code>echo</code> \u00e8 usato per visualizzare una stringa di caratteri.</p> <p>Questo comando \u00e8 pi\u00f9 comunemente usato negli script amministrativi per informare l'utente durante l'esecuzione.</p> <p>L'opzione <code>-n</code> indica nessuna stringa di output newline (di default, stringa di output newline).</p> <pre><code>shell &gt; echo -n \"123\";echo \"456\"\n123456\n\nshell &gt; echo \"123\";echo \"456\"\n123\n456\n</code></pre> <p>Per vari motivi, allo sviluppatore dello script potrebbe essere necessario utilizzare sequenze speciali (a partire da un carattere <code>\\</code>). In questo caso, sara usata l'opzione <code>-e</code>, che consentir\u00e0 l'interpretazione della sequenza.</p> <p>Tra le sequenze usate frequentemente, possiamo menzionare:</p> Sequenza Risultato <code>\\a</code> Invia un bip sonoro <code>\\b</code> Indietro <code>\\n</code> Aggiunge una interruzione di linea <code>\\t</code> Aggiunge un tab orizzontale <code>\\v</code> Aggiunge un tab verticale"},{"location":"Altre-Guide/comandi-linux/#comando-date","title":"comando <code>date</code>","text":"<p>Il comando <code>date</code> visualizza la data e l'ora. Il comando ha la seguente sintassi:</p> <pre><code>date [-d yyyyMMdd] [format]\n</code></pre> <p>Esempi:</p> <pre><code>$ date\nMon May 24 16:46:53 CEST 2021\n$ date -d 20210517 +%j\n137\n</code></pre> <p>In quest'ultimo esempio, l'opzione <code>-d</code> visualizza una determinata data. L'opzione <code>+%j</code> formatta questa data per mostrare solo il giorno dell'anno.</p> <p>Attenzione</p> <p>Il formato di una data pu\u00f2 cambiare in base al valore della lingua definito nella variabile ambientale '$LANG'.</p> <p>La visualizzazione della data pu\u00f2 seguire i seguenti formati:</p> Opzione Formato <code>+%A</code> Nome completo del giorno della settimana della localit\u00e0 (ad esempio, Domenica) <code>+%B</code> Nome completo del mese della localit\u00e0 (ad esempio, Gennaio) <code>+%c</code> Data e ora di Locale (ad esempio, Gio Mar 3 23:05:25 2005) <code>+%d</code> Giorno del mese (ad es. 01) <code>+%F</code> Data nel formato <code>YYYY-MM-DD</code> <code>+%G</code> Anno <code>+%H</code> Ora (00..23) <code>+%j</code> Giorno dell'anno (001..366) <code>+%m</code> Numero del mese (01..12) <code>+%M</code> Minuto (00..59) <code>+%R</code> Tempo nel formato <code>hh:mm</code> <code>+%s</code> Secondi dal 1\u00b0 gennaio 1970 <code>+%S</code> Secondo (00..60) <code>+%T</code> Tempo nel formato <code>hh:mm:ss</code> <code>+%u</code> Giorno della settimana (<code>1</code> per Luned\u00ec) <code>+%V</code> Numero della settimana (<code>+%V</code>) <code>+%x</code> Data nel formato <code>GG/MM/AAAA</code> <p>Il comando <code>date</code> consente anche di modificare la data e l'ora del sistema. In questo caso, verr\u00e0 utilizzata l'opzione <code>-s</code>.</p> <pre><code>[root]# date -s \"2021-05-24 10:19\"\n</code></pre> <p>Il formato da utilizzare usando l'opzione <code>-s</code> \u00e8 il seguente:</p> <pre><code>date -s \"yyyy-MM-dd hh:mm[:ss]\"\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-id-who-e-whoami","title":"comando <code>id</code>, <code>who</code> e <code>whoami</code>","text":"<p>Il comando <code>id</code> viene utilizzato per visualizzare informazioni su utenti e gruppi. Per impostazione predefinita, non viene aggiunto alcun parametro utente e vengono visualizzate le informazioni dell'utente e del gruppo attualmente connessi\u3002</p> <pre><code>$ id architalia\nuid=1000(architalia) gid=1000(architalia) groups=1000(architalia),10(wheel)\n</code></pre> <p>Le opzioni <code>-g</code>, <code>-G</code>, <code>-n</code> e <code>-u</code> visualizzano il gruppo principale GID, sottogruppo GIDs, nomi al posto di identificatori numerici, e l'UID dell'utente.</p> <p>Il comando <code>whoami</code> visualizza il login dell'utente corrente.</p> <p>Il solo comando <code>who</code> visualizza i nomi degli utenti connessi:</p> <pre><code>$ who\narchitalia tty1   2021-05-24 10:30\nroot     pts/0  2021-05-24 10:31\n</code></pre> <p>Dal momento che Linux \u00e8 multi-utente, \u00e8 possibile che pi\u00f9 sessioni siano aperte sulla stessa stazione, sia fisicamente che attraverso la rete. \u00c8 interessante sapere quali utenti sono connessi, se non solo per comunicare con loro inviando messaggi.</p> <ul> <li>tty: rappresenta un terminale.</li> <li>pts/: rappresenta una console virtuale in un ambiente grafico con il numero dopo aver rappresentato l'istanza della console virtuale (0, 1, 2...)</li> </ul> <p>L'opzione <code>-r</code> visualizza anche il runlevel (vedi capitolo \"startup\").</p>"},{"location":"Altre-Guide/comandi-linux/#albero-dei-file","title":"Albero Dei File","text":"<p>In Linux, l'albero dei file \u00e8 un albero invertito, chiamato albero gerarchico singolo, la cui radice \u00e8 la directory <code>/</code>.</p> <p>La directory corrente \u00e8 la directory in cui si trova l'utente.</p> <p>La directory di connessione \u00e8 la directory di lavoro associata all'utente. Le directory di accesso sono, per impostazione predefinita, memorizzate nella directory <code>/home</code>.</p> <p>Quando l'utente accede, la directory corrente \u00e8 la directory di accesso.</p> <p>Un percorso assoluto fa riferimento ad un file dalla radice attraversando l'intero albero fino al livello del file:</p> <ul> <li><code>/home/groupA/alice/file</code></li> </ul> <p>Un percorso relativo fa riferimento allo stesso file attraversando l'intero albero dalla directory corrente:</p> <ul> <li><code>../alice/file</code></li> </ul> <p>Nell'esempio sopra, il \"<code>..</code> \" si riferisce alla directory principale della directory corrente.</p> <p>Una directory, anche se \u00e8 vuota, conterr\u00e0 necessariamente almeno due riferimenti:</p> <ul> <li><code>.</code>: riferimento a se stessa.</li> <li><code>..</code>: riferimento alla directory principale della directory corrente.</li> </ul> <p>Un percorso relativo pu\u00f2 quindi iniziare con <code>./</code> o <code>../</code>. Quando il percorso relativo si riferisce a una sottodirectory o ad un file nella directory corrente, il <code>./</code> \u00e8 spesso omesso. L'inserimento del riferimento <code>./</code> sar\u00e0 veramente richiesto solo per l'esecuzione di un file eseguibile.</p> <p>Gli errori nei percorsi possono causare molti problemi: dalla creazione di cartelle o file nei luoghi sbagliati, alle eliminazioni involontarie, ecc. \u00c8 quindi fortemente raccomandato di utilizzare il completamento automatico quando si immettono i percorsi.</p> <p></p> <p>Nell'esempio precedente, si vuole fornire la posizione del file <code>myfile</code> dalla directory di bob.</p> <ul> <li>In un percorso assoluto, la directory corrente non ha importanza. Iniziamo dalla radice e scendiamo fino alle directory <code>home</code>, <code>groupA</code>, <code>alice</code> e infine il file <code>myfile</code>: <code>/home/groupA/alice/myfile</code>.</li> <li>In un percorso relativo, il nostro punto di partenza \u00e8 la directory corrente <code>bob</code>, saliamo di un livello con <code>..</code> (i.e., nella directpry <code>groupA</code>), poi gi\u00f9 nella directory di alice, e infine il file <code>myfile</code>: <code>../alice/myfile</code>.</li> </ul>"},{"location":"Altre-Guide/comandi-linux/#comando-pwd","title":"comando <code>pwd</code>","text":"<p>Il comando <code>pwd</code> (Print Working Directory) visualizza il percorso assoluto della directory corrente.</p> <pre><code>$ pwd\n/home/architalia\n</code></pre> <p>Per utilizzare un percorso relativo per fare riferimento a un file o a una directory, o per usare il comando <code>cd</code> per spostarsi in un'altra directory, \u00e8 necessario conoscere la sua posizione nell'albero dei file.</p> <p>A seconda del tipo di shell e dei diversi parametri del suo file di configurazione, il prompt del terminale (noto anche come prompt dei comandi) visualizzer\u00e0 il percorso assoluto o relativo della directory corrente.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-cd","title":"comando <code>cd</code>","text":"<p>Il comando <code>cd</code> (Cambia Directory) ti permette di cambiare la directory corrente -- in altre parole, di spostarti attraverso l'albero.</p> <pre><code>$ cd /tmp\n$ pwd\n/tmp\n$ cd ../\n$ pwd\n/\n$ cd\n$ pwd\n/home/architalia\n</code></pre> <p>Come puoi vedere nell'ultimo esempio sopra, il comando <code>cd</code> senza argomenti sposta la directory corrente alla <code>home directory</code>.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-ls","title":"comando <code>ls</code>","text":"<p>Il comando <code>ls</code> visualizza il contenuto di una directory.</p> <pre><code>ls [-a] [-i] [-l] [directory1] [directory2] [\u2026]\n</code></pre> <p>Esempio:</p> <pre><code>$ ls /home\n.    ..    architalia\n</code></pre> <p>Le opzioni principali del comando <code>ls</code> sono:</p> Opzione Informazione <code>-a</code> Visualizza tutti i file, anche quelli nascosti. I file nascosti in Linux sono quelli che iniziano con un <code>.</code>. <code>-i</code> Visualizza i numeri di inode. <code>-l</code> Utilizza un formato di elenco lungo, cio\u00e8 ogni riga visualizza informazioni di formato lungo per un file o una directory. <p>Il comando <code>ls</code>, tuttavia, ha molte opzioni (vedi <code>man</code>):</p> Opzione Informazione <code>-d</code> Visualizza le informazioni di una directory invece di elencare i suoi contenuti. <code>-g</code> Come l'opzione -l, ma non elenca il proprietario. <code>-h</code> Visualizza le dimensioni dei file nel formato pi\u00f9 appropriato (byte, kilobyte, megabyte, gigabyte, ...). <code>h</code> st\u00e0 per Human Readable. Deve essere utilizzato con l'opzione -l. <code>-s</code> Visualizza la dimensione assegnata di ogni file, in blocchi. Nel sistema operativo GNU/Linux, \"block\" \u00e8 l'unit\u00e0 di archiviazione pi\u00f9 piccola nel file system, un blocco \u00e8 uguale a 4096Byte. <code>-A</code> Visualizza tutti i file nella directory tranne <code>.</code> e <code>..</code> <code>-R</code> Visualizza il contenuto delle sottodirectory in modo ricorsivo. <code>-F</code> Visualizza il tipo di file. Stampa un<code>/</code> per una directory, <code>*</code> per gli eseguibili, <code>@</code> per un collegamento simbolico, e niente per un file di testo. <code>-X</code> Ordina i file in base alle loro estensioni. <ul> <li>Descrizione delle colonne generate dall'esecuzione del comando <code>ls -lia</code>:</li> </ul> <pre><code>$ ls -lia /home\n78489 drwx------ 4 architalia architalia 4096 25 oct. 08:10 architalia\n</code></pre> Valore Informazione <code>78489</code> Numero di inode. <code>drwx------</code> Tipo di file (<code>d</code>) e permessi (<code>rwx------</code>). <code>4</code> Numero di sottodirectory. (<code>.</code> e <code>..</code> incluse). Per un file, rappresenta il numero di collegamenti diretti e 1 rappresenta se stesso. <code>architalia</code> Propriet\u00e0 dell'utente. <code>architalia</code> Propriet\u00e0 del gruppo. <code>4096</code> Per i file, mostra la dimensione del file. Per le directory, mostra il valore fisso di 4096 byte occupati dal nome del file. Per calcolare la dimensione totale di una directory, usa <code>du -sh architalia/</code> <code>25 oct. 08:10</code> Ultima data di modifica. <code>architalia</code> Il nome del file (o directory). <p>Nota</p> <p>Gli Alias sono spesso gi\u00e0 posizionati nelle distribuzioni comuni.</p> <p>Questo \u00e8 il caso dell'alias <code>ll</code>:</p> <pre><code>alias ll='ls -l --color=auto'\n</code></pre> <p>Il comando <code>ls</code> ha molte opzioni. Ecco alcuni esempi avanzati di utilizzo:</p> <ul> <li>Elenca i file in <code>/etc</code> in base all'ultima modifica:</li> </ul> <pre><code>$ ls -ltr /etc\ntotal 1332\n-rw-r--r--.  1 root root    662 29 may   2021 logrotate.conf\n-rw-r--r--.  1 root root    272 17 may.   2021 mailcap\n-rw-------.  1 root root    122 12 may.  2021 securetty\n...\n-rw-r--r--.  2 root root     85 18 may.  17:04 resolv.conf\n-rw-r--r--.  1 root root     44 18 may.  17:04 adjtime\n-rw-r--r--.  1 root root    283 18 may.  17:05 mtab\n</code></pre> <ul> <li>Elenca i file <code>/var</code> di dimensioni superiori a 1 megabyte ma inferiori a 1 gigabyte. L'esempio qui riportato utilizza i comandi avanzati <code>grep</code> con le espressioni regolari. I novizi non devono lottare troppo, ci sar\u00e0 un tutorial speciale per introdurre queste espressioni regolari in futuro.</li> </ul> <pre><code>$ ls -lhR /var/ | grep ^\\- | grep -E \"[1-9]*\\.[0-9]*M\" \n...\n-rw-r--r--. 1 apache apache 1.2M 10 may.  13:02 XB RiyazBdIt.ttf\n-rw-r--r--. 1 apache apache 1.2M 10 may.  13:02 XB RiyazBd.ttf\n-rw-r--r--. 1 apache apache 1.1M 10 may.  13:02 XB RiyazIt.ttf\n...\n</code></pre> <p>Naturalmente, si consiglia vivamente di utilizzare il comando <code>find</code>.</p> <pre><code>$ find /var -size +1M -a -size -1024M -a -type f -exec ls -lh {} \\;\n</code></pre> <ul> <li>Mostra i permessi di una cartella:</li> </ul> <p>Per conoscere i permessi di una cartella, ad esempio <code>/etc</code>, il seguente comando non sarebbe appropriato:</p> <pre><code>$ ls -l /etc\ntotal 1332\n-rw-r--r--.  1 root root     44 18 nov.  17:04 adjtime\n-rw-r--r--.  1 root root   1512 12 janv.  2010 aliases\n-rw-r--r--.  1 root root  12288 17 nov.  17:41 aliases.db\ndrwxr-xr-x.  2 root root   4096 17 nov.  17:48 alternatives\n...\n</code></pre> <p>Il comando precedente visualizzer\u00e0 il contenuto della cartella (all'interno) per impostazione predefinita. Per la cartella stessa, \u00e8 possibile utilizzare l'opzione <code>-d</code>.</p> <pre><code>$ ls -ld /etc\ndrwxr-xr-x. 69 root root 4096 18 nov.  17:05 /etc\n</code></pre> <ul> <li>Ordina per dimensione del file, prima il pi\u00f9 grande:</li> </ul> <pre><code>$ ls -lhS\n</code></pre> <ul> <li>formato ora/data con <code>-l</code>:</li> </ul> <pre><code>$ ls -l --time-style=\"+%Y-%m-%d %m-%d %H:%M\" /\ntotal 12378\ndr-xr-xr-x. 2 root root 4096 2014-11-23 11-23 03:13 bin\ndr-xr-xr-x. 5 root root 1024 2014-11-23 11-23 05:29 boot\n</code></pre> <ul> <li>Aggiungere la barra trailing slash alla fine delle cartelle:</li> </ul> <p>Per impostazione predefinita, il comando <code>ls</code> non visualizza l'ultima slash di una cartella. In alcuni casi, come per gli script, ad esempio, \u00e8 utile visualizzarla:</p> <pre><code>$ ls -dF /etc\n/etc/\n</code></pre> <ul> <li>Nascondi alcune estensioni:</li> </ul> <pre><code>$ ls /etc --hide=*.conf\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-mkdir","title":"comando <code>mkdir</code>","text":"<p>Il comando <code>mkdir</code> crea una directory o un albero di directory.</p> <pre><code>mkdir [-p] directory [directory] [...]\n</code></pre> <p>Esempio:</p> <pre><code>$ mkdir /home/architalia/work\n</code></pre> <p>La directory \"architalia\" deve essere presente per creare la directory \"work\".</p> <p>Altrimenti, si deve usare l'opzione <code>-p</code>. L'opzione <code>-p</code> crea le directory genitore se queste non esistono.</p> <p>Pericolo</p> <p>Non \u00e8 consigliabile usare i nomi dei comandi Linux come directory o nomi di file.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-touch","title":"comando <code>touch</code>","text":"<p>Il comando <code>touch</code> modifica il timestamp di un file o crea un file vuoto se il file non esiste.</p> <pre><code>touch [-t date] file\n</code></pre> <p>Esempio:</p> <pre><code>$ touch /home/architalia/myfile\n</code></pre> Opzione Informazione <code>-t date</code> Cambia la data di ultima modifica del file con la data specificata. <p>Formato data: <code>[AAAA]MMJJhhmm[ss]</code></p> <p>Suggerimento</p> <p>Il comando <code>touch</code> \u00e8 usato principalmente per creare un file vuoto, ma pu\u00f2 essere utile, ad esempio, per i backup incrementali o differenziali. Infatti, l'unico effetto dell'esecuzione di un <code>touch</code> su un file sar\u00e0 quello di forzarne il salvataggio durante il backup successivo.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-rmdir","title":"comando <code>rmdir</code>","text":"<p>Il comando <code>rmdir</code> elimina una directory vuota.</p> <p>Esempio:</p> <pre><code>$ rmdir /home/architalia/work\n</code></pre> Opzione Informazione <code>-p</code> Rimuove la cartella genitore o le cartelle fornite, se sono vuote. <p>Suggerimento</p> <p>Per eliminare una cartella non vuota e il suo contenuto, utilizzare il comando <code>rm</code>.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-rm","title":"comando <code>rm</code>","text":"<p>Il comando <code>rm</code> elimina un file o una directory.</p> <pre><code>rm [-f] [-r] file [file] [...]\n</code></pre> <p>Pericolo</p> <p>Qualsiasi eliminazione di un file o directory \u00e8 definitiva.</p> Opzioni Informazione <code>-f</code> Non chiedere se eliminare. <code>-i</code> Chiedi se cancellare. <code>-r</code> Elimina una cartella e cancella ricorsivamente le sue sottocartelle. <p>Nota</p> <p>Il comando <code>rm</code> non chiede conferma quando si eliminano i file. Tuttavia, con una distribuzione arch/arch, <code>rm</code> chiede la conferma della cancellazione perch\u00e9 il comando <code>rm</code> \u00e8 un <code>alias</code> del comando <code>rm -i</code>. Non sorprenderti se su un'altra distribuzione, come Debian, ad esempio, non ottieni una richiesta di conferma.</p> <p>L'eliminazione di una cartella con il comando <code>rm</code>, sia che la cartella sia vuota o meno, richiede l'aggiunta dell'opzione <code>-r</code>.</p> <p>La fine delle opzioni \u00e8 segnalata alla shell da un doppio trattino <code>--</code>.</p> <p>Nell'esempio:</p> <pre><code>$ &gt;-hard-hard # To create an empty file called -hard-hard\nhard-hard\n[CTRL+C] To interrupt the creation of the file\n$ rm -f -- -hard-hard\n</code></pre> <p>Il nome del file hard-hard inizia con un <code>-</code>. Senza l'uso del <code>--</code> la shell avrebbe interpretato il <code>-d</code> in <code>-hard-hard</code> come un'opzione.</p>"},{"location":"Altre-Guide/comandi-linux/#command-mv","title":"command <code>mv</code>","text":"<p>Il comando <code>mv</code> muove e rinomina un file.</p> <pre><code>mv file [file ...] destination\n</code></pre> <p>Esempi:</p> <pre><code>$ mv /home/architalia/file1 /home/architalia/file2\n$ mv /home/architalia/file1 /home/architalia/file2 /tmp\n</code></pre> Opzioni Informazione <code>-f</code> Non chiedere conferma per la sovrascrittura del file di destinazione. <code>-i</code> Richiedere conferma per la sovrascrittura del file di destinazione (default). <p>Alcuni casi concreti ti aiuteranno a capire le difficolt\u00e0 che possono sorgere:</p> <pre><code>$ mv /home/architalia/file1 /home/architalia/file2\n</code></pre> <p>Rinomina <code>file1</code> in <code>file2</code>. Se <code>file2</code> esiste gi\u00e0, sostituisci il contenuto del file con <code>file1</code>.</p> <pre><code>$ mv /home/architalia/file1 /home/architalia/file2 /tmp\n</code></pre> <p>Sposta <code>file1</code> e <code>file2</code> nella cartella <code>/tmp</code>.</p> <pre><code>$ mv file1 /repexist/file2\n</code></pre> <p>Sposta <code>file1</code> in <code>repexist</code> e lo rinomina <code>file2</code>.</p> <pre><code>$ mv file1 file2\n</code></pre> <p><code>file1</code> \u00e8 rinominato con <code>file2</code>.</p> <pre><code>$ mv file1 /repexist\n</code></pre> <p>Se esiste la cartella di destinazione, <code>file1</code> viene spostato in <code>/repexist</code>.</p> <pre><code>$ mv file1 /wrongrep\n</code></pre> <p>Se la directory di destinazione non esiste, <code>file1</code> viene rinominato in <code>wrongrep</code> nella directory principale.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-cp","title":"comando <code>cp</code>","text":"<p>Il comando <code>cp</code> copia un file.</p> <pre><code>cp file [file ...] destination\n</code></pre> <p>Esempio:</p> <pre><code>$ cp -r /home/architalia /tmp\n</code></pre> Opzioni Informazione <code>-i</code> Richiesta di conferma per la sovrascrittura (default). <code>-f</code> Non chiedere conferma per la sovrascrittura del file di destinazione. <code>-p</code> Mantiene il proprietario, le autorizzazioni e il timestamp del file copiato. <code>-r</code> Copia una directory con i suoi file e sottodirectory. <code>-s</code> Crea un collegamento simbolico invece di copiare. <pre><code>cp file1 /repexist/file2\n</code></pre> <p><code>file1</code> viene copiato in <code>/repexist</code> con il nome <code>file2</code>.</p> <pre><code>$ cp file1 file2\n</code></pre> <p><code>file1</code> viene copiato come <code>file2</code> in questa cartella.</p> <pre><code>$ cp file1 /repexist\n</code></pre> <p>Se esiste la directory di destinazione, <code>file1</code> viene copiato in <code>/repexist</code>.</p> <pre><code>$ cp file1 /wrongrep\n</code></pre> <p>Se la directory di destinazione non esiste, <code>file1</code> \u00e8 copiato sotto il nome <code>wrongrep</code> nella directory principale.</p>"},{"location":"Altre-Guide/comandi-linux/#visualizzazione","title":"Visualizzazione","text":""},{"location":"Altre-Guide/comandi-linux/#comando-file","title":"comando <code>file</code>","text":"<p>Il comando <code>file</code> visualizza il tipo di un file.</p> <pre><code>file file1 [files]\n</code></pre> <p>Esempio:</p> <pre><code>$ file /etc/passwd /etc\n/etc/passwd:    ASCII text\n/etc:        directory\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-more","title":"comando <code>more</code>","text":"<p>Il comando <code>more</code> visualizza il contenuto di uno o pi\u00f9 file schermata per schermata.</p> <pre><code>more file1 [files]\n</code></pre> <p>Esempio:</p> <pre><code>$ more /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\n...\n</code></pre> <p>Usando il tasto ENTER, lo spostamento \u00e8 linea per linea. Usando il tasto SPACE, lo spostamento \u00e8 pagina per pagina. <code>/text</code> Ti consente di cercare la corrispondenza nel file.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-less","title":"comando <code>less</code>","text":"<p>Il comando <code>less</code> visualizza il contenuto di uno o pi\u00f9 file. Il comando <code>less</code> \u00e8 interattivo e ha i propri comandi per l'uso.</p> <pre><code>less file1 [files]\n</code></pre> <p>I comandi specifici per <code>less</code> sono:</p> Comando Azione h Aiuto. \u2191\u2193\u2192\u2190 Sposta su, gi\u00f9 di una linea, o a destra e sinistra. Invio Sposta gi\u00f9 di una riga. Spazio Sposta gi\u00f9 di una pagina. PgUp e PgDn Sposta su o gi\u00f9 di una pagina. gg e G Passa alla prima e all'ultima pagina <code>/text</code> Cerca il testo. q Chiude il comando<code>less</code>."},{"location":"Altre-Guide/comandi-linux/#comando-cat","title":"comando <code>cat</code>","text":"<p>Il comando <code>cat</code> concatena il contenuto di pi\u00f9 file e visualizza il risultato sull'output standard.</p> <pre><code>cat file1 [files]\n</code></pre> <p>Esempio 1 - Visualizzazione del contenuto di un file in output standard:</p> <pre><code>$ cat /etc/passwd\n</code></pre> <p>Esempio 2 - Visualizzazione del contenuto di pi\u00f9 file in output standard:</p> <pre><code>$ cat /etc/passwd /etc/group\n</code></pre> <p>Esempio 3 - Combinare il contenuto di pi\u00f9 file in un unico file utilizzando il reindirizzamento dell'output:</p> <pre><code>$ cat /etc/passwd /etc/group &gt; usersAndGroups.txt\n</code></pre> <p>Esempio 4 - Visualizzazione della numerazione di linea:</p> <pre><code>$ cat -n /etc/profile\n     1    # /etc/profile: system-wide .profile file for the Bourne shell (sh(1))\n2    # and Bourne compatible shells (bash(1), ksh(1), ash(1), ...).\n3\n4    if [ \"`id -u`\" -eq 0 ]; then\n5      PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n6    else\n\u2026\n</code></pre> <p>Example 5 - Mostra la numerazione delle righe non vuote:</p> <pre><code>$ cat -b /etc/profile\n     1    # /etc/profile: system-wide .profile file for the Bourne shell (sh(1))\n2    # and Bourne compatible shells (bash(1), ksh(1), ash(1), ...).\n\n3    if [ \"`id -u`\" -eq 0 ]; then\n4      PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n5    else\n\u2026\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-tac","title":"comando <code>tac</code>","text":"<p>Il comando <code>tac</code> fa quasi il contrario del comando <code>cat</code>. Visualizza il contenuto di un file a partire dalla fine (che \u00e8 particolarmente interessante per la lettura dei log!).</p> <p>Esempio: Visualizza un file di log visualizzando prima l'ultima riga:</p> <pre><code>[root]# tac /var/log/messages | less\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-head","title":"comando <code>head</code>","text":"<p>Il comando <code>head</code> visualizza l'inizio di un file.</p> <pre><code>head [-n x] file\n</code></pre> Opzione Descrizione <code>-n x</code> Visualizzare le prime <code>x</code> righe del file <p>Per impostazione predefinita (senza l'opzione <code>-n</code>), il comando <code>head</code> visualizzer\u00e0 le prime 10 righe del file.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-tail","title":"comando <code>tail</code>","text":"<p>Il comando <code>tail</code> visualizza la fine di un file.</p> <pre><code>tail [-f] [-n x] file\n</code></pre> Opzione Descrizione <code>-n x</code> Visualizza le ultime <code>x</code> righe del file <code>-f</code> Visualizza le modifiche al file in tempo reale <p>Esempio:</p> <pre><code>tail -n 3 /etc/passwd\nsshd:x:74:74:Privilege-separeted sshd:/var/empty /sshd:/sbin/nologin\ntcpdump::x:72:72::/:/sbin/nologin\nuser1:x:500:500:grp1:/home/user1:/bin/bash\n</code></pre> <p>Con l'opzione <code>-f</code>, le informazioni di modifica del file verranno sempre emesse a meno che l'utente non esca dallo stato di monitoraggio con CTRL + C. Questa opzione \u00e8 molto utilizzata per tracciare i file di log (i registri) in tempo reale.</p> <p>Senza l'opzione <code>-n</code>, il comando <code>tail</code> mostra le ultime 10 righe del file.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-sort","title":"comando <code>sort</code>","text":"<p>Il comando <code>sort</code> ordina le linee di un file.</p> <p>Permette di ordinare il risultato di un comando o il contenuto di un file in un determinato ordine, numerico, alfabetico, per dimensione (KB, MB, GB) o in ordine inverso.</p> <pre><code>sort [-k] [-n] [-u] [-o file] [-t] file\n</code></pre> <p>Esempio:</p> <pre><code>$ sort -k 3,4 -t \":\" -n /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\nadm:x:3:4:adm:/var/adm/:/sbin/nologin\n</code></pre> Opzione Descrizione <code>-k</code> Specifica le colonne da separare. \u00c8 possibile specificare pi\u00f9 colonne. <code>-n</code> Richiede un ordinamento numerico. <code>-o file</code> Salva l'ordinamento nel file specificato. <code>-t</code> Specificare un delimitatore, che richiede che i contenuti del file corrispondente siano contenuti di colonne regolarmente delimitate, altrimenti non possono essere ordinati correttamente. <code>-r</code> Inverte l'ordine del risultato. Usato insieme all'opzione <code>-n</code> per ordinare dal pi\u00f9 grande al pi\u00f9 piccolo. <code>-u</code> Rimuovi i duplicati dopo l'ordinamento. Equivalente a <code>sort file | uniq</code>. <p>Il comando <code>sort</code> ordina il file solo sullo schermo. Il file non \u00e8 modificato dall'ordinamento. Per salvare l'ordinamento, utilizzare l'opzione <code>-o</code> o un reindirizzamento dell'output <code>&gt;</code>.</p> <p>Per impostazione predefinita, i numeri sono ordinati in base al loro carattere. Pertanto, \"110\" sar\u00e0 prima di \"20\", che a sua volta sar\u00e0 prima di \"3\". L'opzione <code>-n</code> deve essere specificata in modo che i blocchi di caratteri numerici siano ordinati in base al loro valore.</p> <p>Il comando <code>sort</code> inverte l'ordine dei risultati, con l'opzione <code>-r</code>:</p> <pre><code>$ sort -k 3 -t \":\" -n -r /etc/passwd\nnobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin\nsystemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin\npolkitd:x:998:996:User for polkitd:/:/sbin/nologin\n</code></pre> <p>In questo esempio, il comando <code>sort</code> ordiner\u00e0 il contenuto del file <code>/etc/passwd</code> dal pi\u00f9 grande uid (identificatore utente) al pi\u00f9 piccolo.</p> <p>Alcuni esempi avanzati di utilizzazione del comando <code>sort</code>:</p> <ul> <li>Mischiando i valori</li> </ul> <p>Il comando <code>sort</code> permette anche di mescolare i valori con l'opzione <code>-R</code>:</p> <pre><code>$ sort -R /etc/passwd\n</code></pre> <ul> <li>Ordinamento degli indirizzi IP</li> </ul> <p>Un amministratore di sistema si trova ben presto di fronte all'elaborazione di indirizzi IP dai log dei suoi servizi, come SMTP, VSFTP o Apache. Questi indirizzi vengono tipicamente estratti con il comando <code>cut</code>.</p> <p>Ecco un esempio con il file <code>dns-client.txt</code>:</p> <pre><code>192.168.1.10\n192.168.1.200\n5.1.150.146\n208.128.150.98\n208.128.150.99\n</code></pre> <pre><code>$ sort -nr dns-client.txt\n208.128.150.99\n208.128.150.98\n192.168.1.200\n192.168.1.10\n5.1.150.146\n</code></pre> <ul> <li>Ordinamento dei file mediante la rimozione dei duplicati</li> </ul> <p>Il comando <code>sort</code> sa come rimuovere i duplicati dall'output del file utilizzando l'opzione <code>-u</code>.</p> <p>Ecco un esempio con il file <code>colours.txt</code>:</p> <p><pre><code>Red\nGreen\nBlue\nRed\nPink\n</code></pre> <pre><code>$ sort -u colours.txt\nBlue\nGreen\nPink\nRed\n</code></pre></p> <ul> <li>Ordinamento dei file in base alle dimensioni</li> </ul> <p>Il comando <code>sort</code> sa come riconoscere le dimensioni dei file, da comandi come <code>ls</code> con l'opzione <code>-h</code>.</p> <p>Ecco un esempio con il file <code>size.txt</code>:</p> <pre><code>1.7G\n18M\n69K\n2.4M\n1.2M\n4.2G\n6M\n124M\n12.4M\n4G\n</code></pre> <pre><code>$ sort -hr size.txt\n4.2G\n4G\n1.7G\n124M\n18M\n12.4M\n6M\n2.4M\n1.2M\n69K\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#comando-wc","title":"comando <code>wc</code>","text":"<p>Il comando <code>wc</code> conteggia il numero di righe, parole e/o byte di un file.</p> <pre><code>wc [-l] [-m] [-w] file [files]\n</code></pre> Opzione Descrizione <code>-c</code> Conta il numero di byte. <code>-m</code> Conta il numero di caratteri. <code>-l</code> Conta il numero di linee. <code>-w</code> Conta il numero di parole."},{"location":"Altre-Guide/comandi-linux/#ricerca","title":"Ricerca","text":""},{"location":"Altre-Guide/comandi-linux/#comando-find","title":"comando <code>find</code>","text":"<p>Il comando <code>find</code> cerca la posizione di file o cartelle.</p> <pre><code>find directory [-name name] [-type type] [-user login] [-date date]\n</code></pre> <p>Poich\u00e9 le opzioni del comando <code>find</code> sono numerose, \u00e8 meglio fare riferimento al comando <code>man</code>.</p> <p>Se la cartella di ricerca non \u00e8 specificata, il comando <code>find</code> effettuer\u00e0 la ricerca dalla cartella corrente.</p> Opzione Descrizione <code>-perm permissions</code> Cerca i file in base ai loro permessi. <code>-size size</code> Ricerca dei file in base alle dimensioni."},{"location":"Altre-Guide/comandi-linux/#opzione-exec-del-comando-find","title":"opzione <code>-exec</code> del comando <code>find</code>","text":"<p>\u00c8 possibile utilizzare l'opzione <code>-exec</code> del comando <code>find</code> per eseguire un comando su ogni riga del risultato:</p> <pre><code>$ find /tmp -name *.txt -exec rm -f {} \\;\n</code></pre> <p>Il comando precedente cerca tutti i file nella cartella <code>/tmp</code> denominati <code>*.txt</code> e li elimina.</p> <p>Comprendere l'opzione <code>-exec</code></p> <p>Nell'esempio precedente, il comando <code>find</code> costruir\u00e0 una stringa che rappresenta il comando da eseguire.</p> <p>Se il comando <code>find</code> trova tre file chiamati <code>log1.txt</code>, <code>log2.txt</code> e <code>log3.txt</code>, allora il comando <code>find</code> costruir\u00e0 la stringa sostituendo le parentesi nella stringa <code>rm -f {} \\;</code> con uno dei risultati della ricerca, e lo far\u00e0 tante volte quanti sono i risultati.</p> <p>Questo ci dar\u00e0:</p> <pre><code>rm -f /tmp/log1.txt ; rm -f /tmp/log2.txt ; rm -f /tmp/log3.txt ;\n</code></pre> <p>Il carattere <code>;</code> \u00e8 un carattere speciale della shell che deve essere protetto da <code>\\</code> per evitare che venga interpretato troppo presto dal comando <code>find</code> (e non nel <code>-exec</code>).</p> <p>Suggerimento</p> <p><code>$ find /tmp -name *.txt -delete</code> fa la stessa cosa.</p>"},{"location":"Altre-Guide/comandi-linux/#comando-whereis","title":"comando <code>whereis</code>","text":"<p>Il comando <code>whereis</code> ricerca i file relativi a un comando.</p> <pre><code>whereis [-b] [-m] [-s] command\n</code></pre> <p>Esempio:</p> <pre><code>$ whereis -b ls\nls: /bin/ls\n</code></pre> Opzione Descrizione <code>-b</code> Esegue la ricerca solo del file binario. <code>-m</code> Ricerca solo per le pagine man. <code>-s</code> Ricerca solo per file sorgente."},{"location":"Altre-Guide/comandi-linux/#command-grep","title":"command <code>grep</code>","text":"<p>Il comando <code>grep</code> cerca una stringa in un file.</p> <pre><code>grep [-w] [-i] [-v] \"string\" file\n</code></pre> <p>Esempio:</p> <pre><code>$ grep -w \"root:\" /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\n</code></pre> Opzione Descrizione <code>-i</code> Ignora le maiuscole della stringa cercata. <code>-v</code> Esclude le linee contenenti la stringa. <code>-w</code> Cerca la parola esatta. <p>Il comando <code>grep</code> restituisce la riga completa contenente la stringa cercata. * Il carattere speciale <code>^</code> viene utilizzato per cercare una stringa all'inizio di una riga. * Il carattere speciale <code>$</code> viene utilizzato per cercare una stringa alla fine di una riga.</p> <pre><code>$ grep -w \"^root\" /etc/passwd\n</code></pre> <p>Nota</p> <p>Questo comando \u00e8 molto potente e si raccomanda vivamente di consultare il suo manuale. Ha numerosi derivati.</p> <p>\u00c8 possibile cercare una stringa in un albero di file con l'opzione <code>-R</code>.</p> <pre><code>grep -R \"Virtual\" /etc/httpd\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#meta-caratteri-wildcards","title":"Meta-caratteri (wildcards)","text":"<p>I Meta-caratteri sostituiscono uno o pi\u00f9 caratteri (o anche un'assenza di caratteri) durante una ricerca. Questi meta-caratteri sono anche noti come wildcards.</p> <p>Possono essere combinati.</p> <p>Il carattere <code>*</code> sostituisce una stringa composta da qualsiasi carattere. Il carattere <code>*</code> pu\u00f2 anche rappresentare un'assenza di caratteri.</p> <pre><code>$ find /home -name \"test*\"\n/home/architalia/test\n/home/architalia/test1\n/home/architalia/test11\n/home/architalia/tests\n/home/architalia/test362\n</code></pre> <p>I Meta-caratteri consentono ricerche pi\u00f9 complesse sostituendo tutto o parte di una parola. Sostituiscono semplicemente le incognite con questi caratteri speciali.</p> <p>Il carattere <code>?</code> sostituisce un singolo carattere, qualunque esso sia.</p> <pre><code>$ find /home -name \"test?\"\n/home/architalia/test1\n/home/architalia/tests\n</code></pre> <p>Le parentesi quadre <code>[</code> e <code>]</code> sono usate per specificare i valori che un singolo carattere pu\u00f2 assumere.</p> <pre><code>$ find /home -name \"test[123]*\"\n/home/architalia/test1\n/home/architalia/test11\n/home/architalia/test362\n</code></pre> <p>Nota</p> <p>Circondare sempre le parole contenenti metacaratteri con <code>\"</code> per evitare che vengano sostituite dai nomi dei file che soddisfano i criteri.</p> <p>Attenzione</p> <p>Non confondete i meta-caratteri della shell con i meta-caratteri delle espressioni regolari. Il comando <code>grep</code> utilizza meta-caratteri di espressione regolare.</p>"},{"location":"Altre-Guide/comandi-linux/#reindirizzamenti-e-pipes","title":"Reindirizzamenti e pipes","text":""},{"location":"Altre-Guide/comandi-linux/#standard-input-e-output","title":"Standard input e output","text":"<p>Sui sistemi UNIX e Linux, ci sono tre flussi standard. Consentono ai programmi, attraverso la libreria <code>stdio.h</code>, di inviare e ricevere informazioni.</p> <p>Questi flussi sono chiamati canale X o descrittore di file X.</p> <p>Per impostazione predefinita:</p> <ul> <li>la tastiera \u00e8 il dispositivo di input per il canale 0, chiamato stdin ;</li> <li>lo schermo \u00e8 il dispositivo di uscita per i canali 1 e 2, chiamati stdout e stderr.</li> </ul> <p></p> <p>stderr riceve i flussi di errore restituiti da un comando. Gli altri flussi sono diretti a stdout.</p> <p>Questi flussi puntano ai file delle periferiche, ma poich\u00e9 tutto \u00e8 un file in UNIX/Linux, i flussi di I/O possono essere facilmente indirizzati ad altri file. Questo principio \u00e8 la forza della shell.</p>"},{"location":"Altre-Guide/comandi-linux/#redirezione-input","title":"Redirezione Input","text":"<p>\u00c8 possibile reindirizzare il flusso di input da un altro file con il carattere <code>&lt;</code> o <code>&lt;&lt;</code>. Il comando legger\u00e0 il file invece della tastiera:</p> <pre><code>$ ftp -in serverftp &lt;&lt; ftp-commands.txt\n</code></pre> <p>Nota</p> <p>Solo i comandi che richiedono l'input da tastiera saranno in grado di gestire il reindirizzamento dell'input.</p> <p>Il reindirizzamento dell'ingresso pu\u00f2 anche essere utilizzato per simulare l'interattivit\u00e0 dell'utente. Il comando legger\u00e0 il flusso di ingresso finch\u00e9 non incontrer\u00e0 la parola chiave definita dopo il reindirizzamento dell'ingresso.</p> <p>Questa funzione \u00e8 utilizzata per i comandi interattivi negli script:</p> <pre><code>$ ftp -in serverftp &lt;&lt; END\nuser alice password\nput file\nbye\nEND\n</code></pre> <p>La parola chiave <code>END</code> pu\u00f2 essere sostituita da qualsiasi parola.</p> <pre><code>$ ftp -in serverftp &lt;&lt; STOP\nuser alice password\nput file\nbye\nSTOP\n</code></pre> <p>La shell esce dal comando <code>ftp</code> quando riceve una linea contenente solo la parola chiave.</p> <p>Attenzione</p> <p>La parola chiave finale, qui <code>END</code> o <code>STOP</code>, deve essere l'unica parola sulla linea e deve essere all'inizio della linea.</p> <p>Il reindirizzamento dello standard input \u00e8 usato raramente, perch\u00e9 la maggior parte dei comandi accetta un nome di file come argomento.</p> <p>Il comando <code>wc</code> potrebbe essere usato in questo modo:</p> <pre><code>$ wc -l .bash_profile\n27 .bash_profile # the number of lines is followed by the file name\n$ wc -l &lt; .bash_profile\n27 # returns only the number of lines\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#redirezione-output","title":"Redirezione Output","text":"<p>L'output standard pu\u00f2 essere reindirizzato ad altri file usando il carattere <code>&gt;</code> o <code>&gt;&gt;</code>.</p> <p>Il semplice reindirizzamento <code>&gt;</code> sovrascrive il contenuto del file di output:</p> <pre><code>$ date +%F &gt; date_file\n</code></pre> <p>Quando viene utilizzato il carattere <code>&gt;&gt;</code>, indica che il risultato del comando viene aggiunto al contenuto del file.</p> <pre><code>$ date +%F &gt;&gt; date_file\n</code></pre> <p>In entrambi i casi, il file viene creato automaticamente quando non esiste.</p> <p>L'output di errore standard pu\u00f2 anche essere reindirizzato ad un altro file. Questa volta sar\u00e0 necessario specificare il numero del canale (che pu\u00f2 essere omesso per i canali 0 e 1):</p> <pre><code>$ ls -R / 2&gt; errors_file\n$ ls -R / 2&gt;&gt; errors_file\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#esempi-di-reindirizzamento","title":"Esempi di reindirizzamento","text":"<p>Reindirizzamento di 2 output verso 2 file:</p> <pre><code>$ ls -R / &gt;&gt; ok_file 2&gt;&gt; nok_file\n</code></pre> <p>Reindirizzamento di 2 output a un singolo file:</p> <pre><code>$ ls -R / &gt;&gt; log_file 2&gt;&amp;1\n</code></pre> <p>Reindirizzamento del stderr a un \"pozzo senza fondo\" (<code>/dev/null</code>):</p> <pre><code>$ ls -R / 2&gt;&gt; /dev/null\n</code></pre> <p>Quando entrambi i flussi di uscita vengono reindirizzati, nessuna informazione viene visualizzata sullo schermo. Per utilizzare sia il reindirizzamento dell'uscita che il mantenimento della visualizzazione, \u00e8 necessario utilizzare il comando <code>tee</code>.</p>"},{"location":"Altre-Guide/comandi-linux/#pipes","title":"Pipes","text":"<p>Una pipe \u00e8 un meccanismo che consente di collegare l'output standard di un primo comando all'ingresso standard di un secondo comando.</p> <p>Questa comunicazione \u00e8 unidirezionale ed \u00e8 fatta con il simbolo <code>|</code>. Il simbolo della pipe <code>|</code> \u00e8 ottenuto premendo il tasto  SHIFT + | contemporaneamente.</p> <p></p> <p>Tutti i dati inviati dal controllo a sinistra della pipe attraverso il canale di uscita standard vengono inviati al canale di ingresso standard del controllo a destra.</p> <p>I comandi particolarmente utilizzati dopo una pipe sono i filtri.</p> <ul> <li>Esempi:</li> </ul> <p>Mostra solo l'inizio:</p> <pre><code>$ ls -lia / | head\n</code></pre> <p>Mostra solo la fine:</p> <pre><code>$ ls -lia / | tail\n</code></pre> <p>Ordina il risultato:</p> <pre><code>$ ls -lia / | sort\n</code></pre> <p>Conta il numero di parole / caratteri:</p> <pre><code>$ ls -lia / | wc\n</code></pre> <p>Cerca una stringa nel risultato:</p> <pre><code>$ ls -lia / | grep fichier\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#punti-speciali","title":"Punti Speciali","text":""},{"location":"Altre-Guide/comandi-linux/#comando-tee","title":"comando <code>tee</code>","text":"<p>Il comando <code>tee</code> viene utilizzato per reindirizzare l'output standard di un comando a un file mantenendo la visualizzazione sullo schermo.</p> <p>Viene combinato con la pipe <code>|</code> per ricevere come input l'output del comando da reindirizzare:</p> <pre><code>$ ls -lia / | tee fic\n$ cat fic\n</code></pre> <p>L'opzione <code>-a</code> aggiunge al file invece di sovrascriverlo.</p>"},{"location":"Altre-Guide/comandi-linux/#comandi-alias-e-unalias","title":"comandi <code>alias</code> e <code>unalias</code>","text":"<p>L'uso di alias \u00e8 un modo per chiedere alla shell di ricordare un particolare comando con le sue opzioni e di dargli un nome.</p> <p>Per esempio:</p> <pre><code>$ ll\n</code></pre> <p>sostituir\u00e0 il comando:</p> <pre><code>$ ls -l\n</code></pre> <p>Il comando <code>alias</code> elenca gli alias per la sessione corrente. Gli alias sono stabiliti per impostazione predefinita sulle distribuzioni Linux. Qui, gli alias per un server arch Linux:</p> <pre><code>$ alias\nalias l.='ls -d .* --color=auto'\nalias ll='ls -l --color=auto'\nalias ls='ls --color=auto'\nalias vi='vim'\nalias which='alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'\n</code></pre> <p>Gli alias sono definiti solo temporaneamente, per il tempo della sessione utente.</p> <p>Per un uso permanente, devono essere creati nel:</p> <ul> <li>file <code>.bashrc</code> nella directory di accesso dell'utente;</li> <li>file <code>/etc/bashrc</code> per tutti gli utenti.</li> </ul> <p>Attenzione</p> <p>Particolare attenzione deve essere prestata quando si utilizzano alias che possono essere potenzialmente pericolosi! Ad esempio, un alias creato senza una conoscenza di base di amministratore:</p> <pre><code>alias cd='rm -Rf'\n</code></pre> <p>Il comando <code>unalias</code> ti consente di eliminare gli alias.</p> <p>Per eliminare un singolo alias:</p> <pre><code>$ unalias ll\n</code></pre> <p>Per eliminare tutti gli alias:</p> <pre><code>$ unalias -a\n</code></pre> <p>Per disabilitare temporaneamente un alias, la combinazione \u00e8 <code>\\&lt;nome alias&gt;</code>.</p> <p>Ad esempio se digitiamo:</p> <pre><code>$ type ls\n</code></pre> <p>potrebbe restituire quanto segue:</p> <pre><code>ls is an alias to \u00ab ls -rt \u00bb\n</code></pre> <p>Ora che questo \u00e8 noto, possiamo vedere i risultati dell'utilizzo dell'alias o disabilitarlo in una volta con il carattere <code>\\</code> eseguendo il seguente:</p> <pre><code>$ ls file*   # order by time\nfile3.txt  file2.txt  file1.txt\n$ \\ls file*  # order by name\nfile1.txt  file2.txt  file3.txt\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#alias-e-funzioni-utili","title":"Alias e Funzioni Utili","text":"<ul> <li>alias di <code>grep</code>.</li> </ul> <p>Colora il risultato del comando <code>grep</code>: <code>alias grep='grep --color=auto'</code></p> <ul> <li>funzione <code>mcd</code></li> </ul> <p>\u00c8 comune creare una cartella e poi spostarsi al suo interno: <code>mcd() { mkdir -p \"$1\"; cd \"$1\"; }</code></p> <ul> <li>funzione <code>cls</code></li> </ul> <p>Spostarsi in una cartella ed elencarne il contenuto: <code>cls() { cd \"$1\"; ls; }</code></p> <ul> <li>funzione <code>backup</code></li> </ul> <p>Crea una copia di backup di un file: <code>backup() { cp \"$1\"{,.bak}; }</code></p> <ul> <li>funzione <code>extract</code></li> </ul> <p>Estrae qualsiasi tipo di archivio:</p> <pre><code>extract () {\nif [ -f $1 ] ; then\ncase $1 in\n*.tar.bz2) tar xjf $1 ;;\n*.tar.gz) tar xzf $1 ;;\n*.bz2) bunzip2 $1 ;;\n*.rar) unrar e $1 ;;\n*.gz) gunzip $1 ;;\n*.tar) tar xf $1 ;;\n*.tbz2) tar xjf $1 ;;\n*.tgz) tar xzf $1 ;;\n*.zip) unzip $1 ;;\n*.Z) uncompress $1 ;;\n*.7z) 7z x $1 ;;\n*)\necho \"'$1' cannot be extracted via extract()\" ;;\nesac\nelse\necho \"'$1' is not a valid file\"\nfi\n}\n</code></pre> <ul> <li>Se <code>l'alias cmount</code> restituisce quanto segue: <code>alias cmount=\"mount | column -t\"</code></li> </ul> <p>Si pu\u00f2 quindi usare <code>cmount</code> per mostrare tutti i mount del sistema in colonne come la seguente: <code>[root]# cmount</code></p> <p>che restituisce il nostro filesystem montato nel seguente formato:</p> <pre><code>/dev/simfs  on  /                                          type  simfs        (rw,relatime,usrquota,grpquota)\nproc        on  /proc                                      type  proc         (rw,relatime)\nsysfs       on  /sys                                       type  sysfs        (rw,relatime)\nnone        on  /dev                                       type  devtmpfs     (rw,relatime,mode=755)\nnone        on  /dev/pts                                   type  devpts       (rw,relatime,mode=600,ptmxmode=000)\nnone        on  /dev/shm                                   type  tmpfs        (rw,relatime)\nnone        on  /proc/sys/fs/binfmt_misc                   type  binfmt_misc  (rw,relatime)\n</code></pre>"},{"location":"Altre-Guide/comandi-linux/#il-carattere","title":"Il carattere <code>;</code>","text":"<p>Il carattere <code>;</code> concatena i comandi.</p> <p>Una volta che l'utente ha premuto INVIO, tutti i comandi verranno eseguiti in sequenza nell'ordine di immissione. <pre><code>$ ls /; cd /home; ls -lia; cd /\n</code></pre>    Verificare le proprie Conoscenze  <p>   :heavy_check_mark: Cosa definisce un utente sotto Linux? (7 risposte) </p> <p>   :heavy_check_mark: Cosa caratterizza un'opzione lunga per un comando? </p> <p>   :heavy_check_mark: Quali comandi ti permettono di cercare aiuto su un comando? </p> <ul> <li>     [ ] <code>google</code> </li> <li>     [ ] <code>chuck --norris</code> </li> <li>     [ ] <code>info</code> </li> <li>     [ ] <code>apropos</code> </li> <li>     [ ] <code>whatis</code> </li> </ul> <p>   :heavy_check_mark: Quale comando ti permette di vedere la cronologia di un utente? </p> <p>   :heavy_check_mark: Quale comando ti permette di cercare del testo in un file? </p> <ul> <li>     [ ] <code>find</code> </li> <li>     [ ] <code>grep</code> </li> </ul> <p>   :heavy_check_mark: Quale comando ti permette di cercare un file? </p> <ul> <li>     [ ] <code>find</code> </li> <li>     [ ] <code>grep</code> </li> </ul> <p>   :heavy_check_mark: Quale comando reindirizza il flusso di errore di un comando a un nuovo file <code>errors.log</code>? </p> <ul> <li>     [ ] <code>ls -R / 2&gt; errors.log</code> </li> <li>     [ ] <code>ls -R / 2&gt;&gt; errors.log</code> </li> <li>     [ ] <code>ls -R / 2&gt; errors.log 2&gt;&amp;1</code> </li> </ul>"},{"location":"Altre-Guide/downgrade/","title":"Downgrade","text":"<p>Per effettuare il downgrade di uno o pi\u00f9 pacchetti su Arch Linux, segui questi passaggi:</p> <ol> <li>Verifica la versione attuale del pacchetto:</li> <li> <p><code># pacman -Qi nomepacchetto</code> Mostra informazioni sul pacchetto, tra cui la versione attuale.</p> </li> <li> <p>Verifica le versioni disponibili del pacchetto:</p> </li> <li><code># pacman -Syyu</code> Aggiorna i database di pacman.</li> <li> <p><code># pacman -Sii nomepacchetto | grep Version</code> Mostra tutte le versioni disponibili del pacchetto.</p> </li> <li> <p>Rimuovi il pacchetto attuale:</p> </li> <li> <p><code># pacman -Rs nomepacchetto</code> Rimuovi il pacchetto e le sue dipendenze.</p> </li> <li> <p>Installa la versione desiderata del pacchetto:</p> </li> <li> <p><code># pacman -U /var/cache/pacman/pkg/nomepacchetto-versione.pkg.tar.zst</code> Installa la versione del pacchetto specificata.</p> </li> <li> <p>Impedisci l'aggiornamento del pacchetto: Aggiungi il pacchetto alla blacklist di pacman per impedirne l'aggiornamento automatico in futuro.</p> </li> <li><code># nano /etc/pacman.conf</code> Apri il file di configurazione di pacman.</li> <li>Aggiungi <code>IgnorePkg = nomepacchetto</code> alle sezioni [IgnorePkg] e [IgnoreGroup].</li> <li>Salva e chiudi il file.</li> </ol> <p>Ricorda che il downgrade di un pacchetto pu\u00f2 causare problemi di dipendenze e creare instabilit\u00e0 nel sistema. Assicurati di comprendere i rischi prima di procedere.</p> <p></p> <p>L'utilit\u00e0 <code>downgrade</code> presente su AUR semplifica notevolmente il processo di downgrade dei pacchetti su Arch Linux. Ecco come installare e utilizzare <code>downgrade</code>:</p> <ol> <li> <p>Assicurati di avere AUR abilitato nel tuo sistema. Se non lo hai gi\u00e0 fatto, installa il pacchetto <code>yay</code> che ti permetter\u00e0 di accedere ai pacchetti AUR. Puoi farlo seguendo questi comandi: <pre><code># pacman -Syu\n# pacman -S --needed git base-devel\n# git clone https://aur.archlinux.org/yay.git\n# cd yay\n# makepkg -si\n</code></pre></p> </li> <li> <p>Installa <code>downgrade</code> utilizzando <code>yay</code>: <pre><code>$ yay -S downgrade\n</code></pre></p> </li> <li> <p>Esegui <code>downgrade</code> per selezionare e installare una versione precedente di un pacchetto. Ad esempio, per eseguire il downgrade del pacchetto <code>nomepacchetto</code>, puoi utilizzare il seguente comando: <pre><code>$ sudo downgrade nomepacchetto\n</code></pre></p> </li> <li> <p>Seleziona la versione desiderata dal menu che viene visualizzato. <code>downgrade</code> mostrer\u00e0 le diverse versioni disponibili e ti chieder\u00e0 quale installare.</p> </li> </ol> <p><code>downgrade</code> si occuper\u00e0 automaticamente di scaricare e installare la versione del pacchetto da te selezionata, oltre a gestire eventuali dipendenze. \u00c8 uno strumento molto utile per effettuare il downgrade sicuro e controllato dei pacchetti su Arch Linux.</p>"},{"location":"Altre-Guide/filesystem/","title":"File System","text":"<p>In questo capitolo imparerai come lavorare con i filesystems.</p>"},{"location":"Altre-Guide/filesystem/#partizionamento","title":"Partizionamento","text":"<p>Il partizionamento consente l'installazione di diversi sistemi operativi, poich\u00e9 \u00e8 impossibile far convivere pi\u00f9 sistemi operativi sulla stessa unit\u00e0 logica. Il partizionamento consente anche di separare i dati dal punto di vista logico (sicurezza, ottimizzazione degli accessi, ...).</p> <p>La divisione del disco fisico in volumi partizionati \u00e8 registrata nella tabella delle partizioni, memorizzata nel primo settore del disco (MBR: Master Boot Record).</p> <p>Per i formati di tabelle di partizione MBR, lo stesso disco fisico pu\u00f2 essere suddiviso in un massimo di 4 partizioni:</p> <ul> <li>Partizione primaria (o partizione principale)</li> <li>Partizione estesa</li> </ul> <p>Attenzione</p> <p>Per ogni disco fisico pu\u00f2 esserci una sola partizione estesa, cio\u00e8 un disco fisico pu\u00f2 avere nella tabella delle partizioni MBR fino a un massimo di:</p> <ol> <li>Tre partizioni primarie pi\u00f9 una partizione estesa</li> <li>Quattro partizioni primarie</li> </ol> <p>La partizione estesa non pu\u00f2 scrivere dati e formattare e pu\u00f2 contenere solo partizioni logiche. Il disco fisico pi\u00f9 grande che pu\u00f2 essere riconosciuto dalla tabella delle partizioni MBR \u00e8 di 2 TB.</p> <p></p> <p></p>"},{"location":"Altre-Guide/filesystem/#convenzioni-di-denominazione-per-i-nomi-dei-file-del-dispositivo","title":"Convenzioni di denominazione per i nomi dei file del dispositivo","text":"<p>Nel mondo di GNU/Linux, tutto \u00e8 un file. Per i dischi, vengono riconosciuti dal sistema come:</p> Hardware Nome del file del dispositivo Disco rigido IDE /dev/hd[a-d] Disco rigido SCSI/SATA/USB /dev/sd[a-z] Unit\u00e0 ottica /dev/cdrom or /dev/sr0 Floppy disk /dev/fd[0-7] Stampante (25 pin) /dev/lp[0-2...] Stampante (USB) /dev/usb/lp[0-15] Mouse /dev/mouse Disco rigido virtuale /dev/vd[a-z] <p>Il kernel Linux contiene i driver per la maggior parte dei dispositivi hardware.</p> <p>Quelli che chiamiamo dispositivi sono i file, memorizzati senza <code>/dev</code>, che identificano i diversi hardware rilevati dalla scheda madre.</p> <p>Il servizio udev \u00e8 responsabile dell'applicazione delle convenzioni di denominazione (regole) e della loro applicazione ai dispositivi rilevati.</p> <p>Per ulteriori informazioni, vedere qui.</p>"},{"location":"Altre-Guide/filesystem/#numero-di-partizione-del-dispositivo","title":"Numero di partizione del dispositivo","text":"<p>Il numero dopo il dispositivo di blocco (dispositivo di memorizzazione) indica una partizione. Per le tabelle di partizione MBR, il numero 5 deve essere la prima partizione logica.</p> <p>Attenzione</p> <p>Attenzione prego! Il numero di partizione citato si riferisce principalmente al numero di partizione del dispositivo a blocchi (dispositivo di archiviazione).</p> <p></p> <p>Esistono almeno due comandi per il partizionamento di un disco: <code>fdisk</code> e <code>cfdisk</code>. Entrambi i comandi hanno un menu interattivo. <code>cfdisk</code> \u00e8 pi\u00f9 affidabile e meglio ottimizzato, quindi \u00e8 il migliore da usare.</p> <p>L'unica ragione per usare <code>fdisk</code> \u00e8 quando si vogliono elencare tutti i dispositivi logici con l'opzione <code>-l</code>. <code>fdisk</code> utilizza tabelle di partizione MBR, pertanto non \u00e8 supportato per le tabelle di partizione GPT e non pu\u00f2 essere usato per dischi di dimensioni superiori a 2 TB.</p> <pre><code>sudo fdisk -l\nsudo fdisk -l /dev/sdc\nsudo fdisk -l /dev/sdc2\n</code></pre>"},{"location":"Altre-Guide/filesystem/#comando-parted","title":"comando <code>parted</code>","text":"<p>Il comando <code>parted</code> (partition editor) \u00e8 in grado di partizionare un disco senza gli inconvenienti di <code>fdisk</code>.</p> <p>Il comando <code>parted</code> pu\u00f2 essere usato sia dalla riga di comando che in modo interattivo. Dispone inoltre di una funzione di recupero in grado di riscrivere una tabella di partizione cancellata.</p> <pre><code>parted [-l] [device]\n</code></pre> <p>Come interfaccia grafica, c'\u00e8 il completissimo strumento <code>gparted</code>: Gnome PARtition EDitor.</p> <p>Il comando <code>gparted -l</code> elenca tutti i dispositivi logici di un computer.</p> <p>Il comando <code>gparted</code>, se eseguito senza argomenti, mostrer\u00e0 una modalit\u00e0 interattiva con le sue opzioni interne:</p> <ul> <li><code>help</code> o un comando errato visualizzer\u00e0 queste opzioni.</li> <li><code>print all</code> in questa modalit\u00e0 avr\u00e0 lo stesso risultato di <code>gparted -l</code> dalla riga di comando.</li> <li><code>quit</code> per tornare al prompt.</li> </ul>"},{"location":"Altre-Guide/filesystem/#comando-cfdisk","title":"comando <code>cfdisk</code>","text":"<p>Il comando <code>cfdisk</code> viene utilizzato per gestire le partizioni.</p> <pre><code>cfdisk device\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo cfdisk /dev/sda\n                                 Disk: /dev/sda\n               Size: 16 GiB, 17179869184 bytes, 33554432 sectors\n                       Label: dos, identifier: 0xcf173747\n    Device        Boot       Start        End    Sectors   Size   Id Type\n&gt;&gt;  /dev/sda1     *           2048    2099199    2097152     1G   83 Linux\n    /dev/sda2              2099200   33554431   31455232    15G   8e Linux LVM\n lqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqk\n x Partition type: Linux (83)                                                 x\n x     Attributes: 80                                                         x\n xFilesystem UUID: 54a1f5a7-b8fa-4747-a87c-2dd635914d60                       x\n x     Filesystem: xfs                                                        x\n x     Mountpoint: /boot (mounted)                                            x\n mqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqj\n     [Bootable]  [ Delete ]  [ Resize ]  [  Quit  ]  [  Type  ]  [  Help  ]\n     [  Write ]  [  Dump  ]\n</code></pre> <p>La preparazione, senza LVM, dei supporti fisici avviene in cinque fasi:</p> <ul> <li>Impostazione del disco fisico;</li> <li>Partizionamento dei volumi (divisione geografica del disco, possibilit\u00e0 di installare pi\u00f9 sistemi, ...);</li> <li>Creazione dei file system (permette al sistema operativo di gestire i file, la struttura ad albero, i diritti, ...);</li> <li>Montaggio dei file system (registrazione del file system nella struttura ad albero);</li> <li>Gestire l'accesso degli utenti.</li> </ul>"},{"location":"Altre-Guide/filesystem/#gestore-di-volumi-logici-lvm","title":"Gestore di volumi logici (LVM)","text":"<p>Logical Volume Manager (LVM])</p> <p>La partizione creata dalla partizione standard non pu\u00f2 regolare dinamicamente le risorse del disco rigido; una volta montata la partizione, la capacit\u00e0 \u00e8 completamente fissa, questo vincolo \u00e8 inaccettabile per il server. Anche se la partizione standard pu\u00f2 essere espansa o ridotta forzatamente con alcuni mezzi tecnici, \u00e8 facile che si verifichi una perdita di dati. LVM pu\u00f2 risolvere questo problema molto bene. LVM \u00e8 disponibile in Linux dalla versione 2.4 del kernel e le sue caratteristiche principali sono:</p> <ul> <li>Capacit\u00e0 del disco pi\u00f9 flessibile;</li> <li>Movimento di dati online;</li> <li>Dischi in modalit\u00e0 stripe;</li> <li>Volumi Mirrored (ricopiati);</li> <li>Istantanee del volume_(snapshot_).</li> </ul> <p>Il principio di LVM \u00e8 molto semplice:</p> <ul> <li>tra il disco fisico (o la partizione del disco) e il file system viene aggiunto un livello di astrazione logica</li> <li>unire pi\u00f9 dischi (o partizioni di dischi) in un Gruppo di Volumi(VG)</li> <li>eseguire le operazioni di gestione del disco su di essi attraverso una funzionalit\u00e0 chiamata Logical Volume(LV).</li> </ul> <p>Il supporto fisico: Il supporto di memorizzazione di LVM pu\u00f2 essere l'intero disco rigido, una partizione del disco o un array RAID. Il dispositivo deve essere convertito, o inizializzato, in LVM Physical Volume (PV), prima di poter eseguire ulteriori operazioni.</p> <p>PV (Physical Volume): Il blocco logico di archiviazione di base di LVM. Per creare un volume fisico, \u00e8 possibile utilizzare una partizione del disco o il disco stesso.</p> <p>VG (Volume Group): Simile ai dischi fisici di una partizione standard, un VG \u00e8 costituito da uno o pi\u00f9 PV.</p> <p>LV (Logical Volume): Simile alle partizioni del disco rigido nelle partizioni standard, il LV \u00e8 costruito sopra il VG. \u00c8 possibile impostare un file system su LV.</p> <p>PE: L'unit\u00e0 di memoria pi\u00f9 piccola che pu\u00f2 essere allocata in un volume fisico, per impostazione predefinita 4MB. \u00c8 possibile specificare una dimensione aggiuntiva.</p> <p>LE: La pi\u00f9 piccola unit\u00e0 di memoria che pu\u00f2 essere allocata in un Logical Volume. Nella stessa VG, PE e LE sono uguali e corrispondono uno a uno.</p> <p></p> <p>Lo svantaggio \u00e8 che se uno dei volumi fisici va fuori servizio, tutti i volumi logici che utilizzano questo volume fisico vanno persi. \u00c8 necessario utilizzare LVM sui dischi raid.</p> <p>Nota</p> <p>LVM \u00e8 gestito solo dal sistema operativo. Pertanto il BIOS ha bisogno di almeno una partizione senza LVM per l'avvio.</p> <p>Informazione</p> <p>Nel disco fisico, l'unit\u00e0 di memorizzazione pi\u00f9 piccola \u00e8 il sector; nel file system, l'unit\u00e0 di memorizzazione pi\u00f9 piccola di GNU/Linux \u00e8 il block, che \u00e8 chiamato cluster nel sistema operativo Windows; nel RAID, l'unit\u00e0 di memorizzazione pi\u00f9 piccola \u00e8 il chunk.</p>"},{"location":"Altre-Guide/filesystem/#il-meccanismo-di-scrittura-di-lvm","title":"Il Meccanismo di Scrittura di LVM","text":"<p>Per l'archiviazione dei dati in LV esistono diversi meccanismi di memorizzazione, due dei quali sono:</p> <ul> <li>Volumi lineari;</li> <li>Volumi in modalit\u00e0 stripe;</li> <li>Volumi Mirrored.</li> </ul> <p></p> <p></p>"},{"location":"Altre-Guide/filesystem/#comandi-lvm-per-la-gestione-dei-volumi","title":"Comandi LVM per la gestione dei volumi","text":"<p>I principali comandi rilevanti sono i seguenti:</p> Elemento PV VG LV scan pcscan vgscan lvscan create pvcreate vgcreate lvcreate display pvdisplay vgdisplay lvdisplay remove pvremove vgremove lvremove extend vgextend lvextend reduce vgreduce lvreduce informazioni sintetiche pvs vgs lvs"},{"location":"Altre-Guide/filesystem/#comando-pvcreate","title":"comando <code>pvcreate</code>","text":"<p>Il comando <code>pvcreate</code> viene utilizzato per creare volumi fisici. Trasforma le partizioni (o i dischi) di Linux in volumi fisici.</p> <pre><code>pvcreate [-opzioni] partizione\n</code></pre> <p>Esempio:</p> <pre><code>[root]# pvcreate /dev/hdb1\npvcreate -- physical volume \u00ab /dev/hdb1 \u00bb successfully created\n</code></pre> <p>\u00c8 anche possibile utilizzare un disco intero (il che facilita l'aumento delle dimensioni del disco in ambienti virtuali, ad esempio).</p> <pre><code>[root]# pvcreate /dev/hdb\npvcreate -- physical volume \u00ab /dev/hdb \u00bb successfully created\n\n# It can also be written in other ways, such as\n[root]# pvcreate /dev/sd{b,c,d}1\n[root]# pvcreate /dev/sd[b-d]1\n</code></pre> Opzione Descrizione <code>-f</code> Forza la creazione del volume (disco gi\u00e0 trasformato in volume fisico). Usare con estrema cautela."},{"location":"Altre-Guide/filesystem/#comando-vgcreate","title":"comando <code>vgcreate</code>","text":"<p>Il comando <code>vgcreate</code> viene utilizzato per creare gruppi di volumi. Raggruppa uno o pi\u00f9 volumi fisici in un gruppo di volumi.</p> <pre><code>vgcreate &lt;VG_name&gt; &lt;PV_name...&gt; [opzione] \n</code></pre> <p>Esempio:</p> <pre><code>[root]# vgcreate volume1 /dev/hdb1\n\u2026\nvgcreate \u2013 volume group \u00ab volume1 \u00bb successfully created and activated\n\n[root]# vgcreate vg01 /dev/sd{b,c,d}1\n[root]# vgcreate vg02 /dev/sd[b-d]1\n</code></pre>"},{"location":"Altre-Guide/filesystem/#comando-lvcreate","title":"comando <code>lvcreate</code>","text":"<p>Il comando <code>lvcreate</code> crea volumi logici. Il file system viene quindi creato su questi volumi logici.</p> <pre><code>lvcreate -L size [-n name] VG_name\n</code></pre> <p>Esempio:</p> <pre><code>[root]# lvcreate \u2013L 600M \u2013n VolLog1 volume1\nlvcreate -- logical volume \u00ab /dev/volume1/VolLog1 \u00bb successfully created\n</code></pre> Opzione Descrizione <code>-L size</code> Imposta la dimensione del volume logico in K, M o G. <code>-n name</code> Imposta il nome del LV. File speciale creato in <code>/dev/nome_volume</code> con questo nome. <code>-l numero</code> Imposta la percentuale della capacit\u00e0 del disco rigido da utilizzare. \u00c8 possibile utilizzare anche il numero di PE. Un PE equivale a 4 MB. <p>Informazione</p> <p>Dopo aver creato un volume logico con il comando <code>lvcreate</code>, la regola di denominazione del sistema operativo \u00e8 - <code>/dev/VG_name/LV_name</code>, questo tipo di file \u00e8 un soft link (altrimenti noto come link simbolico). Il file di collegamento punta a file come <code>/dev/dm-0</code> e <code>/dev/dm-1</code>.</p>"},{"location":"Altre-Guide/filesystem/#comandi-lvm-per-visualizzare-le-informazioni-sui-volumi","title":"Comandi LVM per visualizzare le informazioni sui volumi","text":""},{"location":"Altre-Guide/filesystem/#comando-pvdisplay","title":"comando <code>pvdisplay</code>","text":"<p>Il comando <code>pvdisplay</code> consente di visualizzare le informazioni sui volumi fisici.</p> <pre><code>pvdisplay /dev/PV_name\n</code></pre> <p>Esempio:</p> <pre><code>[root]# pvdisplay /dev/PV_name\n</code></pre>"},{"location":"Altre-Guide/filesystem/#comando-vgdisplay","title":"comando <code>vgdisplay</code>","text":"<p>Il comando <code>vgdisplay</code> consente di visualizzare le informazioni sui gruppi di volumi.</p> <pre><code>vgdisplay VG_name\n</code></pre> <p>Esempio:</p> <pre><code>[root]# vgdisplay volume1\n</code></pre>"},{"location":"Altre-Guide/filesystem/#comando-lvdisplay","title":"comando <code>lvdisplay</code>","text":"<p>Il comando <code>lvdisplay</code> consente di visualizzare le informazioni sui volumi logici.</p> <pre><code>lvdisplay /dev/VG_name/LV_name\n</code></pre> <p>Esempio:</p> <pre><code>[root]# lvdisplay /dev/volume1/VolLog1\n</code></pre>"},{"location":"Altre-Guide/filesystem/#preparazione-dei-supporti-fisici","title":"Preparazione dei supporti fisici","text":"<p>La preparazione con LVM del supporto fisico si articola come segue:</p> <ul> <li>Impostazione del disco fisico</li> <li>Partizione dei volumi</li> <li>Volume fisico LVM</li> <li>Gruppi di volumi LVM</li> <li>Volumi logici LVM</li> <li>Creazione di file system</li> <li>Montaggio dei file system</li> <li>Gestire l'accesso degli utenti</li> </ul>"},{"location":"Altre-Guide/filesystem/#struttura-di-un-file-system","title":"Struttura di un file system","text":"<p>Un FS del file system \u00e8 responsabile delle seguenti azioni:</p> <ul> <li>Protezione dei diritti di accesso e modifica dei file;</li> <li>Manipolazione dei file: creazione, lettura, modifica e cancellazione;</li> <li>Individuazione dei file sul disco;</li> <li>Gestione dello spazio della partizione.</li> </ul> <p>Il sistema operativo Linux \u00e8 in grado di utilizzare diversi file system (ext2, ext3, ext4, FAT16, FAT32, NTFS, HFS, BtrFS, JFS, XFS, ...).</p>"},{"location":"Altre-Guide/filesystem/#comando-mkfs","title":"comando <code>mkfs</code>","text":"<p>Il comando <code>mkfs</code>(make file system) consente di creare un file system Linux.</p> <pre><code>mkfs [-t fstype] filesys\n</code></pre> <p>Esempio:</p> <pre><code>[root]# mkfs -t ext4 /dev/sda1\n</code></pre> Opzione Descrizione <code>-t</code> Indica il tipo di file system da utilizzare. <p>Attenzione</p> <p>Senza un file system non \u00e8 possibile utilizzare lo spazio su disco.</p> <p>Ogni file system ha una struttura identica su ogni partizione. Un Boot Sector e un Super block inizializzati dal sistema, quindi una Inode table e un Data block inizializzati dall'amministratore.</p> <p>Nota</p> <p>L'unica eccezione \u00e8 la partizione swap.</p>"},{"location":"Altre-Guide/filesystem/#boot-sector","title":"Boot sector","text":"<p>Il boot sector \u00e8 il primo settore del supporto di memorizzazione avviabile, ovvero cilindro 0, traccia 0, settore 1 (1 settore equivale a 512 byte). Si compone di tre parti:</p> <ol> <li>MBR (master boot record): 446 byte.</li> <li>DPT (tabella di partizione del disco): 64 byte.</li> <li>BRID (boot record ID): 2 byte.</li> </ol> Elemento Descrizione MBR Memorizza il \"boot loader\" (o \"GRUB\"); carica il kernel, passa i parametri; fornisce un'interfaccia di menu all'avvio; trasferisce a un altro loader, ad esempio quando sono installati pi\u00f9 sistemi operativi. DPT Registra lo stato della partizione dell'intero disco. BRID Determina se il dispositivo \u00e8 utilizzabile per l'avvio."},{"location":"Altre-Guide/filesystem/#super-block","title":"Super block","text":"<p>La dimensione della tabella del Super block \u00e8 definita al momento della creazione. \u00c8 presente in ogni partizione e contiene gli elementi necessari per il suo utilizzo.</p> <p>Descrive il File System:</p> <ul> <li>Nome del Volume Logico;</li> <li>Nome del File System;</li> <li>Tipo di File System;</li> <li>Stato del File System;</li> <li>Dimensione del File System;</li> <li>Numero di blocchi liberi;</li> <li>Puntatore all'inizio dell'elenco dei blocchi liberi;</li> <li>Dimensione dell'elenco di inode;</li> <li>Numero ed elenco degli inode liberi.</li> </ul> <p>Una copia viene caricata nella memoria centrale non appena il sistema viene inizializzato. Questa copia viene aggiornata non appena viene modificata e il sistema la salva periodicamente ( comando <code>sync</code>).</p> <p>Quando il sistema si arresta, copia anche questa tabella in memoria nel suo blocco.</p>"},{"location":"Altre-Guide/filesystem/#tabella-degli-inode","title":"Tabella degli inode","text":"<p>La dimensione della tabella degli inode \u00e8 definita al momento della sua creazione ed \u00e8 memorizzata nella partizione. \u00c8 costituito da record, chiamati inode, corrispondenti ai file creati. Ogni record contiene gli indirizzi dei blocchi di dati che compongono il file.</p> <p>Nota</p> <p>Il numero di inode \u00e8 unico all'interno di un file system.</p> <p>Una copia viene caricata nella memoria centrale non appena il sistema viene inizializzato. Questa copia viene aggiornata non appena viene modificata e il sistema la salva periodicamente ( comando <code>sync</code>).</p> <p>Quando il sistema si arresta, copia anche questa tabella in memoria nel suo blocco.</p> <p>Un file \u00e8 gestito dal suo numero di inode.</p> <p>Nota</p> <p>La dimensione della tabella degli inode determina il numero massimo di file che il FS pu\u00f2 contenere.</p> <p>Informazioni presenti nella tabella degli inode:</p> <ul> <li>Numero di inode;</li> <li>Tipo di file e autorizzazioni di accesso;</li> <li>Numero di identificazione del proprietario;</li> <li>Numero di identificazione del gruppo proprietario;</li> <li>Numero di collegamenti in questo file;</li> <li>Dimensione del file in byte;</li> <li>Data dell'ultimo accesso al file;</li> <li>Data dell'ultima modifica del file;</li> <li>Data dell'ultima modifica dell'inode (= creazione);</li> <li>Tabella di diversi puntatori (tabella dei blocchi) ai blocchi logici contenenti i pezzi del file.</li> </ul>"},{"location":"Altre-Guide/filesystem/#data-block","title":"Data block","text":"<p>La sua dimensione corrisponde al resto dello spazio disponibile della partizione. Quest'area contiene i cataloghi corrispondenti a ciascuna directory e i blocchi di dati corrispondenti ai contenuti dei file.</p> <p>Per garantire la coerenza del file system, un'immagine del superblocco e della tabella degli inode viene caricata in memoria (RAM) al momento del caricamento del sistema operativo, in modo che tutte le operazioni di I/O vengano effettuate attraverso queste tabelle di sistema. Quando l'utente crea o modifica i file, questa immagine di memoria viene aggiornata per prima. Il sistema operativo deve quindi aggiornare regolarmente il superblocco del disco logico<code>(</code> comando<code>sync</code> ).</p> <p>Queste tabelle vengono scritte sul disco rigido quando il sistema viene spento.</p> <p>Attenzione</p> <p>In caso di arresto improvviso, il file system potrebbe perdere la sua consistenza e causare la perdita di dati.</p>"},{"location":"Altre-Guide/filesystem/#riparazione-del-file-system","title":"Riparazione del file system","text":"<p>\u00c8 possibile verificare la consistenza di un file system con il comando <code>fsck</code>.</p> <p>In caso di errori, vengono proposte soluzioni per riparare le incongruenze. Dopo la riparazione, i file che rimangono senza voci nella tabella degli inode vengono allegati alla cartella <code>/lost+found</code> dell'unit\u00e0 logica.</p>"},{"location":"Altre-Guide/filesystem/#comando-fsck","title":"comando <code>fsck</code>","text":"<p>Il comando <code>fsck</code> \u00e8 uno strumento di controllo e riparazione dell'integrit\u00e0 in modalit\u00e0 console per i file system di Linux.</p> <pre><code>fsck [-sACVRTNP] [ -t fstype ] filesys\n</code></pre> <p>Esempio:</p> <pre><code>[root]# fsck /dev/sda1\n</code></pre> <p>Per controllare la partizione root, \u00e8 possibile creare un file <code>forcefsck</code> e riavviare o eseguire <code>shutdown</code> con l'opzione <code>-F</code>.</p> <pre><code>[root]# touch /forcefsck\n[root]# reboot\nor\n[root]# shutdown \u2013r -F now\n</code></pre> <p>Attenzione</p> <p>La partizione da controllare deve essere smontata.</p>"},{"location":"Altre-Guide/filesystem/#organizzazione-di-un-file-system","title":"Organizzazione di un file system","text":"<p>Per definizione, un file system \u00e8 una struttura ad albero di directory costruita a partire da una directory principale (un dispositivo logico pu\u00f2 contenere un solo file system).</p> <p></p> <p>Nota</p> <p>In Linux tutto \u00e8 un file.</p> <p>Documento di testo, directory, binario, partizione, risorsa di rete, schermo, tastiera, kernel Unix, programma utente, ...</p> <p>Linux rispetta lo standard FHS(Filesystems Hierarchy Standard) (vedi <code>man hier</code>) che definisce i nomi delle cartelle e i loro ruoli.</p> Directory Funzionalit\u00e0 Abbreviazione di <code>/</code> Contiene directory speciali <code>/boot</code> File relativi all'avvio del sistema <code>/sbin</code> Comandi necessari per l'avvio e la riparazione del sistema binari di sistema <code>/bin</code> Eseguibili dei comandi di base del sistema binari <code>/usr/bin</code> Comandi di amministrazione del sistema <code>/lib</code> Librerie condivise e moduli del kernel librerie <code>/usr</code> Tutto ci\u00f2 che non \u00e8 necessario per il funzionamento minimo del sistema Risorse di sistema UNIX <code>/mnt</code> Per il montaggio di SF temporanei mount <code>/media</code> Per il montaggio di supporti rimovibili <code>/misc</code> Per montare la directory condivisa del servizio NFS. <code>/root</code> Directory di accesso dell'amministratore <code>/home</code> Dati utente <code>/tmp</code> File temporanei temporanei <code>/dev</code> File speciali del dispositivo dispositivo <code>/etc</code> File di configurazione e scripts configurazione del testo modificabile <code>/opt</code> Specifico per le applicazioni installate opzionale <code>/proc</code> File system virtuale che rappresenta diversi processi processi <code>/var</code> File variabili vari variabili <code>/sys</code> File system virtuale, simile a /proc <code>/run</code> Questo \u00e8 /var/run <code>/srv</code> Service Data Directory servizio <ul> <li>Per eseguire un montaggio o uno smontaggio, a livello di albero, non ci si deve trovare sotto il suo punto di montaggio.</li> <li>Il montaggio su una directory non vuota non cancella il contenuto. \u00c8 solo nascosta.</li> <li>Solo l'amministratore pu\u00f2 eseguire il montaggio.</li> <li>I punti di montaggio da montare automaticamente all'avvio devono essere inseriti in <code>/etc/fstab</code>.</li> </ul>"},{"location":"Altre-Guide/filesystem/#file-etcfstab","title":"file <code>/etc/fstab</code>","text":"<p>Il file <code>/etc/fstab</code> viene letto all'avvio del sistema e contiene i montaggi da eseguire. Ogni file system da montare \u00e8 descritto su una singola riga, con i campi separati da spazi o tabulazioni.</p> <p>Nota</p> <p>Le righe vengono lette in sequenza (<code>fsck</code>, <code>mount</code>, <code>umount</code>).</p> <pre><code>/dev/mapper/VolGroup-lv_root   /         ext4    defaults        1   1\nUUID=46\u2026.92                    /boot     ext4    defaults        1   2\n/dev/mapper/VolGroup-lv_swap   swap      swap    defaults        0   0\ntmpfs                          /dev/shm  tmpfs   defaults        0   0\ndevpts                         /dev/pts  devpts  gid=5,mode=620  0   0\nsysfs                          /sys      sysfs   defaults        0   0\nproc                           /proc     proc    defaults        0   0\n  1                              2         3        4            5   6\n</code></pre> Colonna Descrizione 1 Dispositivo del file system<code>(/dev/sda1</code>, UUID=..., ...) 2 Nome del punto di montaggio, percorso assoluto (eccetto swap) 3 Tipo di filesystem (ext4, swap, ...) 4 Opzioni speciali per il montaggio (<code>default</code>, <code>ro</code>, ...) 5 Abilitare o disabilitare la gestione del backup (0:non eseguito il backup, 1:eseguito il backup) 6 Ordine di controllo quando si controlla lo SF con il comando <code>fsck</code> (0:nessun controllo, 1:priorit\u00e0, 2:non priorit\u00e0) <p>Il comando <code>mount -a</code> consente di eseguire il montaggio automatico in base al contenuto del file di configurazione <code>/etc/fstab</code>; le informazioni montate vengono poi scritte in <code>/etc/mtab</code>.</p> <p>Attenzione</p> <p>Solo i punti di montaggio elencati in <code>/etc/fstab</code> saranno montati al riavvio. In generale, si sconsiglia di scrivere le unit\u00e0 flash USB e i dischi rigidi rimovibili nel file <code>/etc/fstab</code>, perch\u00e9 quando il dispositivo esterno viene scollegato e riavviato, il sistema segnaler\u00e0 che il dispositivo non pu\u00f2 essere trovato, con conseguente mancato avvio. Quindi cosa dovrei fare? Montaggio temporaneo, ad esempio:</p> <pre><code>Shell &gt; mkdir /mnt/usb     \nShell &gt; mount -t  vfat  /dev/sdb1  /mnt/usb  # Read the information of the USB flash disk\nShell &gt; cd /mnt/usb/\n\n# When not needed, execute the following command to pull out the USB flash disk\nShell &gt; umount /mnt/usb\n</code></pre> <p>Informazione</p> <p>\u00c8 possibile fare una copia del file <code>/etc/mtab</code> o copiare il suo contenuto in <code>/etc/fstab</code>. Se si desidera visualizzare l'UUID del numero di partizione del dispositivo, digitare il seguente comando: <code>lsblk -o name,uuid</code>. UUID \u00e8 l'abbreviazione di <code>Universally Unique Identifier</code>.</p>"},{"location":"Altre-Guide/filesystem/#comandi-di-gestione-del-montaggio","title":"Comandi di gestione del montaggio","text":""},{"location":"Altre-Guide/filesystem/#comando-di-montaggio","title":"comando di <code>montaggio</code>","text":"<p>Il comando <code>mount</code> consente di montare e visualizzare le unit\u00e0 logiche nella struttura.</p> <pre><code>mount [-option] [device] [directory]\n</code></pre> <p>Esempio:</p> <pre><code>[root]# mount /dev/sda7 /home\n</code></pre> Opzione Descrizione <code>-n</code> Imposta il montaggio senza scrivere in <code>/etc/mtab</code>. <code>-t</code> Indica il tipo di file system da utilizzare. <code>-a</code> Monta tutti i filesystem menzionati in <code>/etc/fstab</code>. <code>-r</code> Monta il file system in sola lettura (equivalente a <code>-o ro</code>). <code>-w</code> Monta il file system in lettura/scrittura, per impostazione predefinita (equivalente a <code>-o rw</code>). <code>-o</code> Argomento seguito da un elenco di opzioni separate da virgole (<code>remount</code>, <code>ro</code>, ...). <p>Nota</p> <p>Il solo comando <code>mount</code> visualizza tutti i file system montati.</p>"},{"location":"Altre-Guide/filesystem/#comando-umount","title":"comando <code>umount</code>","text":"<p>Il comando <code>umount</code> viene utilizzato per smontare le unit\u00e0 logiche.</p> <pre><code>umount [-option] [device] [directory]\n</code></pre> <p>Esempio:</p> <pre><code>[root]# umount /home\n[root]# umount /dev/sda7\n</code></pre> Opzione Descrizione <code>-n</code> Imposta la rimozione del montaggio senza scrivere in <code>/etc/mtab</code>. <code>-r</code> Rimonta in sola lettura se <code>umount</code> fallisce. <code>-f</code> Forza la rimozione del montaggio. <code>-a</code> Rimuove i montaggi di tutti i filesystem menzionati in <code>/etc/fstab</code>. <p>Nota</p> <p>Durante lo smontaggio, non si deve rimanere al di sotto del punto di montaggio. In caso contrario, viene visualizzato il seguente messaggio di errore: <code>device is busy</code>.</p>"},{"location":"Altre-Guide/filesystem/#convenzione-di-denominazione-dei-file","title":"Convenzione di denominazione dei file","text":"<p>Come in ogni sistema, per potersi orientare nella struttura ad albero e nella gestione dei file, \u00e8 importante rispettare le regole di denominazione dei file.</p> <ul> <li>I file sono codificati con 255 caratteri;</li> <li>\u00c8 possibile utilizzare tutti i caratteri ASCII;</li> <li>Le lettere maiuscole e minuscole sono differenziate;</li> <li>La maggior parte dei file non ha il concetto di estensione. Nel mondo GNU/Linux, la maggior parte delle estensioni dei file non \u00e8 richiesta, tranne alcune (ad esempio, .jpg, .mp4, .gif, ecc.).</li> </ul> <p>I gruppi di parole separati da spazi devono essere racchiusi tra virgolette:</p> <pre><code>[root]# mkdir \"working dir\"\n</code></pre> <p>Nota</p> <p>Sebbene non ci sia nulla di tecnicamente sbagliato nel creare un file o una directory con uno spazio al suo interno, \u00e8 generalmente una \"best practice\" da evitare e sostituire ogni spazio con un trattino basso.</p> <p>Nota</p> <p>Il . all'inizio del nome del file serve solo a nasconderlo a un semplice <code>ls</code>.</p> <p>Esempi di convenzione sull'estensione dei file:</p> <ul> <li><code>.c</code>: file sorgente in linguaggio C;</li> <li><code>.h</code>: file di intestazione C e Fortran;</li> <li><code>.o</code>: file oggetto in linguaggio C;</li> <li><code>.tar</code>: file di dati archiviati con l'utilit\u00e0 <code>tar</code>;</li> <li><code>.cpio</code>: file di dati archiviati con l'utilit\u00e0 <code>cpio</code>;</li> <li><code>.gz</code>: file di dati compressi con l'utilit\u00e0 <code>gzip</code>;</li> <li><code>.tgz</code>: file di dati archiviati con l'utilit\u00e0 <code>tar</code> e compressi con l'utilit\u00e0 <code>gzip</code>;</li> <li><code>.html</code>: pagina web.</li> </ul>"},{"location":"Altre-Guide/filesystem/#dettagli-del-nome-di-un-file","title":"Dettagli del nome di un file","text":"<pre><code>[root]# ls -liah /usr/bin/passwd\n266037 -rwsr-xr-x 1 root 59K mars 22 2019 /usr/bin/passwd\n1 2 3 4 5 6 7 8 9\n</code></pre> Parte Descrizione <code>1</code> Numero di inode <code>2</code> Tipo di file (primo carattere del blocco di 10), \"-\" significa che si tratta di un file ordinario. <code>3</code> Diritti di accesso (ultimi 9 caratteri del blocco di 10) <code>4</code> Se si tratta di una directory, questo numero rappresenta il numero di sottodirectory presenti nella directory, comprese quelle nascoste. Se si tratta di un file, indica il numero di collegamenti, quando il numero \u00e8 1, ovvero, c'\u00e8 un solo collegamento, quello relativo al file stesso. <code>5</code> Nome del proprietario <code>6</code> Nome del gruppo <code>7</code> Dimensione (byte, kilo, mega) <code>8</code> Data dell'ultimo aggiornamento <code>9</code> Nome del file <p>Nel mondo GNU/Linux esistono sette tipi di file:</p> Tipi di file Descrizione - Rappresenta un file ordinario. Compresi i file di testo semplice (ASCII); file binari (binario); file in formato dati (dati); vari file compressi. d Rappresenta un file di directory. b Rappresenta un file di dispositivo a blocchi. Include tutti i tipi di dischi rigidi, unit\u00e0 USB e cos\u00ec via. c Rappresenta un file di dispositivo di caratteri. Dispositivo di interfaccia della porta seriale, come il mouse, la tastiera, ecc. s Rappresenta un file socket. Si tratta di un file appositamente utilizzato per la comunicazione di rete. p Rappresenta un file pipe. \u00c8 un tipo di file speciale. Lo scopo principale \u00e8 quello di risolvere gli errori causati da pi\u00f9 programmi che accedono a un file contemporaneamente. FIFO \u00e8 l'abbreviazione del first-in-first out. l I file soft link, chiamati anche file di collegamento simbolico, sono simili ai collegamenti di Windows. File di collegamento rigido, noto anche come file di collegamento fisico."},{"location":"Altre-Guide/filesystem/#descrizione-supplementare-della-directory","title":"Descrizione supplementare della directory","text":"<p>In ogni directory ci sono due file nascosti: . e ... \u00c8 necessario utilizzare <code>ls -al</code> per visualizzarli, ad esempio:</p> <pre><code># . Indica che nella directory corrente, ad esempio, \u00e8 necessario eseguire uno script in una directory, di solito:\nShell &gt; ./scripts\n\n# .. rappresenta la directory un livello sopra la directory corrente, ad esempio:\nShell &gt; cd /etc/\nShell &gt; cd ..\nShell &gt; pwd\n/\n\n# Per una directory vuota, la sua quarta parte deve essere maggiore o uguale a 2. Perch\u00e9 ci sono \".\" e \"..\"\nShell &gt; mkdir /tmp/t1\nShell &gt; ls -ldi /tmp/t1\n1179657 drwxr-xr-x 2 root root 4096 Nov 14 18:41 /tmp/t1\n</code></pre>"},{"location":"Altre-Guide/filesystem/#file-speciali","title":"File speciali","text":"<p>Per comunicare con le periferiche (dischi rigidi, stampanti...), Linux utilizza dei file di interfaccia chiamati file speciali (device file o special file). Consentono l'identificazione da parte delle periferiche.</p> <p>Questi file sono speciali perch\u00e9 non contengono dati, ma specificano la modalit\u00e0 di accesso per comunicare con il dispositivo.</p> <p>Sono definiti in due modalit\u00e0:</p> <ul> <li>modalit\u00e0 a blocchi;</li> <li>modalit\u00e0 a carattere.</li> </ul> <pre><code># Block device file\nShell &gt; ls -l /dev/sda\nbrw-------   1   root  root  8, 0 jan 1 1970 /dev/sda\n\n# Character device file\nShell &gt; ls -l /dev/tty0\ncrw-------   1   root  root  8, 0 jan 1 1970 /dev/tty0\n</code></pre>"},{"location":"Altre-Guide/filesystem/#file-di-comunicazione","title":"File di comunicazione","text":"<p>Si tratta dei file pipe (pipes) e socket.</p> <ul> <li> <p>I file Pipe passano le informazioni tra i processi tramite FIFO_(First In, First Out_). Un processo scrive informazioni transitorie su un file pipe e un altro le legge. Dopo la lettura, le informazioni non sono pi\u00f9 accessibili.</p> </li> <li> <p>I file socket consentono la comunicazione bidirezionale tra processi (su sistemi locali o remoti). Utilizzano un inode del file system.</p> </li> </ul>"},{"location":"Altre-Guide/filesystem/#file-di-collegamento","title":"File di collegamento","text":"<p>Questi file danno la possibilit\u00e0 di assegnare diversi nomi logici allo stesso file fisico. Viene quindi creato un nuovo punto di accesso al file.</p> <p>Esistono due tipi di file di collegamento:</p> <ul> <li>File di collegamento soft, chiamato anche file di collegamento simbolico;</li> <li>File di collegamento hard, chiamato anche file di collegamento fisico.</li> </ul> <p>Le loro caratteristiche principali sono:</p> Tipi di link Descrizione file soft link Una scorciatoia simile a quella di Windows. Ha un permesso di 777 e punta al file originale. Quando il file originale viene eliminato, il file collegato e il file originale vengono visualizzati in rosso. File hard link Il file originale ha lo stesso numero di inode del file collegato. Ha lo stesso numero inode del file collegato fisicamente. Possono essere aggiornati in modo sincrono, includendo il contenuto del file e quando \u00e8 stato modificato. Non \u00e8 possibile attraversare le partizioni, n\u00e9 i file system. Non pu\u00f2 essere utilizzato per le directory. <p>Esempi specifici sono i seguenti:</p> <pre><code># Permissions and the original file to which they point\nShell &gt; ls -l /etc/rc.locol\nlrwxrwxrwx 1 root root 13 Oct 25 15:41 /etc/rc.local -&gt; rc.d/rc.local\n\n# When deleting the original file. \"-s\" represents the soft link option\nShell &gt; touch /root/Afile\nShell &gt; ln -s /root/Afile /root/slink1\nShell &gt; rm -rf /root/Afile\n</code></pre> <p></p> <pre><code>Shell &gt; cd /home/paul/\nShell &gt; ls \u2013li letter\n666 \u2013rwxr--r-- 1 root root \u2026 letter\n\n# The ln command does not add any options, indicating a hard link\nShell &gt; ln /home/paul/letter /home/jack/read\n\n# The essence of hard links is the file mapping of the same inode number in different directories.\nShell &gt; ls \u2013li /home/*/*\n666 \u2013rwxr--r-- 2 root root \u2026 letter\n666 \u2013rwxr--r-- 2 root root \u2026 read\n\n# If you use a hard link to a directory, you will be prompted:\nShell &gt; ln  /etc/  /root/etc_hardlink\nln: /etc: hard link not allowed for directory\n</code></pre>"},{"location":"Altre-Guide/filesystem/#attributi-dei-file","title":"Attributi dei file","text":"<p>Linux \u00e8 un sistema operativo multiutente in cui il controllo dell'accesso ai file \u00e8 essenziale.</p> <p>Questi controlli sono funzioni di:</p> <ul> <li>permessi di accesso ai file ;</li> <li>utenti (ugo Users Groups Others).</li> </ul>"},{"location":"Altre-Guide/filesystem/#permessi-di-base-di-file-e-directory","title":"Permessi di base di file e directory","text":"<p>La descrizione dei permessi dei file \u00e8 la seguente:</p> Permessi dei file Descrizione r Leggi. Consente la lettura di un file<code>(cat</code>, <code>less</code>, ...) e la copia di un file<code>(cp</code>, ...). w Scrivere. Consente di modificare il contenuto del file<code>(cat</code>, <code>&gt;&gt;,</code> <code>vim</code>, ...). x Eseguire. Considera il file come un file eseguibile(binario o script). - Nessun diritto <p>La descrizione dei permessi delle directory \u00e8 la seguente:</p> Autorizzazioni delle directory Descrizione r Leggi. Consente di leggere il contenuto di una directory<code>(ls -R</code>). w Scrivere. Permette di creare ed eliminare file/directory in questa directory, come i comandi <code>mkdir</code>, <code>rmdir</code>, <code>rm</code>, <code>touch</code> e cos\u00ec via. x Eseguire. Consente la discesa nella directory(<code>cd</code>). - Nessun diritto <p>Informazione</p> <p>Per i permessi di una directory, <code>r</code> e <code>x</code> di solito appaiono contemporaneamente. Lo spostamento o la ridenominazione di un file dipende dal fatto che la directory in cui si trova il file abbia il permesso <code>w</code>, cos\u00ec come l'eliminazione di un file.</p>"},{"location":"Altre-Guide/filesystem/#tipo-di-utente-corrispondente-allautorizzazione-di-base","title":"Tipo di utente corrispondente all'autorizzazione di base","text":"Tipo utente Descrizione u Proprietario g Gruppo proprietario o Altri utenti <p>Informazione</p> <p>In alcuni comandi \u00e8 possibile designarli tutti con a (all). a = ugo.</p>"},{"location":"Altre-Guide/filesystem/#gestione-degli-attributi","title":"Gestione degli attributi","text":"<p>La visualizzazione dei diritti si effettua con il comando <code>ls -l</code>. Si tratta degli ultimi 9 caratteri di un blocco di 10. Pi\u00f9 precisamente 3 volte 3 caratteri.</p> <pre><code>[root]# ls -l /tmp/myfile\n-rwxrw-r-x  1  root  sys  ... /tmp/myfile\n  1  2  3       4     5\n</code></pre> Parte Descrizione 1 Permessi del proprietario (user), qui <code>rwx</code> 2 Permessi del gruppo proprietario (group), qui <code>rw-</code> 3 Permessi di altri utenti (others), qui <code>r-x</code> 4 Proprietario del file 5 Gruppo proprietario del file <p>Per impostazione predefinita, il proprietario di un file \u00e8 colui che lo ha creato. Il gruppo del file \u00e8 il gruppo del proprietario che ha creato il file. Gli altri sono quelli che non rientrano nei casi precedenti.</p> <p>Gli attributi vengono modificati con il comando <code>chmod</code>.</p> <p>Solo l'amministratore e il proprietario di un file possono modificarne i diritti.</p>"},{"location":"Altre-Guide/filesystem/#comando-chmod","title":"comando <code>chmod</code>","text":"<p>Il comando <code>chmod</code> consente di modificare i permessi di accesso a un file.</p> <pre><code>chmod [opzione] modalit\u00e0 file\n</code></pre> Opzione Osservazione <code>-R</code> Modifica ricorsivamente i permessi della directory e di tutti i file in essa contenuti. <p>Attenzione</p> <p>I diritti dei file e delle directory non sono dissociati. Per alcune operazioni, sar\u00e0 necessario conoscere i diritti della directory contenente il file. Un file protetto da scrittura pu\u00f2 essere cancellato da un altro utente, purch\u00e9 i diritti della directory che lo contiene consentano a questo utente di eseguire questa operazione.</p> <p>L'indicazione della modalit\u00e0 pu\u00f2 essere una rappresentazione ottale (ad esempio <code>744</code>) o una rappresentazione simbolica ([<code>ugoa</code>][<code>+=-</code>][<code>rwxst</code>]).</p>"},{"location":"Altre-Guide/filesystem/#rappresentazione-ottale-o-numerica","title":"Rappresentazione ottale (o numerica):","text":"Numero Descrizione 4 r 2 s 1 x 0 - <p>Sommare i tre numeri per ottenere un'autorizzazione di tipo utente. ad es. 755=rwxr-xr-x.</p> <p></p> <p></p> <p></p> <p>Informazione</p> <p>A volte si vedr\u00e0 <code>chmod 4755</code>. Il numero 4 si riferisce al permesso speciale set uid. I permessi speciali non verranno per il momento ampliati in questa sede, ma solo come nozioni di base.</p> <pre><code>[root]# ls -l /tmp/fil*\n-rwxrwx--- 1 root root \u2026 /tmp/file1\n-rwx--x--- 1 root root \u2026 /tmp/file2\n-rwx--xr-- 1 root root \u2026 /tmp/file3\n\n[root]# chmod 741 /tmp/file1\n[root]# chmod -R 744 /tmp/file2\n[root]# ls -l /tmp/fic*\n-rwxr----x 1 root root \u2026 /tmp/file1\n-rwxr--r-- 1 root root \u2026 /tmp/file2\n</code></pre>"},{"location":"Altre-Guide/filesystem/#rappresentazione-simbolica","title":"rappresentazione simbolica","text":"<p>Questo metodo pu\u00f2 essere considerato come un'associazione \"letterale\" tra un tipo di utente, un operatore e i diritti.</p> <p></p> <pre><code>[root]# chmod -R u+rwx,g+wx,o-r /tmp/file1\n[root]# chmod g=x,o-r /tmp/file2\n[root]# chmod -R o=r /tmp/file3\n</code></pre>"},{"location":"Altre-Guide/filesystem/#diritti-predefiniti-e-maschera","title":"Diritti predefiniti e maschera","text":"<p>Quando un file o una directory viene creata, ha gi\u00e0 dei permessi.</p> <ul> <li>Per una directory: <code>rwxr-xr-x</code> o 755.</li> <li>Per un file: <code>rw-r-r-</code> o 644.</li> </ul> <p>Questo comportamento \u00e8 definito dalla maschera predefinita.</p> <p>Il principio \u00e8 quello di rimuovere il valore definito dalla maschera al massimo dei diritti senza il diritto di esecuzione.</p> <p>Per una directory :</p> <p></p> <p>Per un file, i diritti di esecuzione vengono rimossi:</p> <p></p> <p>Informazione</p> <p>Il file `/etc/login.defs' definisce l'UMASK predefinito, con un valore di 022. Ci\u00f2 significa che il permesso di creare un file \u00e8 755 (rwxr-xr-x). Tuttavia, per motivi di sicurezza, GNU/Linux non prevede il permesso x per i file appena creati; questa restrizione si applica a root (uid=0) e agli utenti ordinari (uid&gt;=1000).</p> <pre><code># root user\nShell &gt; touch a.txt\nShell &gt; ll\n-rw-r--r-- 1 root root     0 Oct  8 13:00 a.txt\n</code></pre>"},{"location":"Altre-Guide/filesystem/#comando-umask","title":"comando <code>umask</code>","text":"<p>Il comando <code>umask</code> consente di visualizzare e modificare la maschera.</p> <pre><code>umask [opzione] [modalit\u00e0]\n</code></pre> <p>Esempio: <pre><code>$ umask 033\n$ umask\n0033\n$ umask -S\nu=rwx,g=r,o=r\n$ touch umask_033\n$ ls -la  umask_033\n-rw-r--r-- 1 architalia architalia 0 nov.   4 16:44 umask_033\n$ umask 025\n$ umask -S\nu=rwx,g=rx,o=w\n$ touch umask_025\n$ ls -la  umask_025\n-rw-r---w- 1 architalia architalia 0 nov.   4 16:44 umask_025\n</code></pre></p> Opzione Descrizione <code>-S</code> Visualizzazione simbolica dei diritti dei file. <p>Attenzione</p> <p><code>umask</code> non influisce sui file esistenti. <code>umask -S</code> visualizza i diritti dei file (senza il diritto di esecuzione) dei file che verranno creati. Quindi, non \u00e8 la visualizzazione della maschera utilizzata per sottrarre il valore massimo.</p> <p>Nota</p> <p><code>umask</code> modifica la maschera fino alla disconnessione.</p> <p>Informazione</p> <p>Il comando <code>umask</code> appartiene ai comandi incorporati di bash, quindi quando si usa <code>man umask</code>, vengono visualizzati tutti i comandi incorporati. Se si desidera visualizzare solo la guida di <code>umask</code>, \u00e8 necessario utilizzare il comando <code>help umask</code>.</p> <p>Per mantenere il valore, \u00e8 necessario modificare i seguenti file di profilo:</p> <p>Per tutti gli utenti:</p> <ul> <li><code>/etc/profile</code></li> <li><code>/etc/bashrc</code></li> </ul> <p>Per un particolare utente:</p> <ul> <li><code>~/.bashrc</code></li> </ul> <p>Quando viene scritto il file di cui sopra, esso sovrascrive il parametro UMASK di <code>/etc/login.defs</code>. Se si desidera migliorare la sicurezza del sistema operativo, \u00e8 possibile impostare umask a 027 o 077.</p>"},{"location":"Altre-Guide/firewald/","title":"Firewalld","text":""},{"location":"Altre-Guide/firewald/#installazione-e-uso","title":"Installazione e uso","text":"<p>Installiamo firewalld e abilitiamo il servizio.</p> <ul> <li> <p><code>$ pacman -S firewalld</code></p> </li> <li> <p><code>$ sudo systemctl enable firewalld --now</code></p> </li> </ul> <p>Verifichiamo lo stato del servizio.</p> <ul> <li><code>$ sudo systemctl status firewalld</code></li> </ul> <p>Potete vedere tutte le vostre configurazioni e impostazioni in una volta sola con questo comando:</p> <ul> <li><code>$ sudo firewall-cmd --list-all</code></li> </ul> <p></p>"},{"location":"Altre-Guide/firewald/#gestire-le-zone","title":"Gestire le zone","text":"<p>Prima di ogni altra cosa, devo spiegare le zone. Le zone sono una caratteristica che fondamentalmente permette di definire diversi set di regole per diverse situazioni. Le zone sono una parte enorme di firewalld, quindi \u00e8 utile capire come funzionano.</p> <p>Se la tua macchina ha pi\u00f9 modi per connettersi a reti diverse (ad esempio, Ethernet e WiFi), puoi decidere che una connessione \u00e8 pi\u00f9 affidabile dell'altra. Potresti impostare la tua connessione Ethernet nella zona \"trusted\" se \u00e8 collegata solo a una rete locale che hai costruito, e mettere il WiFi (che potrebbe essere collegato a Internet) nella zona \"public\" con restrizioni pi\u00f9 severe.</p> <p></p> <p>Nota</p> <p>Una zona pu\u00f2 solo essere in uno stato attivo se ha una di queste due condizioni: La zona \u00e8 assegnata a un'interfaccia di rete Alla zona vengono assegnati IP sorgente o intervalli di rete.</p> <p> Le zone predefinite includono le seguenti </p> <p>drop: Il livello pi\u00f9 basso di fiducia. Tutte le connessioni in entrata sono abbandonate senza risposta e solo le connessioni in uscita sono possibili.</p> <p>block: Simile al precedente, ma invece di abbandonare semplicemente le connessioni, le richieste in entrata sono rifiutate con un messaggio icmp-host-prohibited o icmp6-adm-prohibited.</p> <p>public: Rappresenta le reti pubbliche, non fidate. Non ti fidi degli altri computer, ma puoi permettere connessioni in entrata selezionate caso per caso.</p> <p>internal: L'altro lato della zona esterna, usata per la parte interna di un gateway. I computer sono abbastanza affidabili e sono disponibili alcuni servizi aggiuntivi.</p> <p>dmz: utilizzato per i computer situati in una DMZ (computer isolati che non avranno accesso al resto della vostra rete). Solo certe connessioni in entrata sono permesse.</p> <p>work: Usato per le macchine da lavoro. Fidatevi della maggior parte dei computer della rete.</p> <p>home: Un ambiente domestico. Generalmente implica che vi fidate della maggior parte degli altri computer e che qualche servizio in pi\u00f9 sar\u00e0 accettato. Qualche altro servizio potrebbe essere permesso.</p> <p>trusted: Fidati di tutte le macchine della rete. La pi\u00f9 aperta delle opzioni disponibili e dovrebbe essere usata con parsimonia. </p>"},{"location":"Altre-Guide/firewald/#comandi-di-gestione-zone","title":"Comandi di gestione zone","text":"<p>Per vedere la vostra zona predefinita, esegui:</p> <ul> <li><code>$ firewall-cmd --get-default-zone</code></li> </ul> <p>Per vedere quali zone sono attive e fanno cosa, esegui:</p> <ul> <li><code>$ firewall-cmd --get-active-zones</code></li> </ul> <p>Per cambiare la zona predefinita:</p> <ul> <li><code>$ firewall-cmd --set-default-zone [tua-zona]</code></li> </ul> <p>Per aggiungere un'interfaccia di rete a una zona:</p> <ul> <li><code>$ firewall-cmd --zone=[tua-zona] --add-interface=[tua-intefaccia-di-rete]</code></li> </ul> <p>Per cambiare la zona di un'interfaccia di rete:</p> <ul> <li><code>$ firewall-cmd --zone=[tua-zona] --change-interface=[tua-interfaccia-di-rete]</code></li> </ul> <p>Per rimuovere completamente un'interfaccia da una zona:</p> <ul> <li><code>$ firewall-cmd --zone=[tua-zona] --remove-interface=[tua-intefaccia-di-rete]</code></li> </ul> <p>Per creare una zona nuova con un set di regole personalizzate, e per controllare che sia stata aggiunta correttamente:</p> <ul> <li><code>$ firewall-cmd --new-zone=[tua-nuova-zona]</code></li> <li><code>$ firewall-cmd --get-zones</code></li> </ul> <p></p>"},{"location":"Altre-Guide/firewald/#gestione-delle-porte","title":"Gestione delle porte","text":"<p>Per vedere tutte le porte aperte:</p> <ul> <li><code>$ firewall-cmd --list-ports</code></li> </ul> <p>Per aggiungere una porta alla vostra zona firewall:</p> <ul> <li><code>$ firewall-cmd --zone=public --add-port=9001/tcp</code></li> </ul> <p>Per rimuovere una porta, basta usare il comando:</p> <ul> <li><code>$ firewall-cmd --zone=public --remove-port=9001/tcp</code></li> </ul>"},{"location":"Altre-Guide/firewald/#gestione-dei-servizi","title":"Gestione dei servizi","text":"<p>Questo \u00e8 il modo preferito per aprire le porte per questi servizi comuni, e molto di pi\u00f9:</p> <ul> <li>HTTP e HTTPS: per i server web</li> <li>FTP: per spostare i file </li> <li>SSH: per controllare macchine remote e spostare file avanti e indietro nel nuovo modo</li> <li>Samba: Per la condivisione di file con macchine Windows</li> </ul> <p></p> <p>Per vedere un elenco di tutti i servizi disponibili:</p> <ul> <li><code>$ firewall-cmd --get-services</code></li> </ul> <p>Per vedere quali servizi hai attualmente attivi sul tuo firewall:</p> <ul> <li><code>$ firewall-cmd --list-services</code></li> </ul> <p>Per aprire un servizio nel tuo firewall (ad esempio HTTP nella zona pubblica):</p> <ul> <li><code>$ firewall-cmd --zone=public --add-service=http</code></li> </ul> <p>Per rimuovere/chiudere un servizio sul vostro firewall:</p> <ul> <li><code>$ firewall-cmd --zone=public --remove-service=http</code></li> </ul> <p></p>"},{"location":"Altre-Guide/firewald/#limitare-laccesso","title":"Limitare l'accesso","text":"<p>Diciamo che avete un server e non volete renderlo pubblico. se volete definire solo chi \u00e8 autorizzato ad accedere via SSH, o visualizzare alcune pagine web/app private, potete farlo.</p> <p>Ci sono un paio di metodi per farlo. Per prima cosa, per un server pi\u00f9 chiuso, puoi scegliere una delle zone pi\u00f9 restrittive, assegnare il tuo dispositivo di rete ad essa, aggiungere il servizio SSH come mostrato sopra, e poi mettere in whitelist il tuo indirizzo IP pubblico in questo modo:</p> <p></p> <p>Attenzione</p> <p>Non rimuovere mai il servizio SSH dal firewall di un server remoto! Ricordate, SSH \u00e8 quello che usate per accedere al vostro server. A meno che non abbiate un altro modo per accedere al server fisico, o alla sua shell (cio\u00e8 tramite. un pannello di         controllo fornito dall'host), la rimozione del servizio SSH vi bloccher\u00e0 permanentemente. Dovrete contattare il supporto per riavere il vostro accesso, o reinstallare completamente il sistema operativo.</p> <p></p> <ul> <li><code>$ firewall-cmd --permanent --zone=trusted --add-source=192.168.1.0 [&lt; insert your IP here]</code></li> </ul> <p>Potete renderlo un intervallo di indirizzi IP aggiungendo un numero pi\u00f9 alto alla fine, in questo modo:</p> <ul> <li><code>$ firewall-cmd --permanent --zone=trusted --add-source=192.168.1.0/24 [&lt; insert your IP here]</code></li> </ul> <p>Di nuovo, basta cambiare --add-source in --remove-source per invertire il processo</p>"},{"location":"Altre-Guide/fstab/","title":"Fstab","text":"<p>Fstab \u00e8 un file di configurazione presente su sistemi operativi Unix e Linux che elenca i dispositivi di storage e i file system disponibili e specifica come debbano essere montati al momento dell'avvio del sistema. La sigla sta per \"file system table\".</p> <p>L'uso di fstab \u00e8 utile perch\u00e9 permette di avere un controllo preciso sulle partizioni e di non dover montarle manualmente ad ogni avvio del sistema. Inoltre, consente di specificare eventuali opzioni di montaggio come l'autorizzazione in lettura/scrittura o il punto di montaggio.</p> <p>Una tipica riga di fstab ha la seguente struttura: <pre><code>dispositivo_di_stoccaggio puntodi_montaggio tipo_filesystem opzioni 0 0\n</code></pre></p> <p>Esempi di righe di fstab:</p> <p><pre><code>/dev/sda1 / ext4 defaults 0 1\n</code></pre> In questo esempio, /dev/sda1 \u00e8 il dispositivo di storage, / \u00e8 il punto di montaggio, ext4 \u00e8 il tipo di filesystem e defaults sono le opzioni di montaggio. I numeri 0 1 alla fine della riga definiscono l'ordine di montaggio dei sistemi di filesystem durante l'avvio.</p> <p><pre><code>UUID=12345678-90ab-cdef-ghij-klmnopqrst /mnt/dati ext4 rw,auto,user 0 0\n</code></pre> In questo esempio, UUID=12345678-90ab-cdef-ghij-klmnopqrst rappresenta l'UUID univoco del dispositivo di storage. /mnt/dati \u00e8 il punto di montaggio, ext4 \u00e8 il tipo di filesystem e rw,auto,user sono le opzioni di montaggio che definiscono l'autorizzazione in lettura/scrittura e il fatto che il sistema debba essere montato automaticamente all'avvio anche per utenti non privilegiati. Anche in questo caso i numeri 0 0 alla fine della riga definiscono l'ordine di montaggio.</p> <p>In sintesi, fstab \u00e8 un file di configurazione molto importante per il sistema operativo Linux perch\u00e9 permette di specificare il modo in cui i dispositivi di storage devono essere montati e gestiti al momento dell'avvio.</p> <p>In Arch Linux, lavorare con fstab pu\u00f2 aiutare a personalizzare il sistema, per esempio:</p> <ul> <li>Montare automaticamente le partizioni dei dischi fissi durante l'avvio del sistema.</li> <li>Montare automaticamente dispositivi esterni, come chiavette USB o hard disk esterni, appena vengono collegati.</li> <li>Configurare opzioni di montaggio per ottimizzare le prestazioni del file system.</li> <li>Montare cartelle di rete condivise (SMB/CIFS o NFS).</li> </ul> <p>In Arch Linux, fstab \u00e8 normalmente localizzato in /etc/fstab. Dato che il sistema di Arch Linux utilizza il kernel Linux, le opzioni di fstab consentono di specificare le opzioni del file system supportate dal kernel Linux.</p> <p>Qui di seguito ci sono alcuni elementi importanti da considerare su come utilizzare fstab in Arch Linux:</p> <ul> <li>UUID: anzich\u00e9 utilizzare /dev/sdX per fare riferimento a unit\u00e0 di archiviazione, in Arch Linux \u00e8 consigliato utilizzare l'UUID poich\u00e9 questo rimane costante anche se la partizione viene spostata in un altro slot SATA o viene modificata l'ordine del boot device.</li> <li>Bind mounts: con questa opzione, si pu\u00f2 montare una partizione all'interno di un'altra partizione. Ad esempio, si potrebbe voler montare una partizione /home separata per un utente specifico.</li> <li>Opzioni di montaggio: \u00e8 possibile specificare vari parametri, come opzioni di sicurezza, opzioni di prestazioni e opzioni di sblocco.</li> <li>Mount order: i dischi e le partizioni vengono letti in ordine di montaggio da fstab. Se una partizione ha bisogno di una dipendenza, \u00e8 necessario inserire la sua riga fstab dopo la partizione di dipendenza.</li> </ul> <p>Per risolvere problemi con fstab su Arch Linux, \u00e8 possibile utilizzare il comando \"systemctl daemon-reload\" per ricaricare i file di configurazione dei servizi. Inoltre, \u00e8 consigliabile fare sempre una copia di backup di fstab prima di modificarlo, per evitare di causare problemi al sistema.</p>"},{"location":"Altre-Guide/gestione-utenti/","title":"Gestione utenti","text":"<p>In questo capitolo imparerai come gestire gli utenti.</p>"},{"location":"Altre-Guide/gestione-utenti/#generale","title":"Generale","text":"<p>Ogni utente deve avere un gruppo, che \u00e8 chiamato il gruppo primario dell'utente.</p> <p>Diversi utenti possono far parte dello stesso gruppo.</p> <p>Gruppo diversi dal gruppo primario sono chiamati gruppi supplementari.</p> <p>Nota</p> <p>Ogni utente ha un gruppo primario e pu\u00f2 essere invitato in uno o pi\u00f9 gruppi supplementari.</p> <p>I gruppi e gli utenti sono gestiti dai loro identificatori numerici unici <code>GID</code> e <code>UID</code>.</p> <ul> <li><code>UID</code>: User IDentifier. ID utente unico.</li> <li><code>GID</code>: Group IDentifier. Identificatore di gruppo unico.</li> </ul> <p>Sia UID che GID sono riconosciuti dal kernel, il che significa che il Super Admin non \u00e8 necessariamente l'utente root, purch\u00e9 l'utente uid=0 sia il Super Admin.</p> <p>I file relativi agli utenti/gruppi sono:</p> <ul> <li>/etc/passwd</li> <li>/etc/shadow</li> <li>/etc/group</li> <li>/etc/gshadow</li> <li>/etc/skel/</li> <li>/etc/default/useradd</li> <li>/etc/login.defs</li> </ul> <p>Pericolo</p> <p>Dovresti sempre usare i comandi di amministrazione invece di modificare manualmente i file.</p>"},{"location":"Altre-Guide/gestione-utenti/#gestione-del-gruppo","title":"Gestione del gruppo","text":"<p>File modificati, righe aggiunte:</p> <ul> <li><code>/etc/group</code></li> <li><code>/etc/gshadow</code></li> </ul>"},{"location":"Altre-Guide/gestione-utenti/#comando-groupadd","title":"comando <code>groupadd</code>","text":"<p>Il comando <code>groupadd</code> aggiunge un gruppo al sistema. <pre><code>groupadd [-f] [-g GID] group\n</code></pre></p> <p>Esempio:</p> <pre><code>$ sudo groupadd -g 1012 GroupeB\n</code></pre> Opzione Descrizione <code>-g GID</code> Definisce il <code>GID</code> del gruppo da creare. <code>-f</code> Il sistema sceglie un<code>GID</code> se quello specificato dall'opzione <code>-g</code> esiste gi\u00e0. <code>-r</code> Crea un gruppo di sistema con un <code>GID</code> tra <code>SYS_GID_MIN</code> e <code>SYS_GID_MAX</code>. Queste due variabili sono definite in <code>/etc/login.defs</code>. <p>Regole di denominazione del gruppo:</p> <ul> <li>Nessun accento o carattere speciale;</li> <li>Diverso dal nome di un utente o file di sistema esistenti.</li> </ul> <p>Nota</p> <p>Sotto Debian, l'amministratore dovrebbe usare, tranne che negli script destinati ad essere portabili su tutte le distribuzioni Linux, i comandi <code>addgroup</code> e <code>delgroup</code> come specificato nel <code>man</code>:</p> <pre><code>$ man addgroup\nDESCRIPTION\nadduser and addgroup add users and groups to the system according to command line options and configuration information\nin /etc/adduser.conf. They are friendlier front ends to the low-level tools like useradd, groupadd and usermod programs,\nby default, choosing Debian policy conformant UID and GID values, creating a home directory with skeletal configuration,\nrunning a custom script, and other features.\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#comando-groupmod","title":"Comando <code>groupmod</code>","text":"<p>Il comando <code>groupmod</code> consente di modificare un gruppo esistente sul sistema.</p> <pre><code>groupmod [-g GID] [-n nom] group\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo groupmod -g 1016 GroupP\n$ sudo groupmod -n GroupC GroupB\n</code></pre> Opzione Osservazioni <code>-g GID</code> Nuovo <code>GID</code> del gruppo da modificare. <code>-n name</code> Nuovo nome. <p>\u00c8 possibile cambiare il nome di un gruppo, il  <code>GID</code> o entrambi simultaneamente.</p> <p>Dopo la modifica, i file appartenenti al gruppo hanno un <code>GID</code> sconosciuto. Devono essere riassegnati al nuovo <code>GID</code>.</p> <pre><code>$ sudo find / -gid 1002 -exec chgrp 1016 {} \\;\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#comando-groupdel","title":"comando <code>groupdel</code>","text":"<p>Il comando <code>groupdel</code> si usa per eliminare un gruppo esistente sul sistema.</p> <pre><code>groupdel group\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo groupdel GroupC\n</code></pre> <p>Suggerimento</p> <p>Quando si elimina un gruppo, si possono verificare due condizioni:</p> <ul> <li>Se un utente ha un gruppo primario unico e si lancia il comando <code>groupdel</code> su quel gruppo, verr\u00e0 indicato che c'\u00e8 un utente specifico sotto il gruppo e che non pu\u00f2 essere cancellato.</li> <li>Se un utente appartiene a un gruppo supplementare (non il gruppo primario dell'utente) e tale gruppo non \u00e8 il gruppo primario di un altro utente del sistema, il comando <code>groupdel</code> eliminer\u00e0 il gruppo senza ulteriori richieste.</li> </ul> <p>Esempi:</p> <pre><code>Shell &gt; useradd testa\nShell &gt; id testa\nuid=1000(testa) gid=1000(testa) group=1000(testa)\nShell &gt; groupdel testa\ngroupdel: cannot remove the primary group of user 'testa'\n\nShell &gt; groupadd -g 1001 testb\nShell &gt; usermod -G testb root\nShell &gt; id root\nuid=0(root) gid=0(root) group=0(root),1001(testb)\nShell &gt; groupdel testb\n</code></pre> <p>Suggerimento</p> <p>Quando si elimina un utente con il comando <code>userdel -r</code>, viene eliminato anche il gruppo primario corrispondente. Il nome del gruppo primario di solito corrisponde al nome dell'utente.</p> <p>Suggerimento</p> <p>Ogni gruppo ha un <code>GID</code> unico. Un gruppo pu\u00f2 essere utilizzato da pi\u00f9 utenti come gruppo supplementare. Per convenzione, il GID del super amministratore \u00e8 0. Il GIDS riservato ad alcuni servizi o processi sono 201~999, che sono chiamati gruppi di sistema o gruppi di utenti pseudo. Il GID per gli utenti \u00e8 solitamente maggiore o uguale a 1000. Questi sono relativi a /etc/login.defs, di cui parleremo pi\u00f9 tardi.</p> <pre><code># Comment line ignored\nshell &gt; cat  /etc/login.defs\nMAIL_DIR        /var/spool/mail\nUMASK           022\nHOME_MODE       0700\nPASS_MAX_DAYS   99999\nPASS_MIN_DAYS   0\nPASS_MIN_LEN    5\nPASS_WARN_AGE   7\nUID_MIN                  1000\nUID_MAX                 60000\nSYS_UID_MIN               201\nSYS_UID_MAX               999\nGID_MIN                  1000\nGID_MAX                 60000\nSYS_GID_MIN               201\nSYS_GID_MAX               999\nCREATE_HOME     yes\nUSERGROUPS_ENAB yes\nENCRYPT_METHOD SHA512\n</code></pre> <p>Suggerimento</p> <p>Poich\u00e9 un utente fa necessariamente parte di un gruppo, \u00e8 meglio creare i gruppi prima di aggiungere gli utenti. Pertanto, un gruppo potrebbe non avere alcun membro.</p>"},{"location":"Altre-Guide/gestione-utenti/#file-etcgroup","title":"file <code>/etc/group</code>","text":"<p>Questo file contiene le informazioni del Gruppo (divise da <code>:</code>).</p> <pre><code>$ sudo tail -1 /etc/group\nGroupP:x:516:patrick\n  (1)  (2)(3)   (4)\n</code></pre> <ul> <li>1: Nome del gruppo.</li> <li>2: La password del gruppo \u00e8 identificata da una <code>x</code>. La password del gruppo \u00e8 memorizzata in <code>/etc/gshadow</code>.</li> <li>3: GID.</li> <li>4: Utenti supplementari del gruppo (escluso l'utente primario unico).</li> </ul> <p>Nota</p> <p>Ogni riga nel file <code>/etc/group</code> corrisponde a un gruppo. Le informazioni principali dell'utente sono memorizzate in <code>/etc/passwd</code>.</p>"},{"location":"Altre-Guide/gestione-utenti/#file-etcgshadow","title":"file <code>/etc/gshadow</code>","text":"<p>Questo file contiene le informazioni di sicurezza sui gruppi (divisi da <code>:</code>).</p> <pre><code>$ sudo grep GroupA /etc/gshadow\nGroupA:$6$2,9,v...SBn160:alain:arch\n   (1)      (2)            (3)      (4)\n</code></pre> <ul> <li>1: Nome del gruppo.</li> <li>2: Password criptata.</li> <li>3: Nome dell'amministratore del gruppo.</li> <li>4: Utenti supplementari del gruppo (escluso l'utente primario unico).</li> </ul> <p>Attenzione</p> <p>Il nome del gruppo in /etc/group e /etc/gshadow deve corrispondere uno a uno, cio\u00e8 ogni riga del file /etc/group deve avere una riga corrispondente nel file /etc/gshadow.</p> <p>Un <code>!</code> nella password indica che la password \u00e8 bloccata. Quindi nessun utente pu\u00f2 utilizzare la password per accedere al gruppo (dal momento che i membri del gruppo non ne hanno bisogno).</p>"},{"location":"Altre-Guide/gestione-utenti/#gestione-utenti_1","title":"Gestione utenti","text":""},{"location":"Altre-Guide/gestione-utenti/#definizione","title":"Definizione","text":"<p>Un utente \u00e8 definito come segue nel file <code>/etc/passwd</code>:</p> <ul> <li>1: Login name;</li> <li>2: Identificazione della password, <code>x</code> indica che l'utente ha una password, la password criptata \u00e8 memorizzata nel secondo campo di <code>/etc/shadow</code>;</li> <li>3: UID;</li> <li>4: GID del gruppo primario;</li> <li>5: Commenti;</li> <li>6: Home directory;</li> <li>7: Shell (<code>/bin/bash</code>, <code>/bin/nologin</code>, ...).</li> </ul> <p>Esistono tre tipi di utenti:</p> <ul> <li>root(uid=0): l'amministratore di sistema;</li> <li>system users(uid \u00e8 uno da 201~999): Utilizzato dal sistema per gestire i diritti di accesso alle applicazioni;</li> <li>utente normale (uid&gt;=1000): Altro account per accedere al sistema.</li> </ul> <p>File modificati, righe aggiunte:</p> <ul> <li><code>/etc/passwd</code></li> <li><code>/etc/shadow</code></li> </ul>"},{"location":"Altre-Guide/gestione-utenti/#comando-useradd","title":"comando <code>useradd</code>","text":"<p>Il comando <code>useradd</code> \u00e8 usato per aggiungere un utente.</p> <pre><code>useradd [-u UID] [-g GID] [-d directory] [-s shell] login\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo useradd -u 1000 -g 1013 -d /home/GroupC/carine carine\n</code></pre> Opzione Descrizione <code>-u UID</code> <code>UID</code> dell'utente da creare. <code>-g GID</code> <code>GID</code> del gruppo primario. Il <code>GID</code> qui pu\u00f2 anche essere un <code>nome di un gruppo</code>. <code>-G GID1,[GID2]...</code> <code>GID</code> dei gruppi supplementari. Il <code>GID</code> qui pu\u00f2 anche essere un <code>nome di un gruppo</code>. \u00c8 possibile specificare molti gruppi supplementari separati da virgole. <code>-d directory</code> Crea la directory home. <code>-s shell</code> Specifica la shell dell'utente. <code>-c COMMENT</code> Aggiunge un commento. <code>-U</code> Aggiunge l'utente a un gruppo con lo stesso nome che viene creato nello stesso momento. Se non viene specificato, la creazione di un gruppo con lo stesso nome avviene durante la creazione dell'utente. <code>-M</code> Non crea la home directory dell'utente. <code>-r</code> Crea un account di sistema. <p>Alla creazione, l'account non ha una password ed \u00e8 bloccato.</p> <p>Per sbloccare l'account \u00e8 necessario assegnare una password.</p> <p>Quando il comando <code>useradd</code> non ha opzioni, appare:</p> <ul> <li>Crea una home directory con lo stesso nome;</li> <li>Crea un gruppo primario con lo stesso nome;</li> <li>La shell predefinita \u00e8 bash;</li> <li>I valori UID e GID del gruppo primario dell'utente vengono automaticamente detratti. Questo \u00e8 di solito un valore unico tra 1000 e 60.000.</li> </ul> <p>Nota</p> <p>Le impostazioni e i valori predefiniti si ottengono dai seguenti file di configurazione:</p> <p><code>/etc/login.defs</code> e <code>/etc/default/useradd</code></p> <pre><code>Shell &gt; useradd test1\n\nShell &gt; tail -n 1 /etc/passwd\ntest1:x:1000:1000::/home/test1:/bin/bash\n\nShell &gt; tail -n 1 /etc/shadow\ntest1:!!:19253:0:99999:7\n:::\n\nShell &gt; tail -n 1 /etc/group ; tail -n 1 /etc/gshadow\ntest1:x:1000:\ntest1:!::\n</code></pre> <p>Regole di denominazione dell'account:</p> <ul> <li>Niente accenti, lettere maiuscole o caratteri speciali;</li> <li>Anche se \u00e8 possibile utilizzare un nome utente in maiuscolo in archLinux, non lo raccomandiamo;</li> <li>Opzionale: imposta le opzioni <code>-u</code>, <code>-g</code>, <code>-d</code> e <code>-s</code> alla creazione.</li> <li>Diverso dal nome di un gruppo o file di sistema esistente;</li> <li>Il nome utente pu\u00f2 contenere fino a 32 caratteri.</li> </ul> <p>Attenzione</p> <p>L'albero delle home directory deve essere creato tranne che per l'ultima directory.</p> <p>L'ultima directory \u00e8 creata dal comando <code>useradd</code>, che coglie l'occasione per copiare i file da <code>/etc/skel</code> dentro di essa.</p> <p>Un utente pu\u00f2 appartenere a diversi gruppi oltre al proprio gruppo primario.</p> <p>Esempio:</p> <pre><code>$ sudo useradd -u 1000 -g GroupA -G GroupP,GroupC albert\n</code></pre> <p>Nota</p> <p>Sotto Debian, dovrai specificare l'opzione <code>-m</code> per forzare la creazione della directory di login o impostare la variabile <code>CREATE_HOME</code> nel file <code>/etc/login.defs</code>. In tutti i casi, l'amministratore dovrebbe usare i comandi <code>adduser</code> e <code>deluser</code> come specificato in <code>man</code>, tranne che negli script destinati a essere trasferiti a tutte le distribuzioni Linux:</p> <pre><code>$ man useradd\nDESCRIPTION\n    **useradd** is a low level utility for adding users. On Debian, administrators should usually use **adduser(8)**\n     instead.\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#valori-predefiniti-per-la-creazione-dellutente","title":"Valori predefiniti per la creazione dell'utente.","text":"<p>Modifica del file <code>/etc/default/useradd</code>.</p> <pre><code>useradd -D [-b directory] [-g group] [-s shell]\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo useradd -D -g 1000 -b /home -s /bin/bash\n</code></pre> Opzione Descrizione <code>-D</code> Imposta i valori predefiniti per la creazione dell'utente. <code>-b directory</code> Imposta la directory di accesso predefinita. <code>-g group</code> Imposta il gruppo predefinito. <code>-s shell</code> Imposta la shell predefinita. <code>-f</code> Imposta il numero di giorni dopo la scadenza della password prima di disabilitare l'account. <code>-e</code> Imposta la data di disabilitazione dell'account."},{"location":"Altre-Guide/gestione-utenti/#comando-usermod","title":"comando <code>usermod</code>","text":"<p>Il comando <code>usermod</code> permette di modificare un utente.</p> <pre><code>usermod [-u UID] [-g GID] [-d directory] [-m] login\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo usermod -u 1044 carine\n</code></pre> <p>Opzioni identiche al comando <code>useradd</code>.</p> Opzione Descrizione <code>-m</code> Associato all'opzione <code>-d</code>. Sposta il contenuto della vecchia directory di login in quella nuova. Se la vecchia home directory non esiste, la creazione di una nuova home directory non avviene; la creazione della nuova home directory avviene se non esiste. <code>-l login</code> Modifica il nome di accesso. Dopo aver modificato il nome di accesso, \u00e8 anche necessario modificare il nome della directory home per abbinarlo. <code>-e YYYY-MM-DD</code> Modifica la data di scadenza dell'account. <code>-L</code> Blocca l'account in modo permanente. Cio\u00e8, aggiunge un <code>!</code> all'inizio del campo della password <code>/etc/shadow</code>. <code>-U</code> Sblocca l'account. <code>-a</code> Aggiunge i gruppi supplementari dell'utente, che devono essere usati insieme all'opzione <code>-G</code>. <code>-G</code> Modifica i gruppi supplementari dell'utente e sovrascrive i gruppi supplementari precedenti. <p>Suggerimento</p> <p>Per essere modificato, un utente deve essere disconnesso e non avere processi in corso.</p> <p>Dopo aver cambiato l'identificatore, i file appartenenti all'utente hanno un <code>UID</code> sconosciuto . Deve essere riassegnato il nuovo <code>UID</code>.</p> <p>Dove <code>1000</code> \u00e8 il vecchio <code>UID</code> e <code>1044</code> quello nuovo. Gli esempi sono i seguenti:</p> <pre><code>$ sudo find / -uid 1000 -exec chown 1044: {} \\;\n</code></pre> <p>Blocco e sblocco dell'account utente, gli esempi sono i seguenti:</p> <pre><code>Shell &gt; usermod -L test1\nShell &gt; grep test1 /etc/shadow\ntest1:!$6$n.hxglA.X5r7X0ex$qCXeTx.kQVmqsPLeuvIQnNidnSHvFiD7bQTxU7PLUCmBOcPNd5meqX6AEKSQvCLtbkdNCn.re2ixYxOeGWVFI0:19259:0:99999:7\n:::\n\nShell &gt; usermod -U test1\n</code></pre> <p>La differenza tra l'opzione <code>-aG</code> e l'opzione <code>-G</code> pu\u00f2 essere spiegata dal seguente esempio:</p> <pre><code>Shell &gt; useradd test1\nShell &gt; passwd test1\nShell &gt; groupadd groupA ; groupadd groupB ; groupadd groupC ; groupadd groupD\nShell &gt; id test1\nuid=1000(test1) gid=1000(test1) groups=1000(test1)\n\nShell &gt; gpasswd -a test1 groupA\nShell &gt; id test1\nuid=1000(test1) gid=1000(test1) groups=1000(test1),1002(groupA)\n\nShell &gt; usermod -G groupB,groupC test1\nShell &gt; id test1 uid=1000(test1) gid=1000(test1) gorups=1000(test1),1003(groupB),1004(groupC)\n\nShell &gt; usermod -aG groupD test1\nuid=1000(test1) gid=1000(test1) groups=1000(test1),1003(groupB),1004(groupC),1005(groupD)\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#comando-userdel","title":"comando <code>userdel</code>","text":"<p>Il comando <code>userdel</code> consente di eliminare l'account di un utente.</p> <pre><code>$ sudo userdel -r carine\n</code></pre> Opzione Descrizione <code>-r</code> Cancella la directory home dell'utente e i file di posta che si trovano nella directory <code>/var/spool/mail/</code> <p>Suggerimento</p> <p>Per essere eliminato, un utente deve essere disconnesso e non avere processi in esecuzione.</p> <p>Il comando <code>userdel</code> rimuove le righe corrispondenti in <code>/etc/passwd</code>, <code>/ etc/shadow</code>, <code>/etc/group</code>, <code>/etc/gshadow</code>. Come accennato in precedenza, <code>userdel -r</code> canceller\u00e0 anche il corrispondente gruppo primario dell'utente.</p>"},{"location":"Altre-Guide/gestione-utenti/#file-etcpasswd","title":"file <code>/etc/passwd</code>","text":"<p>Questo file contiene le informazioni utente (divise da <code>:</code>).</p> <pre><code>$ sudo head -1 /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\n(1)(2)(3)(4)(5)  (6)    (7)\n</code></pre> <ul> <li>1: Login name;</li> <li>2: Identificazione della password, <code>x</code> indica che l'utente ha una password, la password criptata \u00e8 memorizzata nel secondo campo di <code>/etc/shadow</code>;</li> <li>3: UID.</li> <li>4: GID del gruppo primario;</li> <li>5: Commenti;</li> <li>6: Home directory;</li> <li>7: Shell (<code>/bin/bash</code>, <code>/bin/nologin</code>, ...).</li> </ul>"},{"location":"Altre-Guide/gestione-utenti/#file-etcshadow","title":"file <code>/etc/shadow</code>","text":"<p>Questo file contiene le informazioni di sicurezza degli utenti (separate da <code>:</code>). <pre><code>$ sudo tail -1 /etc/shadow\nroot:$6$...:15399:0:99999:7\n:::\n (1)    (2)  (3) (4) (5) (6)(7,8,9)\n</code></pre></p> <ul> <li>1: Nome Login.</li> <li>2: Password criptata. Utilizza l'algoritmo di crittografia SHA512, definito dal <code>ENCRYPT_METHOD</code> di <code>/etc/login.defs</code>.</li> <li>3: L'ora in cui la password \u00e8 stata cambiata l'ultima volta, il formato timestamp, in giorni. Il cosiddetto timestamp si basa sul 1 gennaio 1970 come orario standard. Ogni volta che un giorno passa, il timestamp \u00e8 +1.</li> <li>4: Durata minima della password. Ovvero, l'intervallo di tempo tra due modifiche della password (relative al terzo campo), in giorni.  Definito dal <code>PASS_MIN_DAYS</code> di <code>/etc/login.defs</code>, il valore predefinito \u00e8 0, cio\u00e8, quando cambi la password per la seconda volta, non c'\u00e8 alcuna restrizione. Tuttavia, se \u00e8 5, significa che non \u00e8 permesso cambiare la password entro 5 giorni, e solo dopo 5 giorni.</li> <li>5: Durata massima della password. Cio\u00e8, il periodo di validit\u00e0 della password (relativo al terzo campo). Definito dal <code>PASS_MAX_DAYS</code> di <code>/etc/login.defs</code>.</li> <li>6: Il numero di giorni di avviso prima della scadenza della password (relativo al quinto campo). Il valore predefinito \u00e8 di 7 giorni, definito dal <code>PASS_WARN_AGE</code> di <code>/etc/login.defs</code>.</li> <li>7: Numero di giorni di tolleranza dopo la scadenza della password (in relazione al quinto campo).</li> <li>8: Tempo di scadenza dell'account, il formato del timestamp, in giorni. Nota che la scadenza di un account differisce dalla scadenza di una password. In caso di scadenza di un account, l'utente non pu\u00f2 effettuare il login. In caso di scadenza della password, all'utente non \u00e8 consentito effettuare il login utilizzando la sua password.</li> <li>9: Riservato per un uso futuro.</li> </ul> <p>Pericolo</p> <p>Per ogni riga del file <code>/etc/passwd</code> deve esserci una riga corrispondente nel file <code>/etc/shadow</code>.</p> <p>Per la conversione della data e dell'ora, fare riferimento al seguente formato di comando:</p> <pre><code># Il timestamp viene convertito in una data, \"17718\" indica il timestamp da inserire.\nShell &gt; date -d \"1970-01-01 17718 days\" # La data \u00e8 convertita in un timestamp, \"2018-07-06\" indica la data da compilare.\nShell &gt; echo $(($(date --date=\"2018-07-06\" +%s)/86400+1))\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#proprietari-dei-file","title":"Proprietari dei file","text":"<p>Pericolo</p> <p>Tutti i file appartengono necessariamente a un utente e a un gruppo.</p> <p>Il gruppo primario dell'utente che crea il file \u00e8, per impostazione predefinita, il gruppo proprietario del file.</p>"},{"location":"Altre-Guide/gestione-utenti/#comandi-di-modifica","title":"Comandi di modifica","text":""},{"location":"Altre-Guide/gestione-utenti/#comando-chown","title":"comando <code>chown</code>","text":"<p>Il comando <code>chown</code> consente di cambiare i proprietari di un file. <pre><code>chown [-R] [-v] login[:group] file\n</code></pre></p> <p>Esempi: <pre><code>$ sudo chown root myfile\n$ sudo chown albert:GroupA myfile\n</code></pre></p> Opzione Descrizione <code>-R</code> Cambia ricorsivamente i proprietari della directory e di tutti i file in essa contenuti. <code>-v</code> Visualizza le modifiche. <p>Per cambiare solo l'utente proprietario:</p> <pre><code>$ sudo chown albert file\n</code></pre> <p>Per modificare solo il gruppo proprietario:</p> <pre><code>$ sudo chown :GroupA file\n</code></pre> <p>Modifica dell'utente e del gruppo proprietario:</p> <pre><code>$ sudo chown albert:GroupA file\n</code></pre> <p>Nell'esempio seguente, il gruppo assegnato sar\u00e0 il gruppo primario dell'utente specificato.</p> <pre><code>$ sudo chown albert: file\n</code></pre> <p>Cambia il proprietario e il gruppo di tutti i file in una directory</p> <pre><code>$ sudo chown -R albert:GroupA /dir1\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#comando-chgrp","title":"comando <code>chgrp</code>","text":"<p>Il comando <code>chgrp</code> consente di cambiare il gruppo proprietario di un file.</p> <pre><code>chgrp [-R] [-v] group file\n</code></pre> <p>Esempio: <pre><code>$ sudo chgrp group1 file\n</code></pre></p> Opzione Descrizione <code>-R</code> Modifica i gruppi proprietari della directory e dei suoi contenuti (ricorsivo). <code>-v</code> Visualizza le modifiche. <p>Nota</p> <p>\u00c8 possibile applicare a un file un proprietario e un gruppo di proprietari prendendo come riferimento quelli di un altro file:</p> <pre><code>chown [options] --reference=RRFILE FILE\n</code></pre> <p>Per esempio:</p> <pre><code>chown --reference=/etc/groups /etc/passwd\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#gestione-degli-ospiti","title":"Gestione degli ospiti","text":""},{"location":"Altre-Guide/gestione-utenti/#comando-gpasswd","title":"comando <code>gpasswd</code>","text":"<p>Il comando <code>gpasswd</code> permette di gestire un gruppo.</p> <pre><code>gpasswd [-a login] [-A login] [-d login] [-M login] group\n</code></pre> <p>Esempi:</p> <pre><code>$ sudo gpasswd -A alain GroupA\n[alain]$ gpasswd -a patrick GroupA\n</code></pre> Opzione Descrizione <code>-a login</code> Aggiunge l'utente al gruppo. Per l'utente aggiunto, questo gruppo \u00e8 un gruppo supplementare. <code>-A login</code> Imposta l'elenco degli utenti amministrativi. <code>-d USER</code> Rimuove l'utente dal gruppo. <code>-M USER,...</code> Imposta l'elenco dei membri del gruppo. <p>Il comando <code>gpasswd -M</code> agisce come una modifica, non come un'aggiunta.</p> <pre><code># gpasswd GroupeA\nNew Password:\nRe-enter new password:\n</code></pre> <p>Nota</p> <p>Oltre a usare <code>gpasswd -a</code> per aggiungere utenti a un gruppo, si pu\u00f2 anche usare <code>usermod -G</code> o <code>usermod -AG</code> menzionati prima.</p>"},{"location":"Altre-Guide/gestione-utenti/#comando-id","title":"comando <code>id</code>","text":"<p>Il comando <code>id</code> visualizza i nomi del gruppo di un utente.</p> <pre><code>id USER\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo id alain\nuid=1000(alain) gid=1000(GroupA) groupes=1000(GroupA),1016(GroupP)\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#comando-newgrp","title":"comando <code>newgrp</code>","text":"<p>Il comando <code>newgrp</code> pu\u00f2 selezionare un gruppo, dai gruppi supplementari dell'utente, come nuovo gruppo primario temporaneo. Il comando <code>newgrp</code> ogni volta che viene cambiato il gruppo primario di un utente, crea una nuova child shell (child process). Fai attenzione! child shell e sub shell sono diverse.</p> <pre><code>newgrp [secondarygroups]\n</code></pre> <p>Esempio:</p> <pre><code>Shell &gt; useradd test1\nShell &gt; passwd test1\nShell &gt; groupadd groupA ; groupadd groupB \nShell &gt; usermod -G groupA,groupB test1\nShell &gt; id test1\nuid=1000(test1) gid=1000(test1) groups=1000(test1),1001(groupA),1002(groupB)\nShell &gt; echo $SHLVL ; echo $BASH_SUBSHELL\n1\n0\n\nShell &gt; su - test1\nShell &gt; touch a.txt\nShell &gt; ll\n-rw-rw-r-- 1 test1 test1 0 10\u6708  7 14:02 a.txt\nShell &gt; echo $SHLVL ; echo $BASH_SUBSHELL\n1\n0\n\n# Generate a new child shell\nShell &gt; newgrp groupA\nShell &gt; touch b.txt\nShell &gt; ll\n-rw-rw-r-- 1 test1 test1  0 10\u6708  7 14:02 a.txt\n-rw-r--r-- 1 test1 groupA 0 10\u6708  7 14:02 b.txt\nShell &gt; echo $SHLVL ; echo $BASH_SUBSHELL\n2\n0\n\n# You can exit the child shell using the `exit` command\nShell &gt; exit\nShell &gt; logout\nShell &gt; whoami\nroot\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#protezione","title":"Protezione","text":""},{"location":"Altre-Guide/gestione-utenti/#commando-passwd","title":"commando <code>passwd</code>","text":"<p>Il comando <code>passwd</code> viene utilizzato per gestire una password.</p> <pre><code>passwd [-d] [-l] [-S] [-u] [login]\n</code></pre> <p>Esempi:</p> <pre><code>Shell &gt; passwd -l albert\nShell &gt; passwd -n 60 -x 90 -w 80 -i 10 patrick\n</code></pre> Opzione Descrizione <code>-d</code> Rimuove in modo permanente la password. Solo per root (uid=0). <code>-l</code> Blocca in modo permanente l'account utente. Solo per root (uid=0). <code>-S</code> Visualizza lo stato dell'account. Solo per root (uid=0). <code>-u</code> Sblocca in modo permanente l'account utente. Solo per root (uid=0). <code>-e</code> Fa scadere definitivamente la password. Solo per root (uid=0). <code>-n DAYS</code> Definisce la durata minima della password. Cambiamento permanente. Solo per root (uid=0). <code>-x DAYS</code> Definisce la durata massima della password. Cambiamento permanente. Solo per root (uid=0). <code>-w DAYS</code> Definisce il tempo di avviso prima della scadenza. Cambiamento permanente. Solo per root (uid=0). <code>-i DAYS</code> Definisce il ritardo prima della disattivazione quando la password scade. Cambiamento permanente. Solo per root (uid=0). <p>Usare <code>password -l</code>, cio\u00e8 aggiungere \"!!\" all'inizio del campo della password dell'utente corrispondente a <code>/etc/shadow</code>.</p> <p>Esempio:</p> <ul> <li>Alain cambia la sua password:</li> </ul> <pre><code>[alain]$ passwd\n</code></pre> <ul> <li>root cambia la password di Alain</li> </ul> <pre><code>$ sudo passwd alain\n</code></pre> <p>Nota</p> <p>Il comando <code>passwd</code> \u00e8 disponibile per gli utenti per modificare la loro password (\u00e8 richiesta la vecchia password). L'amministratore pu\u00f2 modificare le password di tutti gli utenti senza restrizioni.</p> <p>Dovranno rispettare le restrizioni di sicurezza.</p> <p>Quando si gestiscono gli account utente tramite script di shell, pu\u00f2 essere utile impostare una password predefinita dopo la creazione dell'utente.</p> <p>Questo pu\u00f2 essere fatto passando la password al comando <code>passwd</code>.</p> <p>Esempio:</p> <pre><code>$ sudo echo \"azerty,1\" | passwd --stdin philippe\n</code></pre> <p>Attenzione</p> <p>La password viene inserita in chiaro, <code>passwd</code> si occupa di crittografarla.</p>"},{"location":"Altre-Guide/gestione-utenti/#comando-chage","title":"comando <code>chage</code>","text":"<p>Il comando <code>chage</code> modifica le informazioni sulla scadenza della password utente.</p> <pre><code>chage [-d date] [-E date] [-I days] [-l] [-m days] [-M days] [-W days] [login]\n</code></pre> <p>Esempio:</p> <pre><code>$ sudo chage -m 60 -M 90 -W 80 -I 10 alain\n</code></pre> Opzione Descrizione <code>-I DAYS</code> Definisce i giorni di ritardo prima della disattivazione, a password scaduta. Cambiamento permanente. <code>-l</code> Visualizza i dettagli della politica. <code>-m DAYS</code> Definisce la durata minima della password. Cambiamento permanente. <code>-M DAYS</code> Definisce la durata massima della password. Cambiamento permanente. <code>-d LAST_DAY</code> Definisce il numero di giorni dall'ultima modifica della password. \u00c8 possibile utilizzare lo stile di data e ora dei giorni o lo stile YYYY-MM-DD. Cambiamento permanente. <code>-E EXPIRE_DATE</code> Definisce la data di scadenza dell'account. \u00c8 possibile utilizzare lo stile di data e ora dei giorni o lo stile YYYY-MM-DD. Cambiamento permanente. <code>-W WARN_DAYS</code> Definisce il numero di giorni di avviso prima della scadenza. Cambiamento permanente. <p>Esempi:</p> <pre><code># Il comando `chage` offre anche una modalit\u00e0 interattiva.\n$ sudo chage philippe\n\n# L'opzione `-d` costringe la password a essere cambiata al login.\n$ sudo chage -d 0 philippe\n</code></pre> <p></p>"},{"location":"Altre-Guide/gestione-utenti/#gestione-avanzata","title":"Gestione avanzata","text":"<p>File di configurazione:</p> <ul> <li><code>/etc/default/useradd</code></li> <li><code>/etc/login.defs</code></li> <li><code>/etc/skel</code></li> </ul> <p>Nota</p> <p>La modifica del file <code>/etc/default/useradd</code> viene eseguita con il comando <code>useradd</code>.</p> <p>Gli altri file devono essere modificati con un editor di testo.</p>"},{"location":"Altre-Guide/gestione-utenti/#file-etcdefaultuseradd","title":"file <code>/etc/default/useradd</code>","text":"<p>Questo file contiene le impostazioni predefinite dei dati.</p> <p>Suggerimento</p> <p>Quando si crea un utente, se le opzioni non sono specificate, il sistema utilizza i valori di default definiti in <code>/etc/default/useradd</code>.</p> <p>Questo file \u00e8 modificato dal comando <code>useradd -D</code> (<code>useradd -D</code> inserito senza nessun'altra opzione visualizza il contenuto del file <code>/etc/default/useradd</code>).</p> <pre><code>Shell &gt; grep -v ^# /etc/default/useradd \nGROUP=100\nHOME=/home\nINACTIVE=-1\nEXPIRE=\nSHELL=/bin/bash\nSKEL=/etc/skel\nCREATE_MAIL_SPOOL=yes\n</code></pre> Parametri Commento <code>GROUP</code> Definisce il GID del gruppo primario predefinito. <code>HOME</code> Definisce il percorso della directory del livello superiore della home directory dell'utente comune. <code>INACTIVE</code> Numero di giorni di tolleranza dopo la scadenza della password. Corrisponde al 7\u00b0 campo del file <code>/etc/shadow</code>. Il valore <code>-1</code> indica che il periodo di tolleranza \u00e8 disattivato. <code>EXPIRE</code> Definisce la data di scadenza dell'account. Corrisponde all'ottavo campo del file <code>/etc/shadow</code>. <code>SHELL</code> Definisce l'interprete dei comandi. <code>SKEL</code> Definisce la struttura della directory di login. <code>CREATE_MAIL_SPOOL</code> Definisce la creazione della cassetta postale in <code>/var/spool/mail/</code>. <p>Se non si ha bisogno di un gruppo primario con lo stesso nome quando si creano gli utenti, si pu\u00f2 fare cos\u00ec:</p> <pre><code>Shell &gt; useradd -N test2\nShell &gt; id test2\nuid=1001(test2) gid=100(users) groups=100(users)\n</code></pre>"},{"location":"Altre-Guide/gestione-utenti/#file-etclogindefs","title":"file <code>/etc/login.defs</code>","text":"<pre><code># Comment line ignored\nshell &gt; cat  /etc/login.defs\nMAIL_DIR        /var/spool/mail\nUMASK           022\nHOME_MODE       0700\nPASS_MAX_DAYS   99999\nPASS_MIN_DAYS   0\nPASS_MIN_LEN    5\nPASS_WARN_AGE   7\nUID_MIN                  1000\nUID_MAX                 60000\nSYS_UID_MIN               201\nSYS_UID_MAX               999\nGID_MIN                  1000\nGID_MAX                 60000\nSYS_GID_MIN               201\nSYS_GID_MAX               999\nCREATE_HOME     yes\nUSERGROUPS_ENAB yes\nENCRYPT_METHOD SHA512\n</code></pre> <p><code>UMASK 022</code>: Ci\u00f2 significa che il permesso di creare un file \u00e8 755 (rwxr-xr-x). Tuttavia, per motivi di sicurezza, GNU/Linux non prevede il permesso x per i file appena creati; questa restrizione si applica a root (uid=0) e agli utenti ordinari (uid&gt;=1000). Per esempio:</p> <pre><code>Shell &gt; touch a.txt\nShell &gt; ll\n-rw-r--r-- 1 root root     0 Oct  8 13:00 a.txt\n</code></pre> <p><code>HOME_MODE 0700</code>: I permessi della directory home di un utente ordinario. Non funziona per la directory home di root.</p> <pre><code>Shell &gt; ll -d /root\ndr-xr-x---. 10 root root 4096 Oct  8 13:12 /root\n\nShell &gt; ls -ld /home/test1/\ndrwx------ 2 test1 test1 4096 Oct  8 13:10 /home/test1/\n</code></pre> <p><code>USERGROUPS_ENAB yes</code>: \"Quando si elimina un utente con il comando <code>userdel -r</code>, viene eliminato anche il gruppo primario corrispondente.\" Perch\u00e9? Questo \u00e8 il motivo.</p>"},{"location":"Altre-Guide/gestione-utenti/#directory-etcskel","title":"directory <code>/etc/skel</code>","text":"<p>Quando viene creato un utente, vengono creati la sua home directory e i suoi file di ambiente. I file della directory <code>/etc/skel/</code> sono i modelli di file necessari per creare gli utenti.</p> <p>Questi file vengono copiati automaticamente dalla directory <code>/etc/skel</code>.</p> <ul> <li><code>.bash_logout</code></li> <li><code>.bash_profile</code></li> <li><code>.bashrc</code></li> </ul> <p>Tutti i file e le directory collocati in questa directory saranno copiati nell'albero utente al momento della loro creazione.</p>"},{"location":"Altre-Guide/gestione-utenti/#cambiamento-di-identita","title":"Cambiamento di identit\u00e0","text":""},{"location":"Altre-Guide/gestione-utenti/#comando-su","title":"comando <code>su</code>","text":"<p>Il comando <code>su</code> consente di cambiare l'identit\u00e0 dell'utente connesso.</p> <pre><code>su [-] [-c command] [login]\n</code></pre> <p>Esempi:</p> <pre><code>$ sudo su - alain\n[albert]$ su - root -c \"passwd alain\"\n</code></pre> Opzione Descrizione <code>-</code> Carica l'ambiente completo dell'utente. <code>-c</code> comando Esegue il comando sotto l'identit\u00e0 dell'utente specificato. <p>Se il login non \u00e8 specificato, sar\u00e0 <code>root</code>.</p> <p>Gli utenti standard dovranno digitare la password per la nuova identit\u00e0.</p> <p>Suggerimento</p> <p>\u00c8 possibile utilizzare il comando <code>exit</code>/<code>logout</code> per far uscire gli utenti che sono stati attivati. Si noti che dopo il cambio di utente non esiste una nuova <code>child shell</code> o <code>sub shell</code>, ad esempio:</p> <pre><code>Shell &gt; whoami\nroot\nShell &gt; echo $SHLVL ; echo $BASH_SUBSHELL\n1\n0\n\nShell &gt; su - test1\nShell &gt; echo $SHLVL ; echo $BASH_SUBSHELL\n1\n0\n</code></pre> <p>Attenzione! <code>su</code> e <code>su -</code> sono diversi, come mostrato nell'esempio seguente:</p> <pre><code>Shell &gt; whoami\ntest1\nShell &gt; su root\nShell &gt; pwd\n/home/test1\n\nShell &gt; env\n...\nUSER=test1\nPWD=/home/test1\nHOME=/root\nMAIL=/var/spool/mail/test1\nLOGNAME=test1\n...\n</code></pre> <pre><code>Shell &gt; whoami\ntest1\nShell &gt; su - root\nShell &gt; pwd\n/root\n\nShell &gt; env\n...\nUSER=root\nPWD=/root\nHOME=/root\nMAIL=/var/spool/mail/root\nLOGNAME=root\n...\n</code></pre> <p>Quindi, quando si vuole cambiare utente, ricordarsi di non dimenticare il <code>-</code>. Poich\u00e9 non vengono caricati i file delle variabili d'ambiente necessarie, potrebbero verificarsi problemi nell'esecuzione di alcuni programmi.</p>"},{"location":"Altre-Guide/grub/","title":"Grub","text":"<p>Grub, acronimo di GRand Unified Bootloader, \u00e8 un gestore di avvio molto utile per selezionare il sistema operativo che si desidera avviare all'avvio del computer.</p> <p>Di seguito \u00e8 riportata una guida per l'installazione e la configurazione di Grub su Arch Linux.</p> <ol> <li> <p>Installare Grub tramite il gestore di pacchetti</p> <ul> <li>Aprire un terminale e digitare il seguente comando:   </li> </ul> <pre><code>sudo pacman -S grub\n</code></pre> <pre><code>&lt;br&gt;\n</code></pre> </li> <li> <p>Creare la configurazione di Grub</p> <ul> <li>Digitare il seguente comando per generare la configurazione di Grub:   </li> </ul> <pre><code>sudo grub-mkconfig -o /boot/grub/grub.cfg\n</code></pre> <p></p> </li> <li> <p>Configurare Grub</p> <ul> <li> <p>Aprire il file di configurazione di Grub tramite il seguente comando:</p> <p> <pre><code>sudo nano /etc/default/grub\n</code></pre>     - Navigare per il file di configurazione e modificare i parametri secondo le preferenze personali.       Esempio:       <pre><code>GRUB_DEFAULT=0\nGRUB_TIMEOUT=5\nGRUB_DISTRIBUTOR=\"Arch\"\nGRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\"\nGRUB_CMDLINE_LINUX=\"loglevel=3\"\n</code></pre>     - Salvare le modifiche e chiudere il file di configurazione.</p> </li> </ul> </li> </ol> <p> </p> <ol> <li>Aggiornare Grub<ul> <li>Digitare il seguente comando per aggiornare Grub con le modifiche apportate:</li> </ul> </li> </ol> <p><pre><code>sudo grub-mkconfig -o /boot/grub/grub.cfg\n</code></pre> </p> <p>installazione UEFI</p> <p>1 - Installazione di Grub:</p> <p><code># pacman -S efibootmgr grub</code></p> <p><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></p> <p>1a - Supporto per l'avvio protetto:</p> <p>GRUB supporta completamente l'avvio protetto utilizzando chiavi CA o shim, tuttavia il comando di installazione \u00e8 diverso a seconda di quale si intende utilizzare.</p> <p>Per utilizzare le chiavi CA il comando \u00e8:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>Per utilizzare shim-lock il comando \u00e8:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p>2 - infine Genera il file di configurazione principale</p> <p><code># grub-mkconfig -o /boot/grub/grub.cfg</code></p> <p>installazione Bios/MBR</p> <p>1 - Installazione di Grub:</p> <p><code># pacman -S grub</code></p> <p><code># grub-install --target=i386-pc /dev/xxx</code></p> <p>2 - infine Genera il file di configurazione principale</p> <p><code># grub-mkconfig -o /boot/grub/grub.cfg</code></p> <p>Nota: verificare che il parametro \"GRUB_TIMEOUT\" sia impostato su un valore superiore a 0 per consentire la selezione del sistema operativo all'avvio del computer.</p>"},{"location":"Altre-Guide/nano/","title":"Nano","text":"<p>Il sistema operativo Arch Linux supporta anche la distribuzione Nano del software di editing. Nano fornisce un ambiente di editing di testo leggero e facile da usare su Arch Linux. Di seguito sono elencati alcuni dei comandi utilizzabili in Nano su Arch Linux:</p> <ul> <li><code>nano nome_file</code>: Aprire un file esistente in Nano</li> <li><code>Ctrl + O</code>: Salvare il file</li> <li><code>Ctrl + X</code>: Uscire da Nano</li> <li><code>Ctrl + K</code>: Tagliare una riga</li> <li><code>Ctrl + U</code>: Incollare una riga</li> <li><code>Ctrl + Space</code>: Inserire il cursore</li> <li><code>Ctrl + W</code>: Cerca una parola nel testo</li> <li><code>Ctrl + G</code>: Visualizza la guida di Nano</li> <li><code>Ctrl + C</code>: Visualizza informazioni sul testo selezionato</li> </ul> <p>Per salvare un file e modificarne il nome di salvataggio, \u00e8 possibile utilizzare il seguente comando:</p> <ul> <li><code>:w nome_file</code> Salvare il file con un nuovo nome</li> </ul> <p>In questo modo, il file verr\u00e0 salvato con il nuovo nome specificato dopo i due punti e \"w\". Nano su Arch Linux continua ad essere una soluzione affidabile e semplice per l'editing di testo.</p>"},{"location":"Altre-Guide/nordvpn/","title":"NordVPN","text":"<p>Installazione  e Configurazione</p> <p>1 - Installiamo nordvpn-bin:</p> <pre><code>$ git clone https://aur.archlinux.org/nordvpn-bin.git\n$ cd nordvpn-bin\n$ makepkg -si\n</code></pre> <p>2 - Aggiungiamo l'utente al gruppo nordvpn, e abilitiamo il servizio:</p> <pre><code>$ sudo usermod -aG nordvpn $USER\n$ sudo systemctl enable --now nordvpnd\n$ reboot\n</code></pre> <p>3 - Effettuamo il login al nostro account Apriamo il terminale e lanciate il comando:</p> <p><code>$ nordvpn login</code></p> <p>4 - Seguiamo le indicazioni da terminale facendo CTRL + click sul link nel terminale che si aprira' nel browser, quindi effettuamo l'accesso.</p> <p></p> <p>5 - Una volta effettuato l'accesso al nostro account, possiamo collegarci e scollegarci con questi comandi :</p> <p>Connessione rapida, solitamente sullo stesso paese da dove siete connessi</p> <p><code>$ nordvpn connect oppure $ nordvpn c</code></p> <p>Connessione specifica per un paese</p> <p><code>$ nordvpn connect italy oppure  $ nordvpn c it</code></p> <p>Disconnessione di Nordvpn</p> <p><code>$ nordvpn disconnect oppure  $ nordvpn d</code></p> <p>Verifichiamo lo stato di NordVPN</p> <p><code>$ nordvpn status</code></p>"},{"location":"Altre-Guide/nvidia/","title":"Nvidia","text":"<p>Installiamo i pacchetti base per i driver nvidia.</p> <p><code>$ sudo pacman -S nvidia nvidia-utils nvidia-settings libva-utils libva-vdpau-driver libva-mesa-driver</code></p> <p></p> <p>Creiamo la directory hooks e aggiungiamo la configurazione</p> <ul> <li><code>$ sudo mkdir -p /etc/pacman.d/hooks</code></li> <li><code>$ sudo vim /etc/pacman.d/hooks/nvidia.hook</code></li> </ul> <p><pre><code>[Trigger]\nOperation=Install\nOperation=Upgrade\nOperation=Remove\nType=Package\nTarget=nvidia\n\n\n[Action]\nDescription=Update Nvidia module in initcpio\nDepends=mkinitcpio\nWhen=PostTransaction\nExec=/usr/bin/mkinitcpio -P\n</code></pre> </p> <p>Creiamo il file blacklist per nouveau da root.</p> <p><code># echo \"blacklist nouveau\" &gt; /etc/modprobe.d/blacklist-nvidia-nouveau.conf</code></p> <p></p> <p>Creiamo il file 10-nvidia-drm-outputclass.conf.</p> <p><code>$ sudo vim /etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code></p> <p><pre><code>Section \"OutputClass\"\nIdentifier \"intel\"\nMatchDriver \"i915\"\nDriver \"modesetting\"\nEndSection\n\nSection \"OutputClass\"\nIdentifier \"nvidia\"\nMatchDriver \"nvidia-drm\"\nDriver \"nvidia\"\nOption \"AllowEmptyInitialConfiguration\"\nOption \"PrimaryGPU\" \"yes\"\nModulePath \"/usr/lib/nvidia/xorg\"\nModulePath \"/usr/lib/xorg/modules\"\nEndSection\n</code></pre> </p>"},{"location":"Altre-Guide/nvidia/#display-manager","title":"Display Manager","text":"<p>Prosegui in base al tuo display manager.</p> <p>Configurazione se stai usando GDM</p> <p><code>$ sudo vim /usr/share/gdm/greeter/autostart/optimus.desktop</code></p> <pre><code>[Desktop Entry]\nType=Application\nName=Optimus\nExec=sh -c \"xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto\"\nNoDisplay=true\nX-GNOME-Autostart-Phase=DisplayServer\n</code></pre> <p><code>$ sudo vim /etc/xdg/autostart/optimus.desktop</code></p> <p><pre><code>[Desktop Entry]\nType=Application\nName=Optimus\nExec=sh -c \"xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto\"\nNoDisplay=true\nX-GNOME-Autostart-Phase=DisplayServer\n</code></pre> </p> <p>Configurazione se stai usando LightDM </p> <p><code>$ sudo vim /etc/lightdm/display_setup.sh</code></p> <p><pre><code>#!/bin/sh\nxrandr --setprovideroutputsource modesetting NVIDIA-0\nxrandr --auto\n</code></pre> Aggiungiamo il permesso di esecuzione</p> <p><code>$ sudo chmod +x /etc/lightdm/display_setup.sh</code></p> <p><code>$ sudo vim /etc/lightdm/lightdm.conf</code></p> <pre><code>[Seat:*]\ndisplay-setup-script=/etc/lightdm/display_setup.sh\n</code></pre> <p></p> <p>Configurazione se stai usando SDDM</p> <p><code>$ sudo vim /usr/share/sddm/scripts/Xsetup</code></p> <p><pre><code>xrandr --setprovideroutputsource modesetting NVIDIA-0\nxrandr --auto\n</code></pre> Aggiungiamo il permesso di esecuzione</p> <p><code>$ sudo chmod +x /usr/share/sddm/scripts/Xsetup</code></p> <p></p>"},{"location":"Altre-Guide/nvidia/#mkinitcpio","title":"Mkinitcpio","text":"<p>Modifichiamo il file mkinitcpio.conf agiungiamo alla nostra configurazione e aggiungiamo i moduli per il kernel</p> <p><code>$ sudo vim /etc/mkinitcpio.conf</code></p> <pre><code>MODULES=(nvidia nvidia_modeset nvidia_uvm nvidia_drm)\n</code></pre> <p><code>$ sudo mkinitcpio -P</code></p> <p></p>"},{"location":"Altre-Guide/nvidia/#xinitrc","title":"Xinitrc","text":"<p>Aggiungi al file .xinitrc o crealo se non esiste in ~/.xinitrc</p> <p><pre><code>xrandr --output &lt;nome-output&gt; --set \"Sincronizzazione PRIME\" 1\n</code></pre> </p> <p>Per finire Aggiungi il parametro kernel nella configurazione del tuo bootloader: <code>nvidia_drm.modeset=1</code></p> <p>GRUB:</p> <pre><code>GRUB_CMDLINE_LINUX=\"nvidia-drm.modeset=1\"\n</code></pre> <p><code># grub-mkconfig -o /boot/grub/grub.cfg</code></p> <p> </p> <p>Systemd-boot:</p> <p>per esempio se la tua configurazione e' in /boot/loader/entries/arch.conf</p> <p><pre><code>title   Arch Linux\nlinux   /vmlinuz-linux\ninitrd  /initramfs-linux.img\noptions root=/dev/xxx rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3 nvidia-drm.modeset=1\n</code></pre> </p> <p>Riavvia la macchina <code>$ reboot</code></p> <p></p> <p></p> <p></p>"},{"location":"Altre-Guide/nvidia/#english","title":"English \ud83c\uddec\ud83c\udde7","text":"<p>Install the base packages for nvidia drivers.</p> <p><code>$ sudo pacman -S nvidia nvidia-utils nvidia-settings libva-utils libva-vdpau-driver libva-mesa-driver</code></p> <p></p> <p>Create the directory hooks and add the configuration</p> <ul> <li><code>$ sudo mkdir -p /etc/pacman.d/hooks</code></li> <li><code>$ sudo vim /etc/pacman.d/hooks/nvidia.hook</code></li> </ul> <p><pre><code>[Trigger]\nOperation=Install\nOperation=Upgrade\nOperation=Remove\nType=Package\nTarget=nvidia\n\n\n[Action]\nDescription=Update Nvidia module in initcpio\nDepends=mkinitcpio\nWhen=PostTransaction\nExec=/usr/bin/mkinitcpio -P\n</code></pre> </p> <p>Create the blacklist file for nouveau as root.</p> <p><code># echo \"blacklist nouveau\" &gt; /etc/modprobe.d/blacklist-nvidia-nouveau.conf</code></p> <p></p> <p>Create the file 10-nvidia-drm-outputclass.conf.</p> <p><code>$ sudo vim /etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code></p> <p><pre><code>Section \"OutputClass\"\nIdentifier \"intel\"\nMatchDriver \"i915\"\nDriver \"modesetting\"\nEndSection\n\nSection \"OutputClass\"\nIdentifier \"nvidia\"\nMatchDriver \"nvidia-drm\"\nDriver \"nvidia\"\nOption \"AllowEmptyInitialConfiguration\"\nOption \"PrimaryGPU\" \"yes\"\nModulePath \"/usr/lib/nvidia/xorg\"\nModulePath \"/usr/lib/xorg/modules\"\nEndSection\n</code></pre> </p>"},{"location":"Altre-Guide/nvidia/#display-manager_1","title":"Display Manager","text":"<p>Proceed according to your display manager.</p> <p>Configuration if using GDM</p> <p><code>$ sudo vim /usr/share/gdm/greeter/autostart/optimus.desktop</code></p> <pre><code>[Desktop Entry]\nType=Application\nName=Optimus\nExec=sh -c \"xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto\"\nNoDisplay=true\nX-GNOME-Autostart-Phase=DisplayServer\n</code></pre> <p><code>$ sudo vim /etc/xdg/autostart/optimus.desktop</code></p> <p><pre><code>[Desktop Entry]\nType=Application\nName=Optimus\nExec=sh -c \"xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto\"\nNoDisplay=true\nX-GNOME-Autostart-Phase=DisplayServer\n</code></pre> </p> <p>Configuration if using LightDM </p> <p><code>$ sudo vim /etc/lightdm/display_setup.sh</code></p> <p><pre><code>#!/bin/sh\nxrandr --setprovideroutputsource modesetting NVIDIA-0\nxrandr --auto\n</code></pre> Add execute permission</p> <p><code>$ sudo chmod +x /etc/lightdm/display_setup.sh</code></p> <p><code>$ sudo vim /etc/lightdm/lightdm.conf</code></p> <pre><code>[Seat:*]\ndisplay-setup-script=/etc/lightdm/display_setup.sh\n</code></pre> <p></p> <p>Configuration if using SDDM</p> <p><code>$ sudo vim /usr/share/sddm/scripts/Xsetup</code></p> <p><pre><code>xrandr --setprovideroutputsource modesetting NVIDIA-0\nxrandr --auto\n</code></pre> Add execute permission</p> <p><code>$ sudo chmod +x /usr/share/sddm/scripts/Xsetup</code></p> <p></p>"},{"location":"Altre-Guide/nvidia/#mkinitcpio_1","title":"Mkinitcpio","text":"<p>Edit the mkinitcpio.conf file and add our configuration and the kernel modules</p> <p><code>$ sudo vim /etc/mkinitcpio.conf</code></p> <pre><code>MODULES=(nvidia nvidia_modeset nvidia_uvm nvidia_drm)\n</code></pre> <p><code>$ sudo mkinitcpio -P</code></p> <p></p>"},{"location":"Altre-Guide/nvidia/#xinitrc_1","title":"Xinitrc","text":"<p>Add to the .xinitrc file or create it if it doesn't exist in ~/.xinitrc</p> <p><pre><code>xrandr --output &lt;output-name&gt; --set \"PRIME Synchronization\" 1\n</code></pre> </p> <p>Finally, add the kernel parameter to your bootloader configuration: <code>nvidia_drm.modeset=1</code></p> <p>GRUB:</p> <pre><code>GRUB_CMDLINE_LINUX=\"nvidia-drm.modeset=1\"\n</code></pre> <p><code># grub-mkconfig -o /boot/grub/grub.cfg</code></p> <p> </p> <p>Systemd-boot:</p> <p>For example, if your configuration is in /boot/loader/entries/arch.conf</p> <p><pre><code>title   Arch Linux\nlinux   /vmlinuz-linux\ninitrd  /initramfs-linux.img\noptions root=/dev/xxx rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3 nvidia-drm.modeset=1\n</code></pre> </p> <p>Restart the machine <code>$ reboot</code></p> <p></p> <p></p>"},{"location":"Altre-Guide/permessi/","title":"Permessi","text":"<p>Per impostare i permessi per file e cartelle su ArchLinux, \u00e8 possibile utilizzare il comando <code>chmod</code>. </p> <p>La sintassi generale per utilizzare il comando <code>chmod</code> \u00e8 la seguente:</p> <pre><code>chmod [permessi] [file/cartella]\n</code></pre> <p>I permessi possono essere specificati in formato numerico o simbolico. </p>"},{"location":"Altre-Guide/permessi/#permessi-numerici","title":"Permessi numerici","text":"<p>I permessi numerici rappresentano i permessi di lettura, scrittura ed esecuzione per l'utente proprietario, il gruppo proprietario e gli altri utenti. </p> <p>Ogni permesso \u00e8 rappresentato da un numero: 4 per la lettura, 2 per la scrittura e 1 per l'esecuzione. La somma dei numeri corrispondenti ai permessi desiderati deve essere specificata per ogni categoria di utenti. </p> <ul> <li>4 = permesso di lettura</li> <li>2 = permesso di scrittura</li> <li>1 = permesso di esecuzione</li> </ul> <p>Ad esempio, per concedere tutti i permessi (lettura, scrittura ed esecuzione) a tutti gli utenti, \u00e8 possibile utilizzare il seguente comando:</p> <pre><code>chmod 777 [file/cartella]\n</code></pre>"},{"location":"Altre-Guide/permessi/#permessi-simbolici","title":"Permessi simbolici","text":"<p>I permessi simbolici rappresentano i permessi di lettura, scrittura ed esecuzione per l'utente proprietario, il gruppo proprietario e gli altri utenti, utilizzando i simboli r, w e x per rappresentare i permessi e le parole chiave u, g e o per rappresentare rispettivamente l'utente proprietario, il gruppo proprietario e gli altri utenti.</p> <ul> <li>r = permesso di lettura</li> <li>w = permesso di scrittura</li> <li>x = permesso di esecuzione</li> </ul> <p>Ad esempio, per concedere tutti i permessi (lettura, scrittura ed esecuzione) a tutti gli utenti, \u00e8 possibile utilizzare il seguente comando:</p> <pre><code>chmod ugo+rwx [file/cartella]\n</code></pre>"},{"location":"Altre-Guide/permessi/#impostazioni-di-base","title":"Impostazioni di base","text":"<ul> <li><code>u</code> indica i permessi dell'utente proprietario del file o della cartella</li> <li><code>g</code> indica i permessi del gruppo proprietario del file o della cartella</li> <li><code>o</code> indica i permessi di tutti gli altri utenti</li> <li><code>a</code> indica tutti gli utenti</li> </ul>"},{"location":"Altre-Guide/permessi/#impostazione-dei-permessi","title":"Impostazione dei permessi","text":"<ul> <li><code>+</code> aggiunge i permessi specificati</li> <li><code>-</code> rimuove i permessi specificati</li> <li><code>=</code> imposta i permessi specificati (sostituisce qualsiasi permesso precedente)</li> </ul> <p>Ad esempio, per concedere il permesso di lettura, scrittura ed esecuzione all'utente proprietario, il permesso di lettura al gruppo proprietario e il permesso di esecuzione ad altri utenti, \u00e8 possibile utilizzare il seguente comando:</p> <pre><code>chmod u=rwx,g=r,o=x [file/cartella]\n</code></pre>"},{"location":"Altre-Guide/permessi/#impostazione-ricorsiva-dei-permessi","title":"Impostazione ricorsiva dei permessi","text":"<p>Per impostare i permessi in modo ricorsivo per una directory e il suo contenuto, \u00e8 possibile utilizzare il flag <code>-R</code>.</p> <p>Ad esempio, per concedere tutti i permessi (lettura, scrittura ed esecuzione) alla directory <code>documenti</code> e al suo contenuto, \u00e8 possibile utilizzare il seguente comando:</p> <pre><code>chmod -R 777 documenti/\n</code></pre> <p>Suggeriamo di utilizzare con attenzione questo flag, perch\u00e9 i permessi impostati potrebbero avere effetti indesiderati su file e cartelle che non si desidera modificare. </p>"},{"location":"Altre-Guide/permessi/#esempi-pratici","title":"Esempi pratici","text":"<ol> <li>Concedere il permesso di lettura e scrittura all'utente proprietario del file <code>documento.txt</code></li> </ol> <pre><code>chmod u+rw documento.txt \n</code></pre> <ol> <li>Concedere il permesso di esecuzione a tutti gli utenti per la cartella <code>progetto1</code></li> </ol> <pre><code>chmod a+x progetto1/\n</code></pre> <ol> <li>Concedere il permesso di lettura al gruppo proprietario per la cartella <code>progetto2</code> e il suo contenuto</li> </ol> <pre><code>chmod -R g+r progetto2/ \n</code></pre> <ol> <li>Concedere tutti i permessi alla directory <code>documenti</code> e al suo contenuto</li> </ol> <pre><code>chmod -R 777 documenti/ \n</code></pre> <p>I permessi numerici in <code>chmod</code> consentono di impostare i permessi di lettura, scrittura ed esecuzione utilizzando una notazione numerica. </p> <p>I permessi numerici sono rappresentati da un numero composto da tre cifre, dove ogni cifra indica i permessi di lettura, scrittura ed esecuzione per il proprietario (prima cifra), il gruppo (seconda cifra) ed altri utenti (terza cifra), rispettivamente.</p> <p>Ciascuna cifra \u00e8 un numero composto da tre bit dove il valore di ciascun bit rappresenta un permesso possibile. I bit sono moltiplicati per un valore specifico che si riferisce a ogni permesso.</p> <p>I valori dei bit sono i seguenti:</p> <ul> <li>4: lettura (r)</li> <li>2: scrittura (w)</li> <li>1: esecuzione (x)</li> </ul> <p>Ad esempio, il numero <code>755</code> corrisponde a un proprietario con tutti i permessi (rwx), gruppo con permessi di lettura ed esecuzione (r-x) e altri utenti con permessi di lettura ed esecuzione (r-x)</p> <p>Qui di seguito vengono descritti i comandi <code>chmod</code> numerici:</p> <ul> <li><code>0</code> (000): nessun permesso </li> <li><code>1</code> (001): permesso di esecuzione </li> <li><code>2</code> (010): permesso di scrittura </li> <li><code>3</code> (011): permesso di scrittura ed esecuzione </li> <li><code>4</code> (100): permesso di lettura </li> <li><code>5</code> (101): permesso di lettura ed esecuzione </li> <li><code>6</code> (110): permesso di lettura e scrittura </li> <li><code>7</code> (111): permesso di lettura, scrittura ed esecuzione</li> </ul> <p>Ecco alcuni esempi di come utilizzare la notazione numerica con <code>chmod</code>:</p> <ul> <li>Per impostare i permessi di un file a proprietario (lettura/scrittura), gruppo (lettura) ed altri utenti (esecuzione): </li> </ul> <pre><code>chmod 754 file.txt\n</code></pre> <ul> <li>Per concedere tutti i permessi (lettura, scrittura ed esecuzione) a tutti gli utenti:</li> </ul> <pre><code>chmod 777 file.txt\n</code></pre> <ul> <li>Per concedere permessi di sola lettura a tutti (proprietario, gruppo e altri utenti):</li> </ul> <pre><code>chmod 444 file.txt\n</code></pre> <p>\u00c8 importante notare che la notazione numerica sovrascrive tutti i permessi precedenti del file o della cartella. Inoltre, se usata con l'opzione <code>-R</code>, modificher\u00e0 i permessi anche a tutti i file e le cartelle all'interno della cartella specificata.</p>"},{"location":"Altre-Guide/reflector/","title":"Reflector","text":"<p>La funzione di <code>reflector</code> su ArchLinux \u00e8 un'utility che consente di selezionare, scaricare e aggiornare l'elenco dei mirror ArchLinux. La sua funzione principale \u00e8 quella di selezionare il mirror pi\u00f9 veloce e affidabile in base alla posizione geografica dell'utente.</p> <p>Ecco di seguito i comandi pi\u00f9 utilizzati per la gestione di <code>reflector</code> su ArchLinux:</p> <ul> <li><code>sudo reflector --country &lt;nome_paese&gt; --age &lt;et\u00e0&gt; --protocol &lt;tipo_protocollo&gt; --sort &lt;tipo_ordinamento&gt; --save &lt;file_destinazione&gt;</code> questocomando seleziona i mirror del paese specificato dall'utente (<code>--country</code>) e con un'et\u00e0 massima specificata in ore (<code>--age</code>). Si possono anche specificare il tipo di protocollo (<code>--protocol</code>) e il tipo di ordinamento (<code>--sort</code>). Infine, i risultati ottenuti possono essere salvati in un file specificato dall'utente (<code>--save</code>).</li> <li><code>sudo reflector --latest &lt;n_migliori_mirrors&gt; --protocol &lt;tipo_protocollo&gt; --sort &lt;tipo_ordinamento&gt; --save &lt;file_destinazione&gt;</code> con questo comando vengono selezionati i <code>n</code> (<code>--latest</code>) mirror pi\u00f9 aggiornati, in base al protocollo (<code>--protocol</code>) e al tipo di ordinamento (<code>--sort</code>). Anche in questo caso, il risultato pu\u00f2 essere salvato in un file specificato dall'utente (<code>--save</code>).</li> <li><code>sudo reflector --help</code> con questo comando si pu\u00f2 avere una lista completa di tutti i comandi disponibili e una descrizione dettagliata delle opzioni di <code>reflector</code>.</li> </ul> <p>In generale, la funzione di <code>reflector</code> su ArchLinux \u00e8 utile per mantenere aggiornati i propri mirror e assicurarsi di avere una connessione veloce e affidabile quando si effettuano operazioni di installazione o aggiornamento dei pacchetti sul sistema.</p> <p></p> <p>Ecco di seguito i passi necessari per configurare e abilitare il servizio <code>reflector</code> su ArchLinux:</p> <ol> <li> <p>Installare <code>reflector</code>: Digitare <code>sudo pacman -S reflector</code> nel terminale per installare l'utility.</p> </li> <li> <p>Creare un file di configurazione personalizzato: Digitare <code>sudo cp /etc/xdg/reflector/reflector.conf /etc/xdg/reflector/reflector.conf.backup</code> per creare una copia di backup del file di configurazione predefinito. Successivamente, digitare <code>sudo nano /etc/xdg/reflector/reflector.conf</code> per aprire il file di configurazione con l'editor di testo <code>nano</code> (si pu\u00f2 usare anche un altro editor di testo a piacere).</p> </li> <li> <p>Configurare il file di configurazione: Nel file di configurazione \u00e8 possibile specificare le opzioni desiderate, come il paese da cui selezionare i mirror (<code>--country</code>), l'et\u00e0 massima dei mirror (<code>--age</code>), il tipo di protocollo (<code>--protocol</code>) e il tipo di ordinamento (<code>--sort</code>). Ecco un esempio di file di configurazione:</p> </li> </ol> <pre><code>--country Italy\n--protocol https\n--latest 10\n--sort rate\n</code></pre> <p>Questo esempio seleziona i 10 migliori mirror italiani (<code>--country Italy</code>), utilizzando il protocollo HTTPS (<code>--protocol https</code>) e ordinandoli in base alla velocit\u00e0 (<code>--sort rate</code>).</p> <ol> <li> <p>Salvare e chiudere il file di configurazione: Una volta terminata la configurazione, digitare <code>Ctrl+X</code>, poi <code>Y</code> e infine <code>Invio</code> per salvare le modifiche e chiudere l'editor di testo <code>nano</code>.</p> </li> <li> <p>Eseguire <code>reflector</code> per aggiornare gli elenchi dei mirror: Digitare il comando <code>sudo reflector --verbose --latest 10 --protocol https --sort rate --save /etc/pacman.d/mirrorlist</code> per eseguire <code>reflector</code> utilizzando le impostazioni configurate nell'ultimo passaggio. In questo esempio, i risultati ottenuti dall'esecuzione del comando vengono salvati nel file <code>/etc/pacman.d/mirrorlist</code>, che \u00e8 il file da cui <code>pacman</code> legge l'elenco dei mirror al momento dell'aggiornamento dei pacchetti.</p> </li> <li> <p>Abilitare e avviare il servizio <code>reflector.timer</code>: Una volta che gli elenchi dei mirror sono stati aggiornati con successo, \u00e8 possibile abilitare e avviare il servizio di <code>reflector</code> in modo che gli elenchi dei mirror vengano aggiornati automaticamente in futuro. Per fare ci\u00f2, digitare:</p> </li> </ol> <pre><code>sudo systemctl enable reflector.timer\nsudo systemctl start reflector.timer\n</code></pre> <p>Il primo comando abilita il servizio <code>reflector.timer</code>, mentre il secondo lo avvia immediatamente. Da questo momento in poi, il servizio sar\u00e0 eseguito automaticamente ogni volta che si avvia il sistema, aggiornando gli elenchi dei mirror in base alle impostazioni specificate nel file di configurazione di <code>reflector</code>.</p>"},{"location":"Altre-Guide/rsync/","title":"Rsync","text":""},{"location":"Altre-Guide/rsync/#installazione","title":"Installazione","text":"<p>1 - Installa il pacchetto rsync.</p> <p><code># pacman -S rsync</code></p> <p>rsync deve essere installato sia sul computer di origine che su quello di destinazione.</p> <p></p>"},{"location":"Altre-Guide/rsync/#usare-rsync","title":"Usare rsync","text":"<p>Il comando rsync</p> <p>rsync opzioni sorgente destinazione ad esempio:</p> <p><code># rsync -zvrah ~/Desktop/devdev /Volumes/DiscoEsterno/Backup</code></p> <p>Trasferiamo tutti i file contenuti nella directory sorgente ~/Desktop/devdev alla directory di destinazione /Volumes/DiscoEsterno/Backup. Alla prima esecuzione, rsync copier\u00e0 l\u2019intero contenuto, dato che la directory destinazione \u00e8 vuota. Nei casi successivi, ogni file che avr\u00e0 subito modifiche nella cartella sorgente verr\u00e0 sovrascritto in quella di destinazione. In questo caso abbiamo usato le opzioni -vrah, vediamo cosa significano.</p> <p>Opzioni comuni</p> <p>-v significa verbose, avremo pi\u00f9 informazioni a schermo</p> <p>-r significa recursive, con questa opzione rsync legger\u00e0 nelle cartelle</p> <p>-h trasforma in byte in un formato pi\u00f9 leggibile (es. Mb, Gb)</p> <p>-a significa archive. Questa modalit\u00e0 corrisponde a scrivere -rlptgoD e riporta tutte le condizioni originali del file dalla destinazione alla sorgente come timestamp, link simbolici, permessi, proprietario e gruppo</p> <p>-z dice a rsync di comprimere i dati trasmessi</p> <p>--delete dice a rsync di cancellare sulla destinazione i file non presenti nella sorgente</p> <p>--exclude dice a rsync quali file o directory ignorare</p> <p>--progress mostra a schermo il trasferimento dei file</p> <p>-u imposta che i file presenti in destinazione pi\u00f9 nuovi di quelli contenuti in sorgente vengano ignorati</p> <p></p>"},{"location":"Altre-Guide/rsync/#sincronizzazione-tra-due-directory-locali","title":"Sincronizzazione tra due directory locali","text":"<p><code># rsync -vrah ~/Desktop/Grafica /Volumes/DiscoEsterno/backup</code></p> <p>In questo esempio sincronizziamo la directory ~/Desktop/Grafica con /Volume/DiscoEsterno/backup, con le opzioni verbose, recursive e archive.</p> <pre><code># rsync -vrah ~/Desktop/Grafica /Volumes/DiscoEsterno/backup\nbuilding file list ... done\ncreated directory /Volumes/DiscoEsterno/backup\nbackup/\nbackup/.DS_Store\nbackup/2222.png\nbackup/6y3pg5x7.png\nbackup/bacdd5f1e202772aa0bca470500c8701.jpg\nbackup/bb.jpg\nbackup/logo.jpg\nbackup/nasa1.png\nbackup/nasa4.png\n\nsent 4.11M bytes  received 268 bytes  8.22M bytes/sec\ntotal size is 4.11M  speedup is 1.00\n</code></pre> <p>La cartella di destinazione non esisteva, rsync l\u2019ha creata automaticamente.</p> <p></p>"},{"location":"Altre-Guide/rsync/#visualizzare-lavanzamento-del-trasferimento","title":"Visualizzare l\u2019avanzamento del trasferimento","text":"<p>Se vogliamo visualizzare l\u2019avanzamento durante il trasferimento, \u00e8 sufficiente usare l\u2019opzione <code>--progress</code></p> <p><pre><code>rsync -vrah --progress ~/Desktop/Grafica /Volumes/DiscoEsterno/backup\nbuilding file list ... \n6 files to consider\ncreated directory /Volumes/DiscoEsterno/backup\nbackup/\nbackup/APOLLO_11_EVA_Charlesworth-Lunney-Kranz-S69-44137-Science_Center_cr.jpg\n     403.45K 100%   29.60MB/s    0:00:00 (xfer#0, to-check=6/6)\nbackup/APOLLO_11_EVA_Charlesworth-Lunney-Kranz-S69-44137-Science_Center_cr2.jpg\n     143.82K 100%    9.14MB/s    0:00:00 (xfer#1, to-check=5/6)\nbackup/bacdd5f1e202772aa0bca470500c8701.jpg\n       1.66M 100%   33.60MB/s    0:00:00 (xfer#2, to-check=4/6)\nbackup/bb.jpg\n     654.59K 100%   12.01MB/s    0:00:00 (xfer#3, to-check=3/6)\nbackup/logo.jpg\n       5.36K 100%  100.64kB/s    0:00:00 (xfer#4, to-check=2/6)\nbackup/nasa1.png\n      61.47K 100%    1.09MB/s    0:00:00 (xfer#5, to-check=1/6)\nbackup/nasa4.png\n      54.68K 100%  970.88kB/s    0:00:00 (xfer#6, to-check=0/6)\n\nsent 4.11M bytes  received 268 bytes  8.22M bytes/sec\ntotal size is 4.11M  speedup is 1.00\n</code></pre> </p>"},{"location":"Altre-Guide/rsync/#esclusione-di-file-o-directory","title":"Esclusione di file o directory","text":"<p>Con l\u2019opzione <code>--exclude</code>, possiamo specificare quali file, tipi di file o directory escludere dalla sincronizzazione. In quest\u2019esempio abbiamo scelto di ignorare i file \u201c.DS_Store\u201d creati dal sistema macOS usando l\u2019opzione --exclude=.DS_Store.</p> <p><code>rsync -vrah --exclude=.DS_Store ~/Desktop/Grafica /Volumes/DiscoEsterno/backup</code></p> <p></p>"},{"location":"Altre-Guide/rsync/#lopzione-delete","title":"L\u2019opzione \u2013delete","text":"<p>Se un file o directory non esiste nella sorgente, ma esiste gi\u00e0 nella destinazione, con l\u2019opzione <code>--delete</code> possiamo cancellarlo da quest\u2019ultima.</p> <p><pre><code>rsync -vrah --delete ~/Desktop/Grafica /Volumes/DiscoEsterno/backup\nbuilding file list ... done\ndeleting test.txt\n./\n\nsent 423 bytes  received 26 bytes  898.00 bytes/sec\ntotal size is 4.11M  speedup is 9151.07\n</code></pre> </p>"},{"location":"Altre-Guide/rsync/#effettuare-una-simulazione-dry-run","title":"Effettuare una simulazione (dry run)","text":"<p>Se \u00e8 la prima volta che usiamo rsync, oppure vogliamo avere un\u2019anteprima di cosa succeder\u00e0 una volta eseguito, \u00e8 possibile simulare un comando rsync per assicurarci di non esguire operazioni errate. Aggiungiamo l\u2019opzione <code>--dry-run</code></p> <p><code>rsync -vrah --dry-run ~/Desktop/Grafica /Volumes/DiscoEsterno/backup</code></p> <p></p>"},{"location":"Altre-Guide/rsync/#sincronizzare-una-directory-remota-via-ssh","title":"Sincronizzare una directory remota via SSH","text":"<p>Con rsync, possiamo usare SSH (secure shell) come modalit\u00e0 di trasferimento: usare il protocollo SSH ci garantisce che i nostri dati viaggino su un canale sicuro e criptato, in modo che nessuno possa leggere i dati mentre vengono trasmessi. Per specificare che si tratta di una connessione SSH, dobbiamo includere l\u2019opzione <code>-e ssh</code> ed indicare destinazione o sorgente in modo appropriato.</p> <p><code>rsync -vrahe ssh ~/Desktop/Grafica root@192.168.0.100:/var/backup</code></p> <p>Inoltre il prompt dei comandi ci chieder\u00e0 la password dell\u2019utente (in esempio root) quando effettuiamo il trasferimento, che avverr\u00e0 sempre in modo sicuro.</p> <p></p>"},{"location":"Altre-Guide/rsync/#cancellare-il-contenuto-una-volta-trasferito","title":"Cancellare il contenuto una volta trasferito","text":"<p>In qualche caso potremmo decidere di cancellare automaticamente il contenuto di sorgente una volta che il trasferimento in destinazione sia avvenuto con successo. Per farlo, specifichiamo <code>--remove-source-files</code> tra le opzioni</p> <p><code>rsync -vrah --remove-source-files ~/Desktop/Grafica /Volumes/DiscoEsterno/backup</code></p> <p></p>"},{"location":"Altre-Guide/rsync/#impostare-un-limite-di-banda-bandwidth-limit","title":"Impostare un limite di banda (bandwidth limit)","text":"<p>Quando effettuiamo sincronizzazioni tra directory remote, a volte \u00e8 necessario impostare un limite di velocit\u00e0. Pensiamo ad esempio ad un backup remoto in esecuzione mentre stiamo lavorando: limitiamo la banda in upload con l\u2019opzione <code>--bwlimit=KBPS</code>, esempio:</p> <p><code>rsync --bwlimit=100 -vrahe ssh  ~/Desktop/Grafica root@192.168.0.100:/var/backup</code></p> <p>In questo modo limiteremo la banda a 100Kb/s.</p>"},{"location":"Altre-Guide/sudoers/","title":"Sudoers.d","text":"<p>La funzione di <code>sudoers.d/nomeutente</code> su ArchLinux consente agli utenti con privilegi di amministratore di specificare in modo pi\u00f9 dettagliato quale utente pu\u00f2 eseguire specifici comandi tramite Sudo. </p> <p>Di seguito sono elencati alcuni comandi esistenti in questo formato: </p> <ul> <li><code>nomeutente ALL=(ALL) ALL</code> - permette all'utente \"nomeutente\" di eseguire qualsiasi comando come amministratore </li> <li><code>nomeutente ALL=(root) /usr/bin/pacaur</code> - consente all'utente \"nomeutente\" di eseguire solo il comando \"pacaur\" come l'utente \"root\" </li> <li><code>nomeutente ALL=(user) /bin/vim</code> - consente all'utente \"nomeutente\" di eseguire solo il comando \"vim\" come \"user\"</li> <li><code>nomeutente ALL=(ALL) NOPASSWD: /usr/bin/pacman -Syu</code> - consente all'utente \"nomeutente\" di eseguire \"pacman -Syu\" come amministratore senza dover inserire la password</li> <li><code>nomeutente ALL=(ALL) NOPASSWD: ALL</code> - consente all'utente \"nomeutente\" di eseguire qualsiasi comando come amministratore senza dover inserire la password.</li> <li><code>nomeutente ALL=(ALL) /bin/reboot, /bin/shutdown</code> - permette all'utente \"nomeutente\" di eseguire solo i comandi \"reboot\" e \"shutdown\" come amministratore.</li> <li><code>%gruppo ALL=(ALL) /usr/bin/htop</code> - consente a tutti gli utenti appartenenti al gruppo \"gruppo\" di eseguire il comando \"htop\" come amministratore.</li> <li><code>nomeutente ALL=(ALL) !/usr/bin/rm</code> - permette all'utente \"nomeutente\" di eseguire qualsiasi comando come amministratore, eccetto il comando \"rm\".</li> <li><code>nomeutente ALL=(ALL) NOPASSWD: /bin/su - user</code> - consente all'utente \"nomeutente\" di eseguire il comando \"su\" per diventare l'utente \"user\" come amministratore senza dover inserire la password.</li> </ul> <p>Nota che questi sono solo alcuni esempi di ci\u00f2 che pu\u00f2 essere specificato nel file <code>sudoers.d/nomeutente</code>.</p>"},{"location":"Altre-Guide/systemdboot/","title":"Systemd-Boot","text":"<p>systemd-boot \u00e8 un bootloader open source utilizzato su Arch Linux per avviare il sistema operativo. \u00c8 stato sviluppato da systemd, il sistema di inizializzazione utilizzato da molte distribuzioni Linux moderne.</p> <p>systemd-boot \u00e8 noto anche come \"bootctl\" ed \u00e8 un bootloader molto veloce e leggero che supporta UEFI e offre un'interfaccia utente semplice e facile da usare. Il suo scopo principale \u00e8 quello di selezionare il kernel del sistema operativo da avviare e di fornire le opzioni di avvio necessarie.</p> <p>Installazione di systemd-boot:</p> <pre><code># pacman -S efibootmgr\n# bootctl --path=/boot install\n# echo \"deafult arch-*\" &gt;&gt; /boot/loader/loader.conf\n# vim /boot/loader/entries/arch.conf\n</code></pre> <p>adesso creiamo la configurazione del file arch.conf aperto con vim, e' importante scrivere la partizione di avvio della root corretta ad esempio in questo esempio e' root=/dev/sda2 , altrimenti il sistema non si avviera'. Se stiamo usando un sottovolume @ dobbiamo aggiungere il flag rootflags=subvol=@</p> <pre><code>title   Arch Linux\nlinux   /vmlinuz-linux\ninitrd  /initramfs-linux.img\noptions root=/dev/sda2 rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3\n</code></pre>"},{"location":"Altre-Guide/timeshift/","title":"Timeshift","text":"<p>Installazione</p> <p>1 - Per usare Timeshift sul nostro arch Linux per creare snapshots, abbiamo bisogno di un sistema che sia creato con File System BTRFS e con minimo i sottovolumi @, @/home. Se non sapete come installare un sistema con questi requisiti seguite la guida&gt;. Dando per scontato che il vostro sistema sia configurato come richiesto, installiamo Timeshift:</p> <p><code>$ git clone https://aur.archlinux.org/timeshift.git</code></p> <p><code>$ cd timeshift</code></p> <p><code>$ makepkg -Si</code></p> <p>2 - Una volta installato Timeshift, necessitiamo di avere installato e attivato il servizio di cronie per automatizzare gli snapshots, se non lo avete ancora fatto procediamo cosi:</p> <p><code>$ sudo pacman -S cronie</code></p> <p><code>$ sudo systemctl enable cronie --now</code></p> <p>3 -  A questo punto apriamo Timeshift e impostiamo la partizione btrfs del sistema quindi scegliamo la configurazione per fare gli snapshots che piu ci sembra utile per il nostro sistema, ad esempio ogni ora :</p> <p></p> <p>4 -  E' possibile ripristinare il sistema dall'interfaccia grafica di Timeshift, ma vediamo quali sono i comandi da terminale con un esempio, per vedere la lista completa fare riferimento a man:</p> <pre><code>$ timeshift --list\n\n$ timeshift --list --snapshot-device /dev/sda2\n\n$ timeshift --create --comments \"after update\" --tags D\n\n$ timeshift --restore\n\n$ timeshift --restore --snapshot '2023-10-12_16-29-08' --target /dev/sda2\n</code></pre>"},{"location":"Altre-Guide/vim/","title":"Vim","text":"<p>Vim \u00e8 un editor di testo disponibile su diversi sistemi operativi, inclusa la distribuzione Arch Linux. La sua interfaccia da riga di comando consente di modificare i file di testo in modo rapido ed efficiente utilizzando una serie di comandi e scelta rapida.</p> <p>Vim offre numerose funzionalit\u00e0 per facilitare l'editing di testo, come la copia, lo spostamento del cursore e la ricerca del testo. Dispone anche di funzionalit\u00e0 avanzate come la possibilit\u00e0 di eseguire comandi del sistema operativo e personalizzare le scorciatoie da tastiera.</p> <p>Inoltre, Vim supporta la sintassi di colori per una vasta gamma di linguaggi di programmazione, facilitando la lettura e la comprensione del codice. La sua interfaccia a riga di comando lo rende in grado di lavorare velocemente anche su macchine con risorse limitate.</p> <p>Un'altra caratteristica interessante di Vim \u00e8 la possibilit\u00e0 di creare macro, ovvero registrazioni delle sequenze di comandi per eseguire azioni ripetitive in modo automatico. Questa funzione \u00e8 particolarmente utile per la modifica di grandi quantit\u00e0 di testo.</p> <p>Complessivamente, Vim \u00e8 uno strumento essenziale per gli sviluppatori e gli appassionati di programmazione, ma anche per gli utenti comuni che necessitano di un editor di testo flessibile e potente.</p> <p>Essendo Vim un editor di testo, i suoi comandi sono principalmente utilizzati per la modifica del testo stesso. Di seguito sono elencati alcuni dei comandi pi\u00f9 comuni utilizzati all'interno di Vim su Arch Linux:</p> <ul> <li><code>:w</code> - Salva il file che si sta modificando.</li> <li><code>:w!</code> - Salva il file che si sta modificando, anche se \u00e8 di sola lettura o in caso di permessi di scrittura insufficienti.</li> <li><code>:q</code> - Esce dall'editor.</li> <li><code>:q!</code> - Esce dall'editor senza salvare le modifiche al file.</li> <li><code>:wq</code> - Salva il file e poi esce dall'editor.</li> <li><code>:wq!</code> - Salva il file e poi esce dall'editor, anche se \u00e8 di sola lettura o in caso di permessi di scrittura insufficienti.</li> <li><code>:set numero</code> - Mostra i numeri di riga sul lato sinistro dell'editor.</li> <li><code>:set nonumber</code> - Rimuove i numeri di riga dal lato sinistro dell'editor.</li> <li><code>yy</code> - Copia la riga corrente.</li> <li><code>p</code> - Incolla il testo copiato da una riga precedente.</li> <li><code>/parola</code> - Cerca la parola specificata nel testo.</li> <li><code>n</code> - Passa alla prossima occorrenza della parola cercata.</li> <li><code>N</code> - Passa alla precedente occorrenza della parola cercata.</li> <li><code>u</code> - Annulla l'ultima modifica effettuata.</li> <li><code>Ctrl + r</code> - Ripristina l'ultima modifica annullata.</li> <li><code>:syntax on</code> - Abilita la sintassi di colori per il codice.</li> <li> <p><code>:syntax off</code> - Disabilita la sintassi di colori per il codice.</p> </li> <li> <p>Modifica del testo:</p> </li> <li><code>a</code> - Inizia a inserire il testo subito dopo il cursore.</li> <li><code>A</code> - Inizia a inserire il testo alla fine della riga corrente.</li> <li><code>i</code> - Inizia a inserire il testo al cursore.</li> <li><code>I</code> - Inizia a inserire il testo all'inizio della riga corrente.</li> <li><code>o</code> - Inserisce una nuova riga sotto la riga corrente e inizia a inserire del testo.</li> <li><code>O</code> - Inserisce una nuova riga sopra la riga corrente e inizia a inserire del testo.</li> <li><code>r</code> - Sostituisce singolo carattere sotto il cursore.</li> <li><code>s</code> - Toglie un carattere e inizia a inserire il testo al cursore.</li> <li> <p><code>S</code> - Toglie l'intera riga e inizia a inserire il testo al cursore.</p> </li> <li> <p>Navigazione del testo:</p> </li> <li><code>Ctrl + f</code> - Scorri avanti di una pagina.</li> <li><code>Ctrl + b</code> - Scorri indietro di una pagina.</li> <li><code>Ctrl + g</code> - Mostra il numero totale di righe e la posizione corrente.</li> <li><code>:set nowrap</code> - Modifica l'allineamento del testo per impedire l'avvolgimento automatico delle righe di testo.</li> <li> <p><code>:set wrap</code> - Modifica l'allineamento del testo per permettere l'avvolgimento automatico delle righe di testo.</p> </li> <li> <p>Ricerca e sostituzione:</p> </li> <li><code>:%s/vecchia_parola/nuova_parola/g</code> - Sostituisce tutte le occorrenze della vecchia parola con la nuova parola nel documento.</li> <li> <p><code>:g/parola/cambia/nuova_parola/g</code> - Cerca tutte le righe contenenti la parola e sostituisce la vecchia parola con la nuova parola solo in queste righe.</p> </li> <li> <p>Comandi avanzati:</p> </li> <li><code>:help</code> - Mostra la guida di Vim online.</li> <li><code>:version</code> - Mostra la versione di Vim.</li> <li><code>:set</code> - Mostra tutte le impostazioni di Vim attualmente in uso.</li> <li><code>:echo \"testo\"</code> - Mostra il testo specificato nella console di Vim.</li> <li><code>:w nome_file</code> - Salva il file con un nuovo nome.</li> <li><code>:r nome_file</code> - Inserisce il contenuto del file specificato nel documento corrente.</li> <li><code>:e!</code> - Ricarica il file corrente senza salvare le modifiche.</li> </ul> <p>Questi sono solo alcuni dei comandi pi\u00f9 utilizzati in Vim su Arch Linux. Esistono comandi pi\u00f9 avanzati e personalizzabili sia in termini di funzionalit\u00e0 che di tasti di scelta rapida.</p>"},{"location":"Altre-Guide/yay/","title":"Yay","text":"<p>Yay \u00e8 un helper per il AUR di Archlinux che semplifica notevolmente la gestione dei pacchetti. Il AUR (Arch User Repository) \u00e8 una collezione di pacchetti mantenuti dagli utenti di Archlinux, che non sono ufficialmente supportati dal team di sviluppo di Arch.</p> <p>Cos'\u00e8 Yay AUR helper?</p> <p>Yay \u00e8 una versione avanzata di Yaourt, un'altra utility per la gestione di pacchetti AUR. Tuttavia, Yay ha alcune funzionalit\u00e0 aggiuntive che fanno la differenza, come:</p> <ul> <li>Installazione automatica delle dipendenze</li> <li>Compatibilit\u00e0 con pacman, il gestore di pacchetti ufficiale di Archlinux</li> <li>Interfaccia completa per la gestione dei pacchetti (installazione, aggiornamento, rimozione e ricerca)</li> <li>Configurazione delle impostazioni predefinite attraverso il file yay.conf</li> </ul> <p>Come installare Yay AUR helper?</p> <p><pre><code>pacman -S --needed git base-devel\nclone di git https://aur.archlinux.org/yay.git\ncd yay\nmakepkg -si\n</code></pre> </p> <p>Ecco la lista completa di tutti i comandi esistenti per Yay:</p> <ul> <li><code>$ yay</code> nessuna opzione - Aggiorna il database dei pacchetti e cerca nuovi aggiornamenti per i pacchetti installati.</li> <li><code>$ yay -h</code> - Mostra la guida degli aiuti per Yay.</li> <li><code>$ yay -S nome_pacchetto</code> - Installa un pacchetto dal repo dei pacchetti.</li> <li><code>$ yay -Su</code> - Aggiorna solo i pacchetti installati che hanno aggiornamenti disponibili.</li> <li><code>$ yay -Syyu</code> - Aggiorna il database dei pacchetti e tutti i pacchetti installati nel sistema.</li> <li><code>$ yay -R nome_pacchetto</code> - Rimuove un pacchetto dal sistema.</li> <li><code>$ yay -Rs nome_pacchetto</code> - Rimuove il pacchetto e tutte le sue dipendenze che non sono utilizzate da altri pacchetti.</li> <li><code>$ yay -Syu nome_pacchetto</code> - Aggiorna solo il pacchetto specificato.</li> <li><code>$ yay -Ss nome_pacchetto</code> - Cerca un pacchetto tramite il nome.</li> <li><code>$ yay -Si nome_pacchetto</code> - Mostra informazioni dettagliate sul pacchetto specificato, come descritto e dipendenze.</li> <li><code>$ yay -Q</code> - Mostra la lista dei pacchetti installati nel sistema.</li> <li><code>$ yay -Qe</code> - Mostra solo i pacchetti esplicitamente installati dall'utente (escludendo quelli installati come dipendenze).</li> <li><code>$ yay -Ql nome_pacchetto</code> - Mostra i file di un pacchetto specificato.</li> <li><code>$ yay -Qu</code> - Verifica se ci sono aggiornamenti disponibili per i pacchetti installati.</li> <li><code>$ yay -Qdt</code> - Mostra le dipendenze non utilizzate nella cache dei pacchetti.</li> <li><code>$ yay -Y</code> - Scarica e visualizza il PKGBUILD di un pacchetto specificato senza installarlo.</li> <li><code>$ yay -Yc</code> - Rimuove i pacchetti archiviati nella cache che non sono installati. </li> <li><code>$ yay -G nome_pacchetto</code> - Scarica il pacchetto senza installarlo. </li> <li><code>$ yay -P nome_pacchetto</code> - Crea un pacchetto a partire dai sorgenti.</li> <li><code>$ yay -Sc</code> - Scansione alla ricerca di fonti di dati pi\u00f9 vecchie rispetto a quelle attualmente installate.</li> <li><code>$ yay -Sl</code> - Mostra la lista dei repo dei pacchetti.</li> <li><code>$ yay -Syy</code> - Aggiorna il database dei pacchetti.</li> <li><code>$ yay -U</code> <code>nome_file_pacchetto</code> - Aggiorna un pacchetto installato o installa un nuovo pacchetto dal file di pacchetto locale.</li> <li><code>$ yay -F</code> <code>nome_pacchetto</code> - Ricarica i pacchetti disabilitati in modo sicuro.</li> <li><code>$ yay -Qm</code> - Mostra l'elenco dei pacchetti AUR installati nel sistema.</li> <li><code>$ yay -Rns</code> - Rimuove un pacchetto e tutte le sue dipendenze, incluse quelle che vengono utilizzate da altri pacchetti in modo sicuro.</li> <li><code>$ yay -Sdd</code> - Installa un pacchetto e le sue dipendenze necessarie in modo sicuro.</li> <li><code>$ yay -Yc --aur</code> - Rimuove i pacchetti della cache AUR.</li> <li><code>$ yay -Fyy</code> - Forza la ri-sincronizzazione della cache.</li> <li><code>$ yay -Fy</code> - Aggiorna i pacchetti che si trovano nella cache della repo.</li> <li><code>$ yay -Scu</code> - Effettua una scansione per verificare che i pacchetti installati e le dipendenze siano aggiornati in modo sicuro.</li> <li><code>$ yay -Qkk</code> - Aggiorna la lista dei pacchetti archiviati orfani.</li> <li><code>$ yay -Scc</code> - Cancella tutti i dati della cache dei pacchetti.</li> </ul>"},{"location":"Archlinux-Guida/about-arch/","title":"Cos\u00e8 Archlinux?","text":""},{"location":"Archlinux-Guida/about-arch/#cose-archlinux","title":"Cos'\u00e8 Archlinux?","text":"<p>Arch Linux \u00e8 una distribuzione Gnu/Linux sviluppata in modo indipendente, per un uso di tipo general-purpose su architettura x86-64, in cui la versione del software tende a essere sempre l'ultima stabile disponibile, seguendo il modello di rilascio rolling-release. L'installazione predefinita \u00e8 un sistema di base minimale: sar\u00e0 poi l'utente a configurare il sistema aggiungendo soltanto quello che effettivamente gli serve. </p> <p>Visita il sito ufficiale Archlinux.org </p>"},{"location":"Archlinux-Guida/arch-guida/","title":"Installazione di Arch Linux","text":""},{"location":"Archlinux-Guida/arch-guida/#1-verifica-firma","title":"1. Verifica Firma","text":"<p>Si consiglia di verificare la firma dell'immagine prima dell'uso, in particolare durante il download da un mirror HTTP, dove i download sono generalmente soggetti a essere intercettati per fornire immagini dannose.</p> <p>Su un sistema con GnuPG installato, scarica la firma ISO PGP  nella directory ISO e verificala con:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>In alternativa, da un'installazione esistente di Arch Linux eseguire:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#2-configurazione-iniziale","title":"2. Configurazione iniziale","text":"<p>Per iniziare dobbiamo definire la lingua della tastiera, la lingua predefinita senza immettere il comando e' <code>US</code>. I layout disponibili possono essere elencati con: </p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>impostiamo la lingua della nostra tastiera con il comando:</p> <p><code># loadkeys it</code></p> <p>I caratteri della console si trovano in /usr/share/kbd/consolefonts/ e possono anche essere impostati con setfont. Ad esempio, per utilizzare uno dei caratteri pi\u00f9 grandi adatti agli schermi HiDPI, eseguire:</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#3-connessione-internet","title":"3. Connessione Internet","text":"<p>Se avete connesso la machina a internet mediante cavo o macchina virtuale, possiamo verificare il nostro indirizzo ip acquisito attraverso questo comando :</p> <p><code># ip a</code></p> <p>La connessione pu\u00f2 essere verificata con un test tramite il comando ping:</p> <p><code># ping -c 3 archlinux.org</code></p> <p>Collegarsi alla rete wifi utilizzando lo strumento iwctl:</p> <ul> <li><code># iwctl</code> Avviare iwctl</li> <li><code># device list</code>  Trova il nome del tuo dispositivo esempio wlan0</li> <li><code># station wlan0 scan</code> Scansiona le reti wireless disponibili</li> <li><code># station wlan0 get-networks</code> Acquisiamo la lista delle rete</li> <li><code># station wlan0</code> connect nometuarete  Connessione alla rete</li> <li><code># exit</code> </li> </ul> <p>Se nel caso in cui i nostri dispositivi siano disabilitati e non riusciamo a eseguire iwctl:</p> <ul> <li><code># rfkill list</code>  verifichiamo lo stato dei dispositivi blocked o unblocked</li> <li><code># rfkill unblock all</code> sblocchiamo tutti i nostri dispositivi bloccati blocked</li> <li><code># systemctl restart iwd</code>  riavviamo il servizio iwd</li> </ul> <p>Riprovare <code># iwctl</code> e procedere come sopra.</p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#4-preparazione-del-disco","title":"4. Preparazione del disco","text":"<p>Scegli quale tipo di installazione affrontare e dopo aver preparato il disco salta al punto (5)</p> <ul> <li>Bios-MBR ext4</li> <li>UEFI EXT4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#bios-mbr","title":"Bios-MBR","text":""},{"location":"Archlinux-Guida/arch-guida/#partizionamento","title":"Partizionamento","text":"<p>Individuamo il nostro disco per conoscere la nomenclatura da usare ad Esempio: in caso di SSD /dev/sda oppure nel caso di M.2 /dev/nvme0n1 infine il Disco Virtuale /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Una volta individuata la nomenclatura del nostro disco usiamo cfdisk, qui ipotizzeremo di avere /dev/sda. Potrebbe essere richiesto il tipo di tabella di partizionamento se il disco e' vergine, in questo caso andiamo a selezionare DOS:</p> <p><code># cfdisk /dev/sda</code></p> <p>Creiamo le partizioni necessarie all'installazione base, ipotizzando di avere un disco SSD da 128GiB:</p> <ul> <li><code># 4Gib</code>   Creiamo una partizione per la swap e selezioniamo tipo swap</li> <li><code># 124Gib</code>  Creiamo la partizione Root</li> <li><code># write (yes)</code> e <code>quit</code>  Scriviamo le modifiche e usciamo</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#formattare-le-partizioni","title":"Formattare le Partizioni","text":"<ul> <li><code># mkswap /dev/sda1</code> La partizione per la swap</li> <li><code># mkfs.ext4 /dev/sda2</code> La partizione Root in EXT4</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#montaggio-delle-partizioni","title":"Montaggio delle Partizioni","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> Montiamo la partizione root</li> <li><code># swapon /dev/sda1</code> Montiamo la partizione di swap</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"Archlinux-Guida/arch-guida/#partizionamento_1","title":"Partizionamento","text":"<p>Individuamo il nostro disco per conoscere la nomenclatura da usare ad Esempio: in caso di SSD /dev/sda oppure nel caso di M.2 /dev/nvme0n1 infine il Disco Virtuale /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Una volta individuata la nomenclatura del nostro disco usiamo cfdisk, qui ipotizzeremo di avere /dev/sda. Potrebbe essere richiesto il tipo di tabella di partizionamento se il disco e' vergine, in questo caso andiamo a selezionare GUID Partition Table (GPT):</p> <p><code># cfdisk /dev/sda</code></p> <p>Creiamo le partizioni necessarie all'installazione base, ipotizzando di avere un disco SSD da 128GiB:</p> <ul> <li><code># 512Mib</code>  Creiamo la partizione EFI e scegliamo di tipo EFI system</li> <li><code># 4Gib</code>   Creiamo una partizione per la swap e selezioniamo tipo swap</li> <li><code># 23.5Gib</code>  Creiamo la partizione Root</li> <li><code># 100Gib</code>  Creiamo la partizione Home</li> <li><code># write (yes)</code> e <code>quit</code>  Scriviamo le modifiche e usciamo</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#formattare-le-partizioni_1","title":"Formattare le Partizioni","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> La partizione EFI system in FAT32 per il boot</li> <li><code># mkswap /dev/sda2</code> La partizione per la swap</li> <li><code># mkfs.ext4 /dev/sda3</code> La partizione Root in EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> La partizione Home in EXT4</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#montaggio-delle-partizioni_1","title":"Montaggio delle Partizioni","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> Montiamo la partizione root</li> <li><code># mkdir -p /mnt/{home,boot}</code> creiamo la directory /home e la directory /boot</li> <li><code># mount /dev/sda4 /mnt/home</code> Montiamo la partizione home</li> <li><code># mount /dev/sda1 /mnt/boot</code> Montiamo la partizione di boot</li> <li><code># swapon /dev/sda2</code> Montiamo la partizione di swap</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"Archlinux-Guida/arch-guida/#partizionamento_2","title":"Partizionamento","text":"<p>Individuamo il nostro disco per conoscere la nomenclatura da usare ad Esempio: in caso di SSD /dev/sda oppure nel caso di M.2 /dev/nvme0n1 infine il Disco Virtuale /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Una volta individuata la nomenclatura del nostro disco usiamo cfdisk, qui ipotizzeremo di avere /dev/sda. Potrebbe essere richiesto il tipo di tabella di partizionamento se il disco e' vergine, in questo caso andiamo a selezionare GUID Partition Table (GPT):</p> <p><code># cfdisk /dev/sda</code></p> <p>Creiamo le partizioni necessarie all'installazione base, ipotizzando di avere un disco SSD da 128GiB:</p> <ul> <li><code># 512Mib</code>  Creiamo la partizione EFI e scegliamo di tipo EFI system</li> <li><code># 27.5Gib</code>  Creiamo la partizione Root</li> <li><code># 100Gib</code>  Creiamo la partizione Home</li> <li><code># write (yes)</code> e <code>quit</code>  Scriviamo le modifiche e usciamo</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#formattare-le-partizioni_2","title":"Formattare le Partizioni","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> La partizione EFI system in FAT32 per il boot</li> <li><code># mkfs.btrfs /dev/sda2</code> La partizione Root in BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> La partizione Home in BTRFS</li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#montaggio-delle-partizioni_2","title":"Montaggio delle Partizioni","text":"<p>Creiamo i sottovolumi @ e @home</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code> </p> </li> <li> <p><code># btrfs su cr /mnt/@</code> </p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code> </p> </li> <li> <p><code># umount /mnt</code> </p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code> </p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> creiamo la directory /home e la directory /boot</p> </li> <li> <p><code># mount /dev/sda1 /mnt/boot</code> </p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></p> </li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"Archlinux-Guida/arch-guida/#partizionamento_3","title":"Partizionamento","text":"<p>Individuamo il nostro disco per conoscere la nomenclatura da usare ad Esempio: in caso di SSD /dev/sda oppure nel caso di M.2 /dev/nvme0n1 infine il Disco Virtuale /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Ipotizzando di avere 3 dischi da 128GiB  da usare con LVM sda sdb sdc useremo lo strumento cfdisk un operazione alla volta per disco:</p> <ul> <li><code># cfdifk /dev/sda</code></li> <li><code># 512Mib</code> Creiamo la partizione EFI e scegliamo di tipo EFI system</li> <li><code># 127.5GiB</code> Creiamo la partizione e scegliamo di tipo LVM</li> <li><code># write (yes)</code> e <code>quit</code>  Scriviamo le modifiche e usciamo </li> <li><code># cfdifk /dev/sdb</code></li> <li><code># 128GiB</code> Creiamo la partizione e scegliamo di tipo LVM</li> <li><code># write (yes)</code> e <code>quit</code>  Scriviamo le modifiche e usciamo </li> <li><code># cfdifk /dev/sdc</code></li> <li><code># 128GiB</code> Creiamo la partizione e scegliamo di tipo LVM</li> <li><code># write (yes)</code> e <code>quit</code>  Scriviamo le modifiche e usciamo</li> </ul> <p>Per creare partizioni sotto LVM dobbiamo prima creare un volume fisico:</p>"},{"location":"Archlinux-Guida/arch-guida/#creazione-volume-fisico","title":"Creazione volume fisico","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"Archlinux-Guida/arch-guida/#creazione-gruppo-volume","title":"Creazione gruppo volume","text":"<p>Crea e estendi il tuo gruppo volume, \u00e8 necessario creare un gruppo di volumi su uno o piu' volumi fisici <code># vgcreate volume_group physical_volume</code> per esempio:</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>Questo comando imposter\u00e0 prima le tre partizioni come volumi fisici (se necessario) e quindi creer\u00e0 il gruppo di volumi con i tre volumi. Il comando ti avviser\u00e0 se rileva un filesystem esistente su qualsiasi dispositivo.</p>"},{"location":"Archlinux-Guida/arch-guida/#creazione-volume-logici","title":"Creazione Volume Logici","text":"<p>Crea volumi logici, per una configurazione di base ne avremmo bisogno per root, swap e home.</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#formattare-le-partizioni_3","title":"Formattare le Partizioni","text":"<p><code># mkfs.vfat -F32 /dev/sda1</code> La partizione EFI system in FAT32 per il boot</p> <ul> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#montaggio-delle-partizioni_3","title":"Montaggio delle Partizioni","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code></li> <li><code># mkdir -p /mnt/{home,boot}</code> creiamo la directory /home e la directory /boot</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#estendere-un-gruppo-lvm","title":"Estendere un gruppo lvm","text":"<p>Se in futuro vorrete aggiungere un nuovo volume fisico al gruppo vediamo quale comando usare, ipotizzando un quarto disco sdd e di averlo partizionato come prima di tipo lvm, estendiamo lo spazio per esempio a <code>/dev/lvm/home</code>:</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#5-mirrorlist","title":"5. Mirrorlist","text":"<p>Salviamo il mirrorlist per i repositoy in /etc/pacman.d/mirrorlist con lo strumento reflector, specificare il paese dove sincronizzare i server ad esempio it, e' possibile aggiungere piu paesi usando la virgola ad esempio it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#6-pacstrap","title":"6. Pacstrap","text":"<p>Installiamo il kernel linux e i pacchetti base per creare il nostro arch, aggiungiamo anche un editor ad esempio vim, se stai seguendo l'installazione per lvm aggiungi al comando che segue il pacchetto <code>lvm2</code>:</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#7-generare-fstab","title":"7. Generare Fstab","text":"<p>Il file /etc/fstab vi permette di controllare quali filesystem sono montati in fase di avvio sul vostro sistema Linux, comprese le partizioni di Windows e le condivisioni di rete:</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#8-chroot","title":"8. Chroot","text":"<p>Passiamo in chroot e configuriamo i seguenti passaggi: Configurazione del localtime, del systemclock, lingua, keyboard mappings, localhost, Password Root, Creazione User e password.</p> <p>entriamo in chroot:</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#time-zone","title":"Time zone","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#localizzazione","title":"Localizzazione","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#hostname-e-hosts","title":"Hostname e Hosts","text":"<ul> <li><code># echo \"NOMETUAMACCHINA\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#utente-e-root","title":"Utente e Root","text":"<p>Configuriamo la password di Root, fai attenzione!</p> <p><code># passwd</code></p> <p>Configuriamo un nuovo utente in minuscolo creando con <code>-m</code> la directory <code>/home/NOMEUTENTE</code>, con <code>-G</code> il gruppo <code>wheel</code> e infine con <code>-s</code> la shell:</p> <p><code># useradd -mG wheel -s /bin/bash NOMEUTENTE</code></p> <p>Configuriamo il nome reale (quello che appare in grafica con l'iniziale maiuscola ad esempio \"Alessio\") </p> <p><code># usermod -c 'NOMEREALE' NOMEUTENTE</code></p> <p>Configuriamo una password per l'utente appena aggiunto, fai attenzione!</p> <p><code># passwd NOMEUTENTE</code></p> <p>Configuriamo il file sudoers per il gruppo wheel</p> <p><code># echo \"NOMEUTENTE ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/NOMEUTENTE</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#mkinitcpio-per-lvm","title":"mkinitcpio per lvm","text":"<p>aggiungere lvm2 a hooks in /etc/mkinitcpio.conf</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>quindi usare il comando:</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#9-bootloader","title":"9. Bootloader","text":""},{"location":"Archlinux-Guida/arch-guida/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB supporta completamente l'avvio protetto utilizzando chiavi CA o shim, tuttavia il comando di installazione \u00e8 diverso a seconda di quale si intende utilizzare.</p> <p>Per utilizzare le chiavi CA il comando \u00e8:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>Per utilizzare shim-lock il comando \u00e8:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"deafult arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>adesso creiamo la configurazione del file arch.conf aperto con vim, e' importante scrivere la partizione di avvio della root corretta ad esempio <code>root=/dev/sdax</code> dove <code>x</code> sta per il numero di partizione della root.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"deafult arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>adesso creiamo la configurazione del file arch.conf aperto con vim, e' importante scrivere la partizione di avvio della root corretta ad esempio <code>root=/dev/sdax</code> dove <code>x</code> sta per il numero di partizione della root, aggiungiamo il flag per il sottovolume @.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"deafult arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>adesso creiamo la configurazione del file arch.conf aperto con vim, e' importante scrivere la partizione di avvio della root corretta ad esempio per lvm <code>root=/dev/mapper/lvm-root</code>.</p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#10-pacchetti-base","title":"10. Pacchetti Base","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#11-ambiente-grafico","title":"11. Ambiente Grafico","text":"<p>Scegli tra alcuni dei piu famosi ambienti desktop suggeriti:</p>"},{"location":"Archlinux-Guida/arch-guida/#gnome","title":"Gnome","text":"<p>Gnome completo con display manager GDM</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#xfce4","title":"Xfce4","text":"<p>xfce4 con display manager Lightdm</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#lxde","title":"lxde","text":"<p>lxde con display manger lightdm</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#mate","title":"Mate","text":"<p>mate con display manger lightdm</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#plasma","title":"Plasma","text":"<p>plasma kde con display manager SDDM</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"Archlinux-Guida/arch-guida/#cinnamon","title":"Cinnamon","text":"<p>cinnamon con display manager Lightdm</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#12-servizi","title":"12. Servizi","text":"<p>Se hai abilitato il servizio per il display manager puoi passare ad abilitare gli altri servizi necessari.</p> <ul> <li><code># systemctl enable NetworkManager</code> Fai attenzione e' case sensitive.</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"Archlinux-Guida/arch-guida/#13-zram","title":"13. Zram","text":"<p>L'esempio seguente descrive come configurare lo scambio su zram automaticamente all'avvio con una singola regola udev. Non dovrebbe essere necessario alcun pacchetto aggiuntivo per farlo funzionare.</p> <p>Carica esplicitamente il modulo all'avvio:</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>Crea la seguente regola udev regolando l'attributo disksize come necessario per la misura della swap in questo esempio e' 16G:</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\" , TAG+=\"systemd\"</code></p> </li> </ul> <p>Aggiungi /dev/zram al tuo fstab con una priorit\u00e0 superiore a quella predefinita:</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"Download/Derivate/","title":"Derivate","text":""},{"location":"Download/Derivate/#arch-linux-arm-2009","title":"Arch Linux ARM (2009)","text":"<p>Arch Linux ARM \u00e8 una distribuzione di Linux per computer ARM. Forniamo supporto software e kernel mirato per ARMv7 con NEON e ARMv8 AArch64 su una variet\u00e0 di dispositivi consumer e piattaforme di sviluppo. La nostra collaborazione con Arch Linux porta agli utenti la migliore piattaforma, i pacchetti pi\u00f9 recenti e il supporto all'installazione.</p> <p>Arch Linux ARM continua la filosofia di Arch Linux di semplicit\u00e0 e centrismo sull'utente, mirando e accogliendo gli utenti Linux competenti offrendo loro completo controllo e responsabilit\u00e0 sul sistema. Vengono fornite istruzioni per navigare le sfumature dell'installazione su varie piattaforme ARM; tuttavia, il sistema stesso offre poco aiuto all'utente.</p> <p>L'intera distribuzione \u00e8 in un ciclo di aggiornamento continuo che pu\u00f2 essere aggiornato quotidianamente attraverso piccoli pacchetti anzich\u00e9 grandi aggiornamenti su un calendario di rilascio definito. La maggior parte dei pacchetti non viene modificata rispetto a ci\u00f2 che l'upstream developer ha originalmente rilasciato.</p> <p></p>"},{"location":"Download/Derivate/#archbang-2010","title":"ArchBang (2010)","text":"<p>ArchBang \u00e8 una distribuzione Linux basata su Arch Linux, che combinando la leggerezza di Openbox con l'estrema personalizzazione di Arch Linux, offre un'esperienza di primo livello per utenti esperti e appassionati di Linux.</p> <p>In particolare, ArchBang si concentra su un'installazione minimale iniziale, che pu\u00f2 essere configurata e personalizzata a piacere dall'utente, utilizzando strumenti come il terminale e i file di configurazione.</p> <p>ArchBang \u00e8 nota per la sua velocit\u00e0 e leggerezza, grazie alla scelta di programmi leggeri e snelli, meno onerosi in termini di risorse di sistema. Questo rende la distribuzione ideale per computer vecchi o poco potenti con poche risorse.</p> <p></p>"},{"location":"Download/Derivate/#archex-2011","title":"ArchEX (2011)","text":"<p>ArchEX \u00e8 una distribuzione Linux basata su Arch Linux, ma con diverse modifiche e ottimizzazioni per migliorare la facilit\u00e0 d'uso e la stabilit\u00e0. \u00c8 adatta per gli utenti avanzati che vogliono un sistema Linux personalizzato e altamente configurabile.</p> <p>ArchEX \u00e8 fornito con un ambiente desktop LXDE / LXQT preinstallato, ma altri desktop possono essere facilmente installati tramite il gestore dei pacchetti Pacman di Arch Linux. Inoltre, sono disponibili anche una vasta gamma di programmi e applicazioni preinstallati per soddisfare diverse esigenze di utilizzo.</p> <p>Gli utenti di ArchEX possono anche godere della flessibilit\u00e0 e della personalizzazione di Arch Linux, grazie alla sua natura rolling release. Ci\u00f2 significa che le ultime versioni del software possono essere installate in qualsiasi momento e non \u00e8 necessario effettuare una reinstallazione completa del sistema. In sostanza, ArchEX fornisce un sistema Linux altamente personalizzabile e veloce, ideale per gli utenti avanzati che cercano un ambiente di sviluppo Linux personalizzato.</p> <p></p>"},{"location":"Download/Derivate/#archcraft-2021","title":"Archcraft (2021)","text":"<p>Archcraft \u00e8 solo un'altra distribuzione di Linux, creata sopra a Arch Linux. Utilizza window manager e applicazioni leggere, il che la rende super veloce. Con impostazioni preconfigurate, Archcraft ti fornisce la migliore esperienza di window manager \"out of the box\". \u00c8 molto minimale e leggera. Pu\u00f2 funzionare con meno di 500Mb di memoria poich\u00e9 utilizza solo window manager e alcune applicazioni leggere. Colori piatti e pastelli, la coerenza tra tutti gli elementi UI e vari temi rendono Archcraft molto pulita, minimalista e sorprendente.Con software aggiornato e supporto integrato per AUR, e essendo leggera, Archcraft ti d\u00e0 il potere di fare ci\u00f2 che vuoi con il tuo PC Linux.</p> <p></p>"},{"location":"Download/Derivate/#core-2023","title":"Core (2023)","text":"<p>Core (Architalia-live) \u00e8 una distribuzione live che consente l'installazione di Arch Linux in modo completamente manuale grazie alla presenza della console e degli script. Allo stesso tempo, include una shell minimale di Gnome con pacchetti utili per una facile gestione dell'installazione. La connessione a Internet avviene tramite NetworkManager, integrato nella shell di Gnome, e ogni utente pu\u00f2 accedere alle guide in formato PDF della community Architalia.</p> <p></p>"},{"location":"Download/Derivate/#parabola-gnulinux-libre-2011","title":"Parabola GNU/Linux-libre (2011)","text":"<p>Basata sulla distribuzione Arch, Parabola \u00e8 un sistema operativo completo e facile da usare, adatto all'uso quotidiano, ma che mantiene il fascino per gli utenti avanzati di Arch. Parabola segue le linee guida della GNU Free System Distribution Guidelines (FSDG), che richiede che il codice sorgente di ogni parte del sistema sia liberamente disponibile, modificabile e ridistribuibile. Tutti i pacchetti di Parabola sono compilati dal codice sorgente in ambienti di chroot puliti e con la rete disabilitata, al fine di sostituire qualsiasi software e opere d'arte nel sistema Arch standard che non rispettino le linee guida GNU. Sono disponibili LiveISO, installer e pacchetti per le architetture CPU armv7h, i686 e x86_64.</p> <p></p>"},{"location":"Download/Derivate/#manjaro-linux-2011","title":"Manjaro Linux (2011)","text":"<p>Manjaro \u00e8 un sistema operativo Linux gratuito e open source che enfatizza la privacy dell'utente e il controllo dell'hardware. \u00c8 facile da usare e adatto a coloro che sono nuovi ai computer e pu\u00f2 essere installato su una vasta gamma di dispositivi. Le architetture supportate includono x86-64 e ARM, rendendolo una scelta ideale per qualsiasi dispositivo o ambiente informatico. Manjaro offre numerose opzioni di personalizzazione e applicazioni, oltre a funzionalit\u00e0 di sicurezza e privacy. Offre anche diverse interfacce utente grafiche.</p> <p></p>"},{"location":"Download/Derivate/#blackarch-linux-2012-httpsblackarchorg","title":"BlackArch Linux (2012) https://blackarch.org/","text":"<p>BlackArch Linux \u00e8 una distribuzione basata su Arch Linux dedicata agli specialisti di penetrazione e ai ricercatori di sicurezza informatica. Il repository contiene 2864 strumenti. \u00c8 possibile installare gli strumenti singolarmente o in gruppi. BlackArch Linux \u00e8 compatibile con le installazioni esistenti di Arch. </p> <p></p>"},{"location":"Download/Derivate/#blendos-2023","title":"BlendOS (2023)","text":"<p>blendOS \u00e8 una distribuzione basata su Arch Linux, a rilascio continuo, che automatizza l'installazione di software dalle distribuzioni supportate (Arch, Fedora e Ubuntu) in contenitori. blendOS cerca di rendere la gestione del software tra i contenitori nativa e fornisce accesso alla directory home dell'utente per ciascun contenitore.</p> <p></p>"},{"location":"Download/Derivate/#bluestar-linux-2013","title":"Bluestar Linux (2013)","text":"<p>Bluestar Linux \u00e8 una distribuzione GNU/Linux basata su Arch Linux. La distribuzione Bluestar presenta pacchetti aggiornati, una vasta gamma di software per desktop e multimediale nell'installazione predefinita e un DVD desktop live.</p> <p></p>"},{"location":"Download/Derivate/#puppyrus-a-2013","title":"PuppyRus-A (2013)","text":"<p>PuppyRus Linux \u00e8 un sistema operativo veloce e leggero che funziona praticamente su qualsiasi computer, anche quelli obsoleti. \u00c8 possibile utilizzarlo in modalit\u00e0 di installazione completa, nonch\u00e9 utilizzare la versione LiveCD o USB-Flash. Il sistema PuppyRus Linux pu\u00f2 essere installato come sistema aggiuntivo, senza dover modificare il sistema operativo principale.</p> <p></p>"},{"location":"Download/Derivate/#archstrike-2014","title":"ArchStrike (2014)","text":"<p>ArchStrike \u00e8 una distribuzione Linux specializzata nella sicurezza informatica, basata su Arch Linux. Essa comprende una vasta gamma di strumenti per l'hacking etico e la protezione dei sistemi, tra cui scanner di vulnerabilit\u00e0, applicazioni per la sicurezza delle reti, analizzatori di pacchetti, framework per l'exploit e molto altro ancora. I pacchetti software sono regolarmente aggiornati per garantire la massima efficienza e sicurezza. ArchStrike \u00e8 disponibile come immagine ISO scaricabile o come pacchetto aggiuntivo per Arch Linux.</p> <p></p>"},{"location":"Download/Derivate/#kaos-2014","title":"KaOS (2014)","text":"<p>KaOS ha scelto di utilizzare il kernel Linux come base (sebbene il kernel Illumos sia sotto costante valutazione e un cambiamento futuro sia un desiderio). Dopo questa scelta, il miglior gestore di pacchetti disponibile, il modo pi\u00f9 flessibile di creare pacchetti e la manutenzione del repository \u00e8 pacman/makepkg per una distro rolling come KaOS. Per quanto riguarda l'ambiente desktop, non ci sar\u00e0 mai un cambiamento, sia che sia basato su Linux o Illumos, KDE Plasma sar\u00e0 la scelta, Qt il toolkit. Con queste scelte in atto, \u00e8 stata avviata, nell'aprile 2013, la creazione di pacchetti per questa distribuzione indipendente. KaOS \u00e8 una distribuzione completamente creata da zero, ogni pacchetto in ogni repository \u00e8 creato da e per KaOS. Nel luglio 2013 \u00e8 stata raggiunta l'obiettivo iniziale di circa 1500 pacchetti.</p> <p></p>"},{"location":"Download/Derivate/#arcolinux-2017","title":"ArcoLinux (2017)","text":"<p>ArcoLinux (precedentemente noto come ArchMerge) \u00e8 una distribuzione basata su Arch Linux. Lo sviluppo avviene in tre rami - ArcoLinux, ArcoLinuxD e ArcoLinuxB. ArcoLinux \u00e8 una distribuzione completa che include l'ambiente desktop Xfce (oltre ai window manager Openbox e i3). ArcoLinuxD \u00e8 una distribuzione minimale che include degli script che permettono agli utenti esperti di installare qualsiasi ambiente desktop e applicazione. ArcoLinuxB \u00e8 un progetto che d\u00e0 agli utenti la possibilit\u00e0 di creare distribuzioni personalizzate, e inoltre sviluppa diverse edizioni comunitarie con ambienti desktop preconfigurati, come Awesome, bspwm, Budgie, Cinnamon, Deepin, GNOME, MATE e KDE Plasma. ArcoLinux offre anche vari tutorial video, poich\u00e9 enfatizza l'apprendimento e l'acquisizione di competenze Linux.</p> <p></p>"},{"location":"Download/Derivate/#archlabs-2017","title":"ArchLabs (2017)","text":"<p>ArchLabs \u00e8 una distribuzione basata su Arch Linux e che utilizza il window manager Openbox come interfaccia desktop principale. ArchLabs \u00e8 una distribuzione a 64 bit con release continue, che fornisce un DVD live. La distribuzione pu\u00f2 essere installata utilizzando il programma di installazione AL-Installer.</p> <p></p>"},{"location":"Download/Derivate/#archman-linux-2017","title":"Archman Linux (2017)","text":"<p>Archman GNU/Linux \u00e8 una distribuzione basata su Arch Linux che presenta il programma di installazione del sistema Calamares e un ambiente desktop preconfigurato. Archman presenta inoltre il gestore dei pacchetti Pamac per l'installazione facile dei pacchetti di nuovo software.</p> <p></p>"},{"location":"Download/Derivate/#arch-linux-32-2017","title":"Arch Linux 32 (2017)","text":"<p>Archlinux32 \u00e8 una distribuzione Linux basata su Arch Linux, ma progettata per supportare i sistemi a 32 bit. \u00c8 un progetto comunitario che si dedica alla creazione e al mantenimento di pacchetti e repository per i sistemi a 32 bit. Archlinux32 si concentra sulla semplicit\u00e0, la personalizzazione e la leggerezza, con una vasta gamma di pacchetti software disponibili attraverso il suo sistema di gestione dei pacchetti Pacman. La distribuzione \u00e8 altamente modularizzata, consentendo agli utenti di creare un sistema personalizzato adatto alle loro esigenze specifiche. Archlinux32 \u00e8 un'opzione ideale per i vecchi computer a 32 bit o per gli utenti che cercano una versione leggera e personalizzabile di Arch Linux.</p> <p></p>"},{"location":"Download/Derivate/#rebornos-2017","title":"RebornOS (2017)","text":"<p>RebornOS \u00e8 una moderna distribuzione basata su Arch con l'installatore pi\u00f9 avanzato, la possibilit\u00e0 di scegliere cosa installare e molti desktop e wm.</p> <p></p>"},{"location":"Download/Derivate/#artix-linux-2016","title":"Artix Linux (2016)","text":"<p>Artix Linux \u00e8 una distribuzione a rilascio progressivo basata su Arch Linux che utilizza init come OpenRC, runit, s6 o Dinit, al contrario di init systemd di Arch Linux. </p> <p></p>"},{"location":"Download/Derivate/#garuda-linux-2020","title":"Garuda Linux (2020)","text":"<p>Garuda Linux \u00e8 una distribuzione Linux basata su Arch Linux. Garuda Linux \u00e8 disponibile per i principali ambienti desktop, fra cui una versione modificata di KDE Plasma 5. L'aggiornamento avviene tramite rolling release e il gestore di pacchetti \u00e8 quello di Arch Linux, ovvero Pacman.</p> <p></p>"},{"location":"Download/Derivate/#hyperbola-gnulinux-libre-2017","title":"Hyperbola GNU/Linux-libre (2017)","text":"<p>Hyperbola GNU/Linux-libre \u00e8 una distribuzione del sistema operativo Linux basata su Arch Linux. Hyperbola mette l'accento sulla libert\u00e0 e sulla privacy dei suoi utenti, fornendo solo software libero ed evitando qualsiasi tipo di software proprietario. Hyperbola utilizza esclusivamente pacchetti liberi di software e firmware, tra cui il kernel Linux-libre, che \u00e8 una versione del kernel Linux senza driver proprietari o non liberi inclusi. L'obiettivo principale di Hyperbola \u00e8 di fornire un'alternativa alla maggior parte delle distribuzioni Linux che utilizzano software proprietario o non liberi. Hyperbola \u00e8 anche progettata per essere altamente personalizzabile e configurabile, e pu\u00f2 essere utilizzata su diverse piattaforme hardware, compresi i sistemi embedded, i server, i desktop e i laptop.</p> <p></p>"},{"location":"Download/Derivate/#instantos-2019","title":"instantOS (2019)","text":"<p>InstantOS \u00e8 una distribuzione Linux basata su Arch Linux che offre un'esperienza desktop Linux completamente personalizzabile e minimalista. L'ambiente desktop predefinito di InstantOS \u00e8 basato su Openbox, ma offre anche una vasta gamma di altri gestori di finestre, tra cui i3, bspwm, awesome, DWM e altri. InstantOS \u00e8 un'opzione leggera e veloce per chi cerca un'esperienza desktop Linux superiore.</p> <p></p>"},{"location":"Download/Derivate/#chimeraos-2019","title":"ChimeraOS (2019)","text":"<p>ChimeraOS \u00e8 un sistema operativo basato su Arch Linux che offre un'esperienza utente ottimizzata per i giochi. \u00c8 progettato per essere facile da usare e configurare, utilizzando una combinazione di strumenti automatizzati e controlli manuali avanzati. ChimeraOS offre anche una vasta gamma di driver e librerie ottimizzati per i giochi, nonch\u00e9 una vasta scelta di applicazioni e giochi preinstallati.</p> <p></p>"},{"location":"Download/Derivate/#tearch-linux-2020","title":"TeArch Linux (2020)","text":"<p>TeaArch-Linux is arch linux based end user distribution. TeArch linux provide easy installation and usage for archlinux. TeArch-linux is Turkiye origin distribution. \ud83c\uddf9\ud83c\uddf7 Our main puppose is creating easy usable GNU/Linux for everyone.</p> <p></p>"},{"location":"Download/Derivate/#crystal-linux-2022","title":"Crystal Linux (2022)","text":"<p>Crystal Linux is a brand new Arch Linux based distribution. It tries to be as friendly, powerful and easy to use as possible.</p> <p></p>"},{"location":"Download/Derivate/#endeavouros-2019","title":"EndeavourOS (2019)","text":"<p>EndeavourOS \u00e8 una distribuzione Linux basata su Arch Linux, successore di Antergos, il cui sviluppo \u00e8 iniziato nel 2019. Come Antergos, supporta l'installazione degli ambienti Xfce, Budgie, Cinnamon, Deepin, GNOME, i3, KDE Plasma 5, LXQt, MATE.</p> <p></p>"},{"location":"Download/ai-repo/","title":"Architalia Repository ai-repo for Core Linux","text":"<p>ai-repo is a repository of Arch Linux packages that was created primarily for Core Linux, which is still a work-in-progress and not a real thing yet.</p> <pre><code>[ai-repo]\nSigLevel = Required DatabaseOptional\nServer = https://gitlab.com/architalialinux/$repo/-/raw/main/$arch \n</code></pre> <p>Then, sync the repositories and update your system with:</p> <pre><code>sudo pacman -Syyu\n</code></pre> <p>And, then:</p> <pre><code>sudo pacman -S name-of-package\n</code></pre> <p>NOTE: Pacman will complain about importing a PGP key that is either invalid or corrupted.  The problem can be fixed by locally signing the imported key:</p> <pre><code>sudo pacman-key --lsign-key AEA0A2E06D592805\n</code></pre>"},{"location":"Download/ai-repo/#server-logs","title":"\ud83d\udfe2 Server logs:","text":"<ul> <li>17 Packages</li> <li>31-07-2023 13:29:54 architalia-fonts 1.0 version already updated</li> <li>31-07-2023 13:29:54 ckbcomp 1.221 version already updated</li> <li>31-07-2023 13:29:55 clean 2.2 version already updated</li> <li>31-07-2023 13:29:55 core-base 1.1 version already updated</li> <li>31-07-2023 13:29:55 core-extensions-base 1.2 version already updated</li> <li>31-07-2023 13:29:55 core-terminal-nord-theme 1.2 version already updated</li> <li>31-07-2023 13:29:55 core-gnome-backgrounds 1.9 version already updated</li> <li>31-07-2023 13:29:55 core-gtk-theme 1.8 version already updated</li> <li>31-07-2023 13:29:55 core-icons-theme 1.0 version already updated</li> <li>31-07-2023 13:29:55 core-keyring 1.2 version already updated</li> <li>31-07-2023 13:29:55 gnome-shell-extension-desktop-icons-ng 47.0.3 version already updated</li> <li>31-07-2023 13:29:56 extension-manager 0.4.2 version already updated</li> <li>31-07-2023 13:29:56 libbacktrace-git 75 version already updated</li> <li>31-07-2023 13:29:57 mkinitcpio-openswap 0.1.0 version already updated</li> <li>31-07-2023 13:29:57 text-engine 0.1.0 &gt; 0.1.1 just updated \ud83d\udd39</li> <li>31-07-2023 13:30:03 timeshift 23.07.1 version already updated</li> <li>31-07-2023 13:30:04 yay 12.1.2 version already updated</li> <li>Generate by the \ud83e\udd16 ai-brain script</li> </ul>"},{"location":"Download/archlinux/","title":"Download live iso","text":""},{"location":"Download/archlinux/#archiso","title":"Archiso","text":"<p>Sempre aggiornata, dal server Italiano archmirror.it</p> <p>Download </p> <p>Verifica della firma</p> <p>E' raccomandata la verifica della firma dell'immagine prima dell'utilizzo, specialmente se \u00e8 stata scaricata da un mirror HTTP, dove i download possono essere soggetti ad intercettazioni per fornire immagini malevoli. Su un sistema con GnuPG installato, eseguire il comando seguente per scaricare la firma PGP ISO &gt; nella directory col file ISO, e verificarla con:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>In alternativa, da un'installazione esistente di Arch Linux eseguire:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"Download/archlinux/#vm-image","title":"VM image","text":"<p>Immagini ufficiali per macchina virtuale, l'immagine di base \u00e8 pensata per l'uso locale ed \u00e8 preconfigurata con (utente: arch - password: arch) e sshd in esecuzione.</p> <p>Download </p> <p></p>"},{"location":"Download/archlinux/#docker","title":"Docker","text":"<p>Immagine ufficiale Docker</p> <p><code>docker pull archlinux</code></p> <p>Download </p> <p></p>"},{"location":"Download/archlinux/#arm","title":"ARM","text":"<p>Arch Linux ARM \u00e8 una distribuzione di Linux per computer ARM</p> <p>Download </p> <p></p>"},{"location":"Download/core/","title":"Core Linux","text":""},{"location":"Download/core/#about-core-linux","title":"About Core Linux","text":"<p>Core Linux is a minimal Linux distribution, based on Arch Linux, that focuses on simplicity and speed. It provides only essential packages for the proper functioning of the OS and is designed for customisation based on the user's needs. Core Linux is only available on 64-bit architectures and is also an official Linux distribution of the Architalia community. </p>"},{"location":"Download/core/#getting-started-with-core-linux","title":"Getting Started with Core Linux","text":"<p>To install Core Linux with its minimal and organised environment, navigate to the installcore application in the menu or type <code>installcore</code> in the console to start the installation process. You can also import your own guides or scripts to be run through the live based on Arch Linux.</p>"},{"location":"Download/core/#core-linux-configuration","title":"Core Linux Configuration","text":"<p>The customised configuration of Core Linux comes with pre-installed packages such as yay, timeshift, and AI-repo, a repository that has other useful packages. The graphical environment comes with a minimalised version of Gnome, that has basic extensions that allow for convenient use. System updates can be managed easily with Arch Linux updates indicator, which is configured to handle official packages and AUR through the Core Linux updates script. AppIndicator allows for the system tray function to appear on the top bar, whereas Night Theme Switcher enables automatic switching between light and dark modes. Desktop-icons-ng is also available for desktop icons management. Other functions and packages are regularly added to the evolving distribution. </p> <p>The filesystem used is btrfs, with the creation of subvolumes @ and @home, and zram generator is installed for swap management.</p> <p>To ensure the upkeep of the system, use the clean tool that is installed and available by typing <code>clean</code> in the console.</p>"},{"location":"Download/core/#core-linux-download","title":"Core Linux Download","text":"<ul> <li>Core-2023.08.01-x86_64.iso is the available image file that has a size of 1.48 GB, running on kernel 6.4.7-arch1-1. </li> <li>The sha256sum is <code>43cbd34ed2a8c3bcd2f2b053c6d4e513b7001e58e575579cf49c6e593137a456</code>. </li> </ul>"},{"location":"Download/manutenzione/","title":"Pagina in manutenzione riprovare piu tardi","text":""},{"location":"en/","title":"Welcome","text":""},{"location":"en/#architalia-community","title":"Architalia Community","text":"<p>Architalia is an Italian community dedicated to the distribution of Arch Linux and its derivatives. This community is made up of Linux and open source technology enthusiasts who come together to share information, resources, and knowledge about Arch Linux and its various modifications.</p> <p>Architalia users participate in forum discussions, chat on social media groups, and share guides, programs, and technical solutions to problems related to Arch Linux and its derivatives. Architalia offers a wide range of services, including a wiki, a forum, and a collection of guides for installing and configuring Arch Linux.</p> <p>In these resources, users can find detailed information on how to use this distribution, as well as tips on how to customize it to their needs. In summary, Architalia is a community animated by Linux enthusiasts who join forces to support and promote Arch Linux and its multiple derivations.</p> <p>Visit the official channels Facebook, YouTube, GitHub. </p>"},{"location":"en/#support-the-community","title":"Support the Community","text":"<p>Support the ArchItalia community, make a donation to help us grow. Paypal Donation</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/","title":"\ud83c\udde8\ud83c\uddf3 \u5b89\u88c5Arch Linux","text":"<p>\u628a Arch Linux \u5b89\u88c5\u6307\u5357\u7ffb\u8bd1\u6210\u4e2d\u6587\uff1a</p>"},{"location":"en/Archlinux-Guide/guida-cn/#arch-linux","title":"Arch Linux\u5b89\u88c5\u6307\u5357","text":""},{"location":"en/Archlinux-Guide/guida-cn/#1","title":"1. \u7b7e\u540d\u9a8c\u8bc1","text":"<p>\u5efa\u8bae\u5728\u4f7f\u7528\u955c\u50cf\u4e4b\u524d\u9a8c\u8bc1\u955c\u50cf\u7684\u7b7e\u540d\uff0c\u5c24\u5176\u662f\u4eceHTTP\u955c\u50cf\u4e0b\u8f7d\u65f6\uff0c\u4e0b\u8f7d\u53ef\u80fd\u4f1a\u88ab\u62e6\u622a\u4ee5\u63d0\u4f9b\u6709\u5bb3\u955c\u50cf\u3002</p> <p>\u5728\u5df2\u5b89\u88c5GnuPG\u7684\u7cfb\u7edf\u4e0a\uff0c\u4e0b\u8f7d PGP ISO signature \u5230ISO\u76ee\u5f55\uff0c\u5e76\u7528\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\uff1a</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>\u6216\u8005\u5728\u5df2\u6709Arch Linux\u5b89\u88c5\u4e2d\u8fd0\u884c\uff1a</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#2","title":"2. \u521d\u59cb\u914d\u7f6e","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u952e\u76d8\u8bed\u8a00\uff0c\u9ed8\u8ba4\u8bed\u8a00\u662f <code>US</code>\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u53ef\u7528\u7684\u5e03\u5c40\uff1a</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u952e\u76d8\u8bed\u8a00\uff1a</p> <p><code># loadkeys it</code></p> <p>\u53ef\u4ee5\u5728 /usr/share/kbd/consolefonts/ \u4e2d\u627e\u5230\u63a7\u5236\u53f0\u5b57\u7b26\uff0c\u5e76\u53ef\u4ee5\u4f7f\u7528setfont\u8bbe\u7f6e\u5b57\u7b26\u3002\u4f8b\u5982\uff0c\u8981\u4f7f\u7528\u9002\u7528\u4e8eHiDPI\u663e\u793a\u5668\u7684\u8f83\u5927\u5b57\u7b26\u4e4b\u4e00\uff0c\u8bf7\u8fd0\u884c\uff1a</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#3","title":"3. \u7f51\u7edc\u8fde\u63a5","text":"<p>\u5982\u679c\u60a8\u5df2\u901a\u8fc7\u7535\u7f06\u6216\u865a\u62df\u673a\u5c06\u673a\u5668\u8fde\u63a5\u5230\u4e92\u8054\u7f51\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u5df2\u83b7\u53d6\u7684IP\u5730\u5740\uff1a</p> <p><code># ip a</code></p> <p>\u53ef\u4ee5\u4f7f\u7528 ping \u6d4b\u8bd5\u547d\u4ee4\u6d4b\u8bd5\u8fde\u63a5\uff1a</p> <p><code># ping -c 3 archlinux.org</code></p> <p>\u4f7f\u7528 iwctl \u5de5\u5177\u8fde\u63a5\u5230WiFi\u7f51\u7edc\uff1a</p> <ul> <li><code># iwctl</code> \u542f\u52a8iwctl\u5de5\u5177</li> <li><code># device list</code> \u627e\u5230\u60a8\u7684\u8bbe\u5907\u540d\u79f0\uff0c\u4f8b\u5982 wlan0</li> <li><code># station wlan0 scan</code> \u626b\u63cf\u53ef\u7528\u7684\u65e0\u7ebf\u7f51\u7edc</li> <li><code># station wlan0 get-networks</code> \u83b7\u53d6\u7f51\u7edc\u5217\u8868</li> <li><code># station wlan0</code> connect yournetworkname \u8fde\u63a5\u7f51\u7edc</li> <li><code># exit</code></li> </ul> <p>\u5982\u679c\u6211\u4eec\u7684\u8bbe\u5907\u5df2\u7981\u7528\u5e76\u4e14\u65e0\u6cd5\u8fd0\u884c ** iwctl **\uff1a</p> <ul> <li><code># rfkill list</code> \u68c0\u67e5\u8bbe\u5907\u7684\u963b\u6b62\u6216\u89e3\u9664\u963b\u6b62\u72b6\u6001</li> <li><code># rfkill unblock all</code> \u89e3\u9664\u6240\u6709\u88ab\u963b\u6b62\u7684\u8bbe\u5907</li> <li><code># systemctl restart iwd</code> \u91cd\u65b0\u542f\u52a8iwd\u670d\u52a1</li> </ul> <p>\u91cd\u65b0\u5c1d\u8bd5 <code># iwctl</code> \u547d\u4ee4\u5e76\u6267\u884c\u4e0a\u8ff0\u64cd\u4f5c\u3002</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#4","title":"4. \u78c1\u76d8\u51c6\u5907","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guida-cn/#_1","title":"\u5206\u533a","text":"<p>\u786e\u5b9a\u60a8\u7684\u78c1\u76d8\u4ee5\u4e86\u89e3\u8981\u4f7f\u7528\u7684\u547d\u540d\u7ea6\u5b9a\uff0c\u4f8b\u5982\uff0c\u5728 SSD /dev/sda \u6216\u5728 M.2 /dev/nvme0n1 \u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u7ec8\u662f virtual disk /dev/vda\u3002</p> <p><code># lsblk -l</code></p> <p>\u786e\u5b9a\u6211\u4eec\u7684\u78c1\u76d8\u540d\u79f0\u540e\uff0c\u4f7f\u7528 cfdisk\uff0c\u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u62e5\u6709 128GiB SSD\u3002\u5982\u679c\u78c1\u76d8\u662f\u539f\u59cb\u7684\uff0c\u5219\u53ef\u80fd\u4f1a\u8be2\u95ee\u5206\u533a\u8868\u7c7b\u578b\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9009\u62e9 DOS\uff1a</p> <p><code># cfdisk /dev/sda</code></p> <p>\u4e3a\u57fa\u7840\u5b89\u88c5\u521b\u5efa\u6240\u9700\u7684\u5206\u533a\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a 128GiB SSD\uff1a</p> <ul> <li><code># 4Gib</code> \u4e3a\u4ea4\u6362\u5206\u533a\u521b\u5efa\u4e00\u4e2a\u5206\u533a\u5e76\u9009\u62e9\u4ea4\u6362\u7c7b\u578b</li> <li><code># 124Gib</code> \u521b\u5efa\u6839\u76ee\u5f55\u5206\u533a</li> <li><code># \u5199\u5165\uff08\u662f\uff09</code> \u548c <code># \u9000\u51fa</code> \u5199\u5165\u66f4\u6539\u5e76\u9000\u51fa</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_2","title":"\u683c\u5f0f\u5316\u5206\u533a","text":"<ul> <li><code># mkswap /dev/sda1</code> \u4ea4\u6362\u5206\u533a</li> <li><code># mkfs.ext4 /dev/sda2</code> \u6839\u5206\u533a\u5728EXT4\u4e2d</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_3","title":"\u6302\u8f7d\u5206\u533a","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> \u6302\u8f7d\u6839\u5206\u533a</li> <li><code># swapon /dev/sda1</code> \u6302\u8f7d\u4ea4\u6362\u5206\u533a</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-cn/#_4","title":"\u78c1\u76d8\u5206\u533a","text":"<p>\u786e\u5b9a\u60a8\u7684\u78c1\u76d8\u4ee5\u4e86\u89e3\u8981\u4f7f\u7528\u7684\u547d\u540d\u7ea6\u5b9a\uff0c\u4f8b\u5982\uff0c\u5728 SSD /dev/sda \u6216\u5728 M.2 /dev/nvme0n1 \u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u7ec8\u662f Virtual Disk /dev/vda\u3002</p> <p><code># lsblk -l</code></p> <p>\u5047\u8bbe\u6211\u4eec\u6709 128GiB SSD \u5e76\u5c06\u4f7f\u7528 GPT \u5206\u533a\u8fdb\u884c UEFI \u5b89\u88c5\uff1a</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> \u521b\u5efa EFI \u5206\u533a\u5e76\u9009\u62e9 EFI \u7cfb\u7edf\u5206\u533a\u7c7b\u578b</li> <li><code># 4Gib</code> \u4e3a\u4ea4\u6362\u5206\u533a\u521b\u5efa\u4e00\u4e2a\u5206\u533a\u5e76\u9009\u62e9\u4ea4\u6362\u7c7b\u578b</li> <li><code># 23.5Gib</code> \u521b\u5efa\u6839\u5206\u533a</li> <li><code># 100Gib</code> \u521b\u5efa\u4e3b\u76ee\u5f55\u5206\u533a</li> <li><code># \u5199\u5165\uff08\u662f\uff09</code>\u548c <code># \u9000\u51fa</code> \u5199\u5165\u66f4\u6539\u5e76\u9000\u51fa</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_5","title":"\u683c\u5f0f\u5316\u5206\u533a","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> \u7528\u4e8e\u5f15\u5bfc\u7684FAT32\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684EFI\u7cfb\u7edf\u5206\u533a</li> <li><code># mkswap /dev/sda2</code> \u4ea4\u6362\u5206\u533a</li> <li><code># mkfs.ext4 /dev/sda3</code> \u6839\u5206\u533a\u5728EXT4\u4e2d</li> <li><code># mkfs.ext4 /dev/sda4</code> \u4e3b\u76ee\u5f55\u5728EXT4\u4e2d</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_6","title":"\u6302\u8f7d\u5206\u533a","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> \u6302\u8f7d\u6839\u5206\u533a</li> <li><code># mkdir -p /mnt/{home,boot}</code> \u521b\u5efa /home \u548c /boot \u76ee\u5f55</li> <li><code># mount /dev/sda4 /mnt/home</code> \u6302\u8f7d\u4e3b\u76ee\u5f55\u5206\u533a</li> <li><code># mount /dev/sda1 /mnt/boot</code> \u6302\u8f7d\u5f15\u5bfc\u5206\u533a</li> <li><code># swapon /dev/sda2</code> \u6302\u8f7d\u4ea4\u6362\u5206\u533a</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-cn/#_7","title":"\u78c1\u76d8\u5206\u533a","text":"<p>\u786e\u5b9a\u60a8\u7684\u78c1\u76d8\u4ee5\u4e86\u89e3\u8981\u4f7f\u7528\u7684\u547d\u540d\u7ea6\u5b9a\uff0c\u4f8b\u5982\uff0c\u5728 SSD /dev/sda \u6216\u5728 M.2 /dev/nvme0n1 \u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u7ec8\u662f Virtual Disk /dev/vda\u3002</p> <p><code># lsblk -l</code></p> <p>\u5047\u8bbe\u6211\u4eec\u6709 128GiB SSD \u5e76\u5c06\u4f7f\u7528 GPT \u5206\u533a\u8fdb\u884c UEFI \u5b89\u88c5\uff1a</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> \u521b\u5efa EFI \u5206\u533a\u5e76\u9009\u62e9 EFI \u7cfb\u7edf\u5206\u533a\u7c7b\u578b</li> <li><code># 27.5Gib</code> \u521b\u5efa\u6839\u5206\u533a</li> <li><code># 100Gib</code> \u521b\u5efa\u4e3b\u76ee\u5f55\u5206\u533a</li> <li><code># \u5199\u5165\uff08\u662f\uff09</code>\u548c <code># \u9000\u51fa</code> \u5199\u5165\u66f4\u6539\u5e76\u9000\u51fa</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_8","title":"\u683c\u5f0f\u5316\u5206\u533a","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> \u7528\u4e8e\u5f15\u5bfc\u7684FAT32\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684EFI\u7cfb\u7edf\u5206\u533a</li> <li><code># mkfs.btrfs /dev/sda2</code> \u6839\u5206\u533a\u5728BTRFS\u4e2d</li> <li><code># mkfs.btrfs /dev/sda3</code> \u4e3b\u76ee\u5f55\u5728BTRFS\u4e2d</li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_9","title":"\u6302\u8f7d\u5206\u533a","text":"<p>\u521b\u5efa @ \u548c @home \u5b50\u5377\uff1a</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> \u521b\u5efa /home \u548c /boot \u76ee\u5f55</p> </li> <li> <p><code># mount /dev/sda1 /mnt/boot</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-cn/#_10","title":"\u78c1\u76d8\u5206\u533a","text":"<p>\u786e\u5b9a\u60a8\u7684\u78c1\u76d8\u4ee5\u4e86\u89e3\u8981\u4f7f\u7528\u7684\u547d\u540d\u7ea6\u5b9a\uff0c\u4f8b\u5982\uff0c\u5728 SSD /dev/sda \u6216\u5728 M.2 /dev/nvme0n1 \u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u7ec8\u662f Virtual Disk /dev/vda\u3002</p> <p><code># lsblk -l</code></p> <p>\u5047\u8bbe\u6211\u4eec\u67093\u4e2a128GiB\u7684\u78c1\u76d8\u7528\u4e8eLVM\uff1asda sdb sdc\uff0c\u5219\u9700\u8981\u9010\u4e2a\u78c1\u76d8\u4f7f\u7528 cfdisk \uff1a</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512Mib</code> \u521b\u5efa EFI \u5206\u533a\u5e76\u9009\u62e9 EFI \u7cfb\u7edf\u5206\u533a\u7c7b\u578b</li> <li><code># 127.5GiB</code> \u521b\u5efa\u4e00\u4e2a\u5206\u533a\u5e76\u9009\u62e9LVM\u7c7b\u578b</li> <li><code># \u5199\u5165\uff08\u662f\uff09</code>\u548c <code># \u9000\u51fa</code> \u5199\u5165\u66f4\u6539\u5e76\u9000\u51fa</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> \u521b\u5efa\u4e00\u4e2a\u5206\u533a\u5e76\u9009\u62e9LVM\u7c7b\u578b</li> <li><code># \u5199\u5165\uff08\u662f\uff09</code>\u548c <code># \u9000\u51fa</code> \u5199\u5165\u66f4\u6539\u5e76\u9000\u51fa</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128GiB</code> \u521b\u5efa\u4e00\u4e2a\u5206\u533a\u5e76\u9009\u62e9LVM\u7c7b\u578b</li> <li><code># \u5199\u5165\uff08\u662f\uff09</code>\u548c <code># \u9000\u51fa</code> \u5199\u5165\u66f4\u6539\u5e76\u9000\u51fa</li> </ul> <p>\u4e3a\u4e86\u5728 LVM \u4e2d\u521b\u5efa\u5206\u533a\uff0c\u6211\u4eec\u9700\u8981\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u7269\u7406\u5377\uff1a</p>"},{"location":"en/Archlinux-Guide/guida-cn/#_11","title":"\u521b\u5efa\u7269\u7406\u5377","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-cn/#_12","title":"\u521b\u5efa\u5377\u7ec4","text":"<p>\u521b\u5efa\u548c\u6269\u5c55\u60a8\u7684\u5377\u7ec4\uff1b\u60a8\u9700\u8981\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u7269\u7406\u5377\u4e0a\u521b\u5efa\u4e00\u4e2a\u5377\u7ec4 <code># vgcreate volume_group physical_volume</code>\uff0c\u4f8b\u5982\uff1a</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>\u6b64\u547d\u4ee4\u5c06\u9996\u5148\u5c06\u4e09\u4e2a\u5206\u533a\u8bbe\u7f6e\u4e3a\u7269\u7406\u5377\uff08\u5982\u679c\u9700\u8981\uff09\uff0c\u7136\u540e\u4f7f\u7528\u4e09\u4e2a\u5377\u521b\u5efa\u5377\u7ec4\u3002\u5982\u679c\u68c0\u6d4b\u5230\u4efb\u4f55\u8bbe\u5907\u4e0a\u5b58\u5728\u6587\u4ef6\u7cfb\u7edf\uff0c\u8be5\u547d\u4ee4\u5c06\u5411\u60a8\u53d1\u51fa\u8b66\u62a5\u3002</p>"},{"location":"en/Archlinux-Guide/guida-cn/#_13","title":"\u521b\u5efa\u903b\u8f91\u5377","text":"<p>\u4e3a\u4e86\u57fa\u672c\u7684\u914d\u7f6e\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u6839\u3001\u4ea4\u6362\u548c\u4e3b\u76ee\u5f55\u5404\u521b\u5efa\u4e00\u4e2a\u903b\u8f91\u5377\u3002</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_14","title":"\u683c\u5f0f\u5316\u5206\u533a","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> \u7528\u4e8e\u5f15\u5bfc\u7684FAT32\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684EFI\u7cfb\u7edf\u5206\u533a</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_15","title":"\u6302\u8f7d\u5206\u533a","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code></li> <li><code># mkdir -p /mnt/{home,boot}</code> \u521b\u5efa /home \u548c /boot \u76ee\u5f55</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#lvm","title":"\u6269\u5c55LVM\u7ec4","text":"<p>\u5982\u679c\u5c06\u6765\u8981\u5c06\u65b0\u7684\u7269\u7406\u5377\u6dfb\u52a0\u5230\u7ec4\u4e2d\uff0c\u5219\u53ef\u4ee5\u770b\u4e00\u4e0b\u8981\u4f7f\u7528\u54ea\u4e2a\u547d\u4ee4\uff0c\u5047\u8bbe\u6709\u7b2c\u56db\u4e2a\u78c1\u76d8sdd\uff0c\u5e76\u5df2\u6309\u5148\u524d\u8bf4\u660e\u7684\u65b9\u5f0f\u5bf9\u5176\u8fdb\u884c\u4e86\u5206\u533a\uff0c\u5219\u6211\u4eec\u5c06\u6269\u5c55\u7a7a\u95f4\uff0c\u4f8b\u5982\u6269\u5c55\u5230 <code>/dev/lvm/home</code>\uff1a</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#5","title":"5. \u955c\u50cf\u5217\u8868","text":"<p>\u4f7f\u7528\u5de5\u5177 reflector \u5c06\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u5217\u8868\u4fdd\u5b58\u5728 /etc/pacman.d/mirrorlist \u4e2d\uff0c\u6307\u5b9a\u8981\u540c\u6b65\u670d\u52a1\u5668\u7684\u56fd\u5bb6\uff0c\u4f8b\u5982 it\u3002\u4f7f\u7528\u9017\u53f7\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u56fd\u5bb6\uff0c\u4f8b\u5982 it,us\uff1a</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#6-pacstrap","title":"6. Pacstrap","text":"<p>\u5b89\u88c5 Linux kernel \u548c\u57fa\u672c\u8f6f\u4ef6\u5305\u4ee5\u521b\u5efa\u6211\u4eec\u7684Arch\u7cfb\u7edf\uff0c\u8fd8\u6dfb\u52a0\u7f16\u8f91\u5668\u4f8b\u5982 vim\u3002\u5982\u679c\u6309\u7167\u4f7f\u7528 lvm \u7684\u5b89\u88c5\uff0c\u5219\u5c06 <code>lvm2</code> \u8f6f\u4ef6\u5305\u6dfb\u52a0\u5230\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#7-fstab","title":"7. \u751f\u6210Fstab","text":"<p>/etc/fstab \u6587\u4ef6\u5141\u8bb8\u60a8\u5728Linux\u7cfb\u7edf\u542f\u52a8\u65f6\u63a7\u5236\u54ea\u4e9b\u6587\u4ef6\u7cfb\u7edf\u88ab\u6302\u8f7d\uff0c\u5305\u62ecWindows\u5206\u533a\u548c\u7f51\u7edc\u5171\u4eab\uff1a</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#8-chroot","title":"8. Chroot","text":"<p>\u8fdb\u5165 chroot \u5e76\u914d\u7f6e\u4ee5\u4e0b\u6b65\u9aa4\uff1a\u672c\u5730\u65f6\u95f4\u914d\u7f6e\u3001\u7cfb\u7edf\u65f6\u949f\u3001\u8bed\u8a00\u3001Keyboard \u6620\u5c04\u3001localhost\u3001Root\u5bc6\u7801\u3001\u7528\u6237\u521b\u5efa\u548c\u5bc6\u7801\u3002</p> <p>\u8fdb\u5165 chroot\uff1a</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#_16","title":"\u65f6\u95f4\u533a","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#_17","title":"\u533a\u57df\u8bbe\u7f6e","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#hosts","title":"\u4e3b\u673a\u540d\u548cHosts","text":"<ul> <li><code># echo \"YOURMACHINENAME\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#root","title":"\u7528\u6237\u548cRoot","text":"<p>\u4e3a root \u914d\u7f6e\u5bc6\u7801\uff0c\u8bf7\u5c0f\u5fc3\uff01</p> <p><code># passwd</code></p> <p>\u914d\u7f6e\u4e00\u4e2a\u5c0f\u5199\u7684\u65b0\u7528\u6237\uff0c\u4f7f\u7528 <code>-m</code> \u521b\u5efa <code>/home/USERNAME</code> \u76ee\u5f55\uff0c\u4f7f\u7528 <code>-G</code> \u521b\u5efa <code>wheel</code> \u7ec4\u548c <code>-s</code> \u521b\u5efa shell\uff1a</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>\u914d\u7f6e\u771f\u5b9e\u59d3\u540d\uff08\u5728\u56fe\u5f62\u4e2d\u663e\u793a\u5e26\u6709\u5927\u5199\u5b57\u6bcd\u7684\u521d\u59cb\u5b57\u6bcd\uff0c\u4f8b\u5982\u201cAlessio\u201d\uff09\uff1a</p> <p><code># usermod -c 'REALNAME' USERNAME</code></p> <p>\u4e3a\u65b0\u6dfb\u52a0\u7684\u7528\u6237\u914d\u7f6e\u5bc6\u7801\uff0c\u8bf7\u5c0f\u5fc3\uff01</p> <p><code># passwd USERNAME</code></p> <p>\u4e3a wheel \u7ec4\u914d\u7f6e sudoers \u6587\u4ef6\uff1a</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#mkinitcpio-lvm","title":"mkinitcpio \u5bf9\u4e8e LVM","text":"<p>\u5728 /etc/mkinitcpio.conf \u6587\u4ef6\u4e2d\u7684 hooks \u4e2d\u6dfb\u52a0 lvm2</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>\u7136\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#9","title":"9. \u5f15\u5bfc\u7a0b\u5e8f","text":""},{"location":"en/Archlinux-Guide/guida-cn/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB \u5b8c\u5168\u652f\u6301\u4f7f\u7528 CA \u5bc6\u94a5\u6216 shim \u7684\u5b89\u5168\u5f15\u5bfc\uff0c\u4f46\u662f\u5b89\u88c5\u547d\u4ee4\u53d6\u51b3\u4e8e\u60a8\u6253\u7b97\u4f7f\u7528\u54ea\u4e2a\u3002</p> <p>\u8981\u4f7f\u7528 CA \u5bc6\u94a5\uff0c\u547d\u4ee4\u662f\uff1a</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>\u8981\u4f7f\u7528 shim-lock\uff0c\u547d\u4ee4\u662f\uff1a</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u73b0\u5728\u521b\u5efa\u6253\u5f00\u7684 vim \u4e2d\u7684 arch.conf \u6587\u4ef6\u7684\u914d\u7f6e\uff0c\u91cd\u8981\u7684\u662f\u8981\u5199\u5165\u6b63\u786e\u7684 root \u5f15\u5bfc\u5206\u533a\uff0c\u4f8b\u5982 <code>root=/dev/sdax</code>\uff0c\u5176\u4e2d <code>x</code> \u662f\u6839\u5206\u533a\u7684\u6570\u5b57\u3002</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u73b0\u5728\u521b\u5efa\u6253\u5f00\u7684 vim \u4e2d\u7684 arch.conf \u6587\u4ef6\u7684\u914d\u7f6e\uff0c\u91cd\u8981\u7684\u662f\u8981\u5199\u5165\u6b63\u786e\u7684 root \u5f15\u5bfc\u5206\u533a\uff0c\u4f8b\u5982 <code>root=/dev/sdax</code>\uff0c\u5176\u4e2d <code>x</code> \u662f\u6839\u5206\u533a\u7684\u6570\u5b57\uff0c\u6dfb\u52a0 @ \u5b50\u5377\u7684\u6807\u5fd7\u3002</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u73b0\u5728\u521b\u5efa\u6253\u5f00\u7684 vim \u4e2d\u7684 arch.conf \u6587\u4ef6\u7684\u914d\u7f6e\uff0c\u91cd\u8981\u7684\u662f\u8981\u5199\u5165\u6b63\u786e\u7684 root \u5f15\u5bfc\u5206\u533a\uff0c\u4f8b\u5982\u5bf9\u4e8e lvm <code>root=/dev/mapper/lvm-root</code></p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#10","title":"10. \u57fa\u7840\u5305","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#11","title":"11. \u684c\u9762\u73af\u5883","text":"<p>\u4ece\u4e00\u4e9b\u63a8\u8350\u7684\u6d41\u884c\u684c\u9762\u73af\u5883\u4e2d\u9009\u62e9\uff1a</p>"},{"location":"en/Archlinux-Guide/guida-cn/#gnome","title":"Gnome","text":"<p>\u5b8c\u6574\u7684 Gnome \u548c GDM \u663e\u793a\u7ba1\u7406\u5668</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#xfce4","title":"Xfce4","text":"<p>\u5e26\u6709 Lightdm \u663e\u793a\u7ba1\u7406\u5668\u7684 xfce4</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#lxde","title":"Lxde","text":"<p>\u5e26\u6709 Lightdm \u663e\u793a\u7ba1\u7406\u5668\u7684 lxde</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#mate","title":"Mate","text":"<p>\u5e26\u6709 Lightdm \u663e\u793a\u7ba1\u7406\u5668\u7684 mate</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#plasma","title":"Plasma","text":"<p>\u5e26\u6709 SDDM \u663e\u793a\u7ba1\u7406\u5668\u7684 plasma kde</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-cn/#cinnamon","title":"Cinnamon","text":"<p>\u5e26\u6709 Lightdm \u663e\u793a\u7ba1\u7406\u5668\u7684 cinnamon</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#12","title":"12. \u670d\u52a1","text":"<p>\u5982\u679c\u60a8\u5df2\u542f\u7528\u663e\u793a\u7ba1\u7406\u5668\u7684\u670d\u52a1\uff0c\u5219\u53ef\u4ee5\u7ee7\u7eed\u542f\u7528\u5176\u4ed6\u5fc5\u8981\u7684\u670d\u52a1\u3002</p> <ul> <li><code># systemctl enable NetworkManager</code> \u6ce8\u610f\uff0c\u5b83\u533a\u5206\u5927\u5c0f\u5199\u3002</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-cn/#13-zram","title":"13. Zram","text":"<p>\u4ee5\u4e0b\u793a\u4f8b\u63cf\u8ff0\u5982\u4f55\u4f7f\u7528\u5355\u4e2a udev \u89c4\u5219\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u5c06\u4ea4\u6362\u7a7a\u95f4\u5207\u6362\u5230 zram \u4e2d\u3002\u4e0d\u9700\u8981\u4efb\u4f55\u5176\u4ed6\u5305\u5373\u53ef\u4f7f\u5176\u5de5\u4f5c\u3002</p> <p>\u5728\u5f15\u5bfc\u65f6\u663e\u5f0f\u52a0\u8f7d\u6a21\u5757\uff1a</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>\u521b\u5efa\u4ee5\u4e0b udev \u89c4\u5219\uff0c\u6839\u636e\u9700\u8981\u8c03\u6574 disksize \u5c5e\u6027\u4ee5\u83b7\u5f97\u6b64\u793a\u4f8b\u4e2d\u6240\u9700\u7684\u4ea4\u6362\u5927\u5c0f\uff0c\u8fd9\u91cc\u662f 16G\uff1a</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>\u5c06 /dev/zram \u6dfb\u52a0\u5230 fstab\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8e\u9ed8\u8ba4\u503c\uff1a</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/","title":"Arch Linux Installation","text":""},{"location":"en/Archlinux-Guide/guida-de/#1-signaturuberprufung","title":"1. Signatur\u00fcberpr\u00fcfung","text":"<p>Es wird empfohlen, die Signatur des Images vor der Verwendung zu \u00fcberpr\u00fcfen, insbesondere beim Herunterladen von einem HTTP-Mirror, wo Downloads abgefangen werden k\u00f6nnen, um sch\u00e4dliche Bilder bereitzustellen.</p> <p>Auf einem System mit GnuPG installiert, laden Sie die PGP ISO Signatur in das ISO-Verzeichnis herunter und \u00fcberpr\u00fcfen Sie sie mit:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>Alternativ von einer vorhandenen Arch-Linux-Installation ausf\u00fchren:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#2-erstkonfiguration","title":"2. Erstkonfiguration","text":"<p>Um zu beginnen, m\u00fcssen wir die Tastatursprache definieren, die Standardsprache ohne Eingabeaufforderung ist <code>US</code>. Die verf\u00fcgbaren Layouts k\u00f6nnen mit dem Befehl <code>ls /usr/share/kbd/keymaps/**/*.map.gz</code> aufgelistet werden.</p> <p>Legen Sie die Sprache unserer Tastatur mit dem Befehl fest:</p> <p><code># loadkeys it</code></p> <p>Die Konsolenzeichen finden Sie unter /usr/share/kbd/consolefonts/ und k\u00f6nnen auch mit setfont festgelegt werden. Um beispielsweise Zeichen f\u00fcr HiDPI-Displays zu verwenden, f\u00fchren Sie folgenden Befehl aus:</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#3-internetverbindung","title":"3. Internetverbindung","text":"<p>Wenn Sie die Maschine \u00fcber ein Kabel oder eine virtuelle Maschine mit dem Internet verbunden haben, k\u00f6nnen Sie Ihre erworbene IP-Adresse mit diesem Befehl \u00fcberpr\u00fcfen:</p> <p><code># ip a</code></p> <p>Die Verbindung kann mit dem Ping-Test-Befehl getestet werden:</p> <p><code># ping -c 3 archlinux.org</code></p> <p>Verbinden Sie mit dem Wi-Fi-Netzwerk mithilfe des iwctl-Tools:</p> <ul> <li><code># iwctl</code> Starte iwctl</li> <li><code># device list</code> Finden Sie den Namen Ihres Ger\u00e4ts. Beispiel wlan0</li> <li><code># station wlan0 scan</code> Scannen Sie nach verf\u00fcgbaren drahtlosen Netzwerken.</li> <li><code># station wlan0 get-networks</code> Get the list of networks</li> <li><code># station wlan0</code> verbinden Sie Ihr Netzwerkname  Verbindung zu Ihrem Netzwerk</li> <li><code># exit</code></li> </ul> <p>Wenn unsere Ger\u00e4te deaktiviert sind und wir ** iwctl ** nicht ausf\u00fchren k\u00f6nnen:</p> <ul> <li><code># rfkill list</code> \u00dcberpr\u00fcfen Sie den blockierten oder entblockten Status der Ger\u00e4te.</li> <li><code># rfkill unblock all</code> Entsperren Sie alle unsere blockierten Ger\u00e4te.</li> <li><code># systemctl restart iwd</code> Starten Sie den iwd-Service neu.</li> </ul> <p>Versuchen Sie es erneut mit <code># iwctl</code> und fahren Sie wie oben fort.</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#4-festplattenvorbereitung","title":"4. Festplattenvorbereitung","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guida-de/#partitionierung","title":"Partitionierung","text":"<p>Identifizieren Sie Ihre Festplatte, um die zu verwendende Namenskonvention zu kennen. Im Fall von SSD /dev/sda oder im Fall von M.2 /dev/nvme0n1 und schlie\u00dflich von virtueller Festplatte /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Sobald der Name unserer Festplatte identifiziert wurde, verwenden Sie cfdisk, hier gehen wir davon aus, dass /dev/sda vorhanden ist. M\u00f6glicherweise wird bei einem Rohlingstyp des Datentr\u00e4gers nach dem Typ der Partitionierungstabelle gefragt. W\u00e4hlen Sie in diesem Fall DOS aus:</p> <p><code># cfdisk /dev/sda</code></p> <p>Erstellen Sie die notwendigen Partitionen f\u00fcr die Basiseinrichtung und gehen Sie davon aus, dass wir eine 128GiB SSD haben:</p> <ul> <li><code># 4Gib</code> Erstellen Sie eine Partition f\u00fcr den Swap und w\u00e4hlen Sie den Swap-Typ.</li> <li><code># 124Gib</code> Erstellen Sie die Root-Partition.</li> <li><code># write (yes)</code> und <code>quit</code> Schreiben Sie die \u00c4nderungen und verlassen Sie den Editor.</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#formattierung-der-partitionen","title":"Formattierung der Partitionen","text":"<ul> <li><code># mkswap /dev/sda1</code> Swap-Partition</li> <li><code># mkfs.ext4 /dev/sda2</code> Root-Partition in EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#einhangen-der-partitionen","title":"Einh\u00e4ngen der Partitionen","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> Mounten Sie die Root-Partition.</li> <li><code># swapon /dev/sda1</code> Mounten Sie die Swap-Partition.</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-de/#disk-partitioning","title":"Disk Partitioning","text":"<p>Identifizieren Sie Ihre Festplatte, um die zu verwendende Namenskonvention zu kennen. Im Fall von SSD /dev/sda oder im Fall von M.2 /dev/nvme0n1 und schlie\u00dflich von virtueller Festplatte /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Angenommen, wir haben eine 128GiB SSD und verwenden GPT-Partitionierung f\u00fcr die UEFI-Installation:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Erstellen Sie eine EFI-Partition und w\u00e4hlen Sie den EFI-Systempartitions-Typ.</li> <li><code># 4Gib</code> Erstellen Sie eine Partition f\u00fcr die Swap-Datei und w\u00e4hlen Sie den Swap-Typ.</li> <li><code># 23,5Gib</code> Erstellen Sie die Root-Partition.</li> <li><code># 100Gib</code> Erstellen Sie die Home-Partition.</li> <li><code># write (yes)</code> und <code>quit</code> Schreiben Sie die \u00c4nderungen und verlassen Sie den Editor.</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#formattierung-der-partitionen_1","title":"Formattierung der Partitionen","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI-Systempartition in FAT32 f\u00fcr den Bootvorgang.</li> <li><code># mkswap /dev/sda2</code> Swap-Partition</li> <li><code># mkfs.ext4 /dev/sda3</code> Root-Partition in EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> Home-Partition in EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#einhangen-der-partitionen_1","title":"Einh\u00e4ngen der Partitionen","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> Mounten Sie die Root-Partition.</li> <li><code># mkdir -p /mnt/{home,boot}</code> Erstellen Sie die Verzeichnisse /home und /boot</li> <li><code># mount /dev/sda4 /mnt/home</code> Mounten Sie die Home-Partition.</li> <li><code># mount /dev/sda1 /mnt/boot</code> Mounten Sie die Boot-Partition.</li> <li><code># swapon /dev/sda2</code> Aktivieren Sie die Swap-Partition.</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-de/#disk-partitioning_1","title":"Disk Partitioning","text":"<p>Identifizieren Sie Ihre Festplatte, um die zu verwendende Namenskonvention zu kennen. Im Fall von SSD /dev/sda oder im Fall von M.2 /dev/nvme0n1 und schlie\u00dflich von virtueller Festplatte /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Angenommen, wir haben eine 128GiB SSD und verwenden GPT-Partitionierung f\u00fcr die UEFI-Installation:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Erstellen Sie eine EFI-Partition und w\u00e4hlen Sie den EFI-Systempartitions-Typ.</li> <li><code># 27.5Gib</code>  Erstellen Sie die Root-Partition.</li> <li><code># 100Gib</code> Erstellen Sie die Home-Partition.</li> <li><code># write (yes)</code> und <code>quit</code> Schreiben Sie die \u00c4nderungen und verlassen Sie den Editor.</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#formattierung-der-partitionen_2","title":"Formattierung der Partitionen","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI-Systempartition in FAT32 f\u00fcr den Bootvorgang.</li> <li><code># mkfs.btrfs /dev/sda2</code> Root-Partition in BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> Home-Partition in BTRFS</li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#einhangen-der-partitionen_2","title":"Einh\u00e4ngen der Partitionen","text":"<p>Erstellen Sie die Subvolumen @ und @home:</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> Erstellen Sie die Verzeichnisse /home und /boot.</p> </li> <li><code># mount /dev/sda1 /mnt/boot</code></li> <li><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-de/#disk-partitioning_2","title":"Disk Partitioning","text":"<p>Identifizieren Sie Ihre Festplatte, um die zu verwendende Namenskonvention zu kennen. Im Fall von SSD /dev/sda oder im Fall von M.2 /dev/nvme0n1 und schlie\u00dflich von virtueller Festplatte /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Angenommen, wir haben 3 128GiB-Festplatten f\u00fcr LVM: sda sdb sdc verwenden Sie f\u00fcr eine Festplatte nach der anderen cfdisk:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Erstellen Sie eine EFI-Partition und w\u00e4hlen Sie den EFI-Systempartitions-Typ.</li> <li><code># 127.5GiB</code> Erstellen Sie eine Partition und w\u00e4hlen Sie den LVM-Typ.</li> <li><code># write (yes)</code> und <code>quit</code> Schreiben Sie die \u00c4nderungen und verlassen Sie den Editor.</li> </ul> <p><code># cfdisk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> Erstellen Sie eine Partition und w\u00e4hlen Sie den LVM-Typ.</li> <li><code># write (yes)</code> und <code>quit</code> Schreiben Sie die \u00c4nderungen und verlassen Sie den Editor.</li> </ul> <p><code># cfdisk /dev/sdc</code></p> <ul> <li><code># 128GiB</code> Erstellen Sie eine Partition und w\u00e4hlen Sie den LVM-Typ.</li> <li><code># write (yes)</code> und <code>quit</code> Schreiben Sie die \u00c4nderungen und verlassen Sie den Editor.</li> </ul> <p>Um Partitionen unter LVM zu erstellen, m\u00fcssen wir zun\u00e4chst eine physikalische Volume erstellen:</p>"},{"location":"en/Archlinux-Guide/guida-de/#physikalische-volume-erstellen","title":"Physikalische Volume erstellen","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-de/#volume-group-erstellen","title":"Volume Group erstellen","text":"<p>Erstellen Sie Ihre Volume Group; Sie m\u00fcssen eine Volume Group auf einem oder mehreren physikalischen Volumes erstellen <code># vgcreate volume_group physical_volume</code> zum Beispiel:</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>Dieser Befehl richtet zuerst die drei Partitionen als physische Volumes ein (wenn ben\u00f6tigt) und erstellt dann die Volume Group mit den drei Volumes. Der Befehl warnt Sie, wenn es ein vorhandenes Dateisystem auf einem Ger\u00e4t erkennt.</p>"},{"location":"en/Archlinux-Guide/guida-de/#logische-volumes-erstellen","title":"Logische Volumes erstellen","text":"<p>Erstellen Sie logische Volumes. F\u00fcr eine grundlegende Konfiguration ben\u00f6tigen wir jeweils eines f\u00fcr Root, Swap und Home.</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#formattierung-der-partitionen_3","title":"Formattierung der Partitionen","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI-Systempartition in FAT32 f\u00fcr den Bootvorgang.</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#einhangen-der-partitionen_3","title":"Einh\u00e4ngen der Partitionen","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code> Mounten Sie die Root-Partition.</li> <li><code># mkdir -p /mnt/{home,boot}</code> Erstellen Sie die Verzeichnisse /home und /boot.</li> <li><code># mount /dev/lvm/home /mnt/home</code> Mounten Sie die Home-Partition.</li> <li><code># mount /dev/sda1 /mnt/boot</code> Mounten Sie die Boot-Partition.</li> <li><code># swapon /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#eine-lvm-gruppe-erweitern","title":"Eine LVM-Gruppe erweitern","text":"<p>Wenn Sie in der Zukunft eine neue physische Volume der Gruppe hinzuf\u00fcgen m\u00f6chten, finden Sie den Befehl, der ausgef\u00fchrt werden soll, indem Sie davon ausgehen, dass eine vierte Festplatte sdd vorhanden ist und wie zuvor partitioniert wurde, vergr\u00f6\u00dfern Sie z. B. den Platz f\u00fcr <code>/dev/lvm/home</code>:</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#5-spiegelserver","title":"5. Spiegelserver","text":"<p>Speichern Sie die Mirrorliste f\u00fcr die Repositories in /etc/pacman.d/mirrorlist mit dem Tool reflector, das das Land spezifiziert, um die Server zu synchronisieren, zum Beispiel it. Mehrere L\u00e4nder k\u00f6nnen mit einem Komma getrennt werden, zum Beispiel it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#6-pacstrap","title":"6. Pacstrap","text":"<p>Installieren Sie den Linux-Kernel und Basispakete, um unser Arch-System zu erstellen. F\u00fcgen Sie auch einen Editor wie vim hinzu. Falls Sie die Installation f\u00fcr lvm durchf\u00fchren, f\u00fcgen Sie dem folgenden Befehl das <code>lvm2</code>-Paket hinzu:</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#7-fstab-generieren","title":"7. Fstab generieren","text":"<p>Die Datei /etc/fstab erm\u00f6glicht die Steuerung, welche Dateisysteme beim Start Ihres Linux-Systems eingebunden werden, einschlie\u00dflich Windows-Partitionen und Netzwerkfreigaben:</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#8-chroot","title":"8. Chroot","text":"<p>Betreten Sie die chroot-Shell und konfigurieren Sie die folgenden Schritte: Konfiguration der local time, Systemzeit, Sprache, Tastaturzuordnung, localhost, Root-Passwort, Benutzererstellung und Passwort.</p> <p>Betreten Sie die chroot-Shell:</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#timezone","title":"Timezone","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#lokalisation","title":"Lokalisation","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#hostname-und-hosts","title":"Hostname und Hosts","text":"<ul> <li><code># echo \"YOURMACHINENAME\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#benutzer-und-root","title":"Benutzer und Root","text":"<p>Konfigurieren Sie das Root-Passwort, seien Sie vorsichtig!</p> <p><code># passwd</code></p> <p>Konfigurieren Sie einen neuen Benutzernamen in Kleinbuchstaben, indem Sie das Verzeichnis <code>/home/USERNAME</code> mit <code>-m</code>, die Gruppe <code>wheel</code> mit <code>-G</code> und die Shell mit <code>-s</code> erstellen:</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>Konfigurieren Sie den richtigen Namen (der in der Grafik mit gro\u00dfem Anfangsbuchstaben angezeigt wird, zum Beispiel \"Alessio\"</p> <p><code># usermod -c 'REALNAME' USERNAME</code></p> <p>Konfigurieren Sie ein Passwort f\u00fcr den neu hinzugef\u00fcgten Benutzer, seien Sie vorsichtig!</p> <p><code># passwd USERNAME</code></p> <p>Konfigurieren Sie die Sudoers-Datei f\u00fcr die Wheel-Gruppe:</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#mkinitcpio-fur-lvm","title":"mkinitcpio f\u00fcr LVM","text":"<p>F\u00fcgen Sie lvm2 zu den Hooks in /etc/mkinitcpio.conf hinzu.</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>Verwenden Sie dann den Befehl:</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#9-bootloader","title":"9. Bootloader","text":""},{"location":"en/Archlinux-Guide/guida-de/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB unterst\u00fctzt Secure Boot vollst\u00e4ndig mit CA-Schl\u00fcsseln oder Shim. Die Installationsbefehle unterscheiden sich jedoch je nachdem, welchen Sie verwenden m\u00f6chten.</p> <p>Um CA-Schl\u00fcssel zu verwenden, lautet der Befehl:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>Um Shimlock zu verwenden, lautet der Befehl:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Erstellen Sie nun die Konfiguration der mit vim ge\u00f6ffneten arch.conf-Datei. Es ist wichtig, die korrekte Root-Boot-Partition wie <code>root=/dev/sdax</code> zu schreiben, wobei <code>x</code> die Nummer der Root-Partition ist.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Erstellen Sie nun die Konfiguration der mit vim ge\u00f6ffneten arch.conf-Datei. Es ist wichtig, die korrekte Root-Boot-Partition wie <code>root=/dev/sdax</code> zu schreiben, wobei <code>x</code> die Nummer der Root-Partition ist. F\u00fcgen Sie die Flagge f\u00fcr das @-Unterdatentr\u00e4ger hinzu.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Erstellen Sie nun die Konfiguration der mit vim ge\u00f6ffneten arch.conf-Datei. Es ist wichtig, die korrekte Root-Boot-Partition wie f\u00fcr lvm <code>root=/dev/mapper/lvm-root</code> zu schreiben.</p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#10-basispakete","title":"10. Basispakete","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#11-desktop-umgebung","title":"11. Desktop-Umgebung","text":"<p>W\u00e4hlen Sie aus einigen der vorgeschlagenen popul\u00e4ren Desktop-Umgebungen:</p>"},{"location":"en/Archlinux-Guide/guida-de/#gnome","title":"Gnome","text":"<p>Vollst\u00e4ndiges Gnome mit GDM Display-Manager</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#xfce4","title":"Xfce4","text":"<p>Xfce4 mit LightDM Display-Manager</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#lxde","title":"Lxde","text":"<p>LXDE mit LightDM Display-Manager</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#mate","title":"Mate","text":"<p>Mate mit LightDM Display-Manager</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#plasma","title":"Plasma","text":"<p>Plasma KDE mit SDDM Display-Manager</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-de/#cinnamon","title":"Cinnamon","text":"<p>Cinnamon mit LightDM Display-Manager</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#12-dienste","title":"12. Dienste","text":"<p>Wenn Sie den Dienst f\u00fcr den Display-Manager aktiviert haben, k\u00f6nnen Sie damit beginnen, die anderen erforderlichen Dienste zu aktivieren.</p> <ul> <li><code># systemctl enable NetworkManager</code> Beachten Sie, dass es auf Gro\u00df- / Kleinschreibung ankommt.</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-de/#13-zram","title":"13. Zram","text":"<p>Im folgenden Beispiel wird beschrieben, wie Sie das automatische Auslagern auf \"Zram\" beim Booten mithilfe einer einzigen \"udev\"-Regel konfigurieren. Es d\u00fcrften keine zus\u00e4tzlichen Pakete erforderlich sein, um dies zum Laufen zu bringen.</p> <p>Laden Sie das Modul bei Boot explizit:</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>Erstellen Sie die folgende \"udev\"-Regel und passen Sie das Attribut \"disksize\" entsprechend der gew\u00fcnschten Swap-Gr\u00f6\u00dfe an. In diesem Beispiel ist es \"16G\":</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>F\u00fcgen Sie /dev/zram zu Ihrem fstab hinzu und setzen Sie die Priorit\u00e4t h\u00f6her als die Standardpriorit\u00e4t:</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/","title":"\ud83c\uddea\ud83c\uddf8 Instalaci\u00f3n de Arch Linux","text":"<p>Instalaci\u00f3n de Arch Linux</p>"},{"location":"en/Archlinux-Guide/guida-es/#1-verificacion-de-firma","title":"1. Verificaci\u00f3n de firma","text":"<p>Se recomienda verificar la firma de la imagen antes de usarla, especialmente al descargar desde un espejo HTTP, donde las descargas est\u00e1n sujetas a interceptaci\u00f3n para proporcionar im\u00e1genes da\u00f1inas.</p> <p>En un sistema con GnuPG instalado, descargue la firma de ISO PGP en el directorio de ISO y verif\u00edquela con:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>Alternativamente, desde una instalaci\u00f3n existente de Arch Linux ejecute:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#2-configuracion-inicial","title":"2. Configuraci\u00f3n inicial","text":"<p>Para empezar, necesitamos definir el idioma del teclado, el idioma predeterminado sin introducir el comando es <code>US</code>. Las distribuciones disponibles se pueden listar con:</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>establezca el idioma de nuestro teclado con el comando:</p> <p><code># loadkeys it</code></p> <p>Los caracteres de la consola se pueden encontrar en /usr/share/kbd/consolefonts/ y tambi\u00e9n se pueden establecer con setfont. Por ejemplo, para usar uno de los caracteres m\u00e1s grandes adecuados para pantallas HiDPI, ejecute:</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#3-conexion-a-internet","title":"3. Conexi\u00f3n a internet","text":"<p>Si ha conectado la m\u00e1quina a internet mediante cable o m\u00e1quina virtual, puede verificar la direcci\u00f3n IP adquirida con este comando:</p> <p><code># ip a</code></p> <p>La conexi\u00f3n se puede probar con un comando de prueba de ping:</p> <p><code># ping -c 3 archlinux.org</code></p> <p>Con\u00e9ctese a la red Wi-Fi utilizando la herramienta iwctl:</p> <ul> <li><code># iwctl</code> Iniciar iwctl</li> <li><code># device list</code> Busque el nombre de su dispositivo, por ejemplo, wlan0</li> <li><code># station wlan0 scan</code> Buscar redes inal\u00e1mbricas disponibles</li> <li><code># station wlan0 get-networks</code> Obtener la lista de redes</li> <li><code># station wlan0</code> connect yournetworkname  Conexi\u00f3n con su red</li> <li><code># exit</code></li> </ul> <p>Si en caso de que nuestros dispositivos est\u00e9n deshabilitados y no podamos ejecutar iwctl :</p> <ul> <li><code># rfkill list</code> Verifique el estado bloqueado o desbloqueado de los dispositivos</li> <li><code># rfkill unblock all</code> Desbloquee todos nuestros dispositivos bloqueados</li> <li><code># systemctl restart iwd</code> Reiniciar el servicio iwd</li> </ul> <p>Intente <code># iwctl</code> de nuevo y proceda como se indica arriba.</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#4-preparacion-del-disco","title":"4. Preparaci\u00f3n del disco","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guida-es/#particionado","title":"Particionado","text":"<p>Identifique su disco para conocer la convenci\u00f3n de nomenclatura que se utilizar\u00e1. Por ejemplo, en el caso de una SSD /dev/sda o en el caso de M.2 /dev/nvme0n1 y, finalmente, el disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Una vez identificada la nomenclatura de nuestro disco, use cfdisk, aqu\u00ed asumiremos tener /dev/sda. Se puede solicitar el tipo de tabla de particiones si el disco es crudo. En este caso, seleccione DOS:</p> <p><code># cfdisk /dev/sda</code></p> <p>Cree las particiones necesarias para la instalaci\u00f3n b\u00e1sica, suponiendo que tenemos un SSD de 128 GiB:</p> <ul> <li><code># 4Gib</code>   Crear una partici\u00f3n para swap y seleccione el tipo de swap</li> <li><code># 124Gib</code>  Crear la partici\u00f3n de Root</li> <li><code># write (yes)</code> y <code>quit</code>  Escriba los cambios y salga</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#formateo-de-particiones","title":"Formateo de particiones","text":"<ul> <li><code># mkswap /dev/sda1</code> Partici\u00f3n de swap</li> <li><code># mkfs.ext4 /dev/sda2</code> Partici\u00f3n de Root en EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#montaje-de-particiones","title":"Montaje de particiones","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> Montar la partici\u00f3n de Root</li> <li><code># swapon /dev/sda1</code> Montar la partici\u00f3n de swap</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-es/#particionado-del-disco","title":"Particionado del disco","text":"<p>Identifique su disco para conocer la convenci\u00f3n de nomenclatura que se utilizar\u00e1. Por ejemplo, en el caso de un SSD /dev/sda o en el caso de M.2 /dev/nvme0n1 y, finalmente, el disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Suponiendo que tenemos una SSD de 128 GiB y usaremos la partici\u00f3n GPT para la instalaci\u00f3n UEFI:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Crear una partici\u00f3n EFI y seleccione el tipo de partici\u00f3n de sistema EFI</li> <li><code># 4Gib</code>   Crear una partici\u00f3n para swap y seleccione el tipo de swap</li> <li><code># 23.5Gib</code>  Cree la partici\u00f3n Root</li> <li><code># 100Gib</code>  Cree la partici\u00f3n de Home</li> <li><code># write (yes)</code> y <code>quit</code> Escriba los cambios y salga</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#formateo-de-particiones_1","title":"Formateo de particiones","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Partici\u00f3n del sistema EFI en FAT32 para el arranque</li> <li><code># mkswap /dev/sda2</code> Partici\u00f3n de swap</li> <li><code># mkfs.ext4 /dev/sda3</code> Partici\u00f3n de Root en EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> Partici\u00f3n de Home en EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#montaje-de-particiones_1","title":"Montaje de particiones","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> Montar la partici\u00f3n de Root</li> <li><code># mkdir -p /mnt/{home,boot}</code> Cree los directorios /home y /boot</li> <li><code># mount /dev/sda4 /mnt/home</code> Montar la partici\u00f3n de Home</li> <li><code># mount /dev/sda1 /mnt/boot</code> Montar partici\u00f3n de arranque</li> <li><code># swapon /dev/sda2</code> Montar la partici\u00f3n de swap</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-es/#particionado-del-disco_1","title":"Particionado del disco","text":"<p>Identifique su disco para conocer la convenci\u00f3n de nomenclatura que se utilizar\u00e1. Por ejemplo, en el caso de un SSD /dev/sda o en el caso de M.2 /dev/nvme0n1 y, finalmente, el disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Suponiendo que tenemos una SSD de 128 GiB y usaremos la partici\u00f3n GPT para la instalaci\u00f3n UEFI:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Crear una partici\u00f3n EFI y seleccione el tipo de partici\u00f3n de sistema EFI</li> <li><code># 27.5Gib</code>  Cree la partici\u00f3n Root</li> <li><code># 100Gib</code>  Cree la partici\u00f3n de Home</li> <li><code># write (yes)</code> y <code>quit</code> Escriba los cambios y salga</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#formateo-de-particiones_2","title":"Formateo de particiones","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Partici\u00f3n del sistema EFI en FAT32 para el arranque</li> <li><code># mkfs.btrfs /dev/sda2</code> Partici\u00f3n de Root en BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> Partici\u00f3n de Home en BTRFS</li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#montaje-de-particiones_2","title":"Montaje de particiones","text":"<p>Cree subvol\u00famenes @ y @home:</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> Cree los directorios /home y /boot</p> </li> <li><code># mount /dev/sda1 /mnt/boot</code></li> <li><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-es/#particion-de-disco","title":"Partici\u00f3n de disco","text":"<p>Identifique su disco para conocer la convenci\u00f3n de nomenclatura que se utilizar\u00e1. Por ejemplo, en el caso de una SSD /dev/sda o en el caso de M.2 /dev/nvme0n1 y, finalmente, el disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Suponiendo que tenemos 3 discos de 128 GiB para LVM: sda sdb sdc use cfdisk para un disco a la vez:</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Crear una partici\u00f3n EFI y seleccione el tipo de partici\u00f3n de sistema EFI</li> <li><code># 127.5GiB</code> Cree una partici\u00f3n y seleccione el tipo de LVM</li> <li><code># write (yes)</code> y <code>quit</code> Escriba los cambios y salga</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> Cree una partici\u00f3n y seleccione el tipo de LVM</li> <li><code># write (yes)</code> y <code>quit</code> Escriba los cambios y salga</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128GiB</code>  Cree una partici\u00f3n y seleccione el tipo de LVM</li> <li><code># write (yes)</code> y <code>quit</code> Escriba los cambios y salga</li> </ul> <p>Para crear particiones en LVM, primero necesitamos crear un volumen f\u00edsico:</p>"},{"location":"en/Archlinux-Guide/guida-es/#crear-volumen-fisico","title":"Crear volumen f\u00edsico","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-es/#crear-grupo-de-volumenes","title":"Crear grupo de vol\u00famenes","text":"<p>Cree y extienda su grupo de vol\u00famenes; debe crear un grupo de vol\u00famenes en uno o m\u00e1s vol\u00famenes f\u00edsicos <code># vgcreate volume_group physical_volume</code> por ejemplo:</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>Este comando primero configurar\u00e1 las tres particiones como vol\u00famenes f\u00edsicos (si es necesario) y luego crear\u00e1 el grupo de vol\u00famenes con los tres vol\u00famenes. El comando le alertar\u00e1 si detecta un sistema de archivos existente en cualquier dispositivo.</p>"},{"location":"en/Archlinux-Guide/guida-es/#crear-volumenes-logicos","title":"Crear vol\u00famenes l\u00f3gicos","text":"<p>Cree vol\u00famenes l\u00f3gicos, para una configuraci\u00f3n b\u00e1sica, necesitar\u00edamos uno para Root, swap y home.</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#formateo-de-particiones_3","title":"Formateo de particiones","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Partici\u00f3n del sistema EFI en FAT32 para el arranque</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#montaje-de-particiones_3","title":"Montaje de particiones","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code> Montar la partici\u00f3n de Root</li> <li><code># mkdir -p /mnt/{home,boot}</code> Cree los directorios /home y /boot</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#extender-un-grupo-lvm","title":"Extender un grupo LVM","text":"<p>Si en el futuro desea agregar un nuevo volumen f\u00edsico al grupo, vea qu\u00e9 comando debe usar, asumiendo un cuarto disco sdd y habi\u00e9ndolo particionado como antes, ampliamos el espacio por ejemplo a <code>/dev/lvm/home</code>:</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#5-lista-de-espejos","title":"5. Lista de espejos","text":"<p>Guarde la lista de espejos para los repositorios en /etc/pacman.d/mirrorlist utilizando la herramienta reflector, especificando el pa\u00eds para sincronizar los servidores, por ejemplo it. Se pueden agregar varios pa\u00edses separ\u00e1ndolos con una coma, por ejemplo, it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#6-pacstrap","title":"6. Pacstrap","text":"<p>Instale el kernel linux y los paquetes base para crear nuestro sistema Arch, tambi\u00e9n agregue un editor como vim. Si sigue la instalaci\u00f3n para lvm, agregue el paquete <code>lvm2</code> al siguiente comando:</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#7-generar-fstab","title":"7. Generar Fstab","text":"<p>El archivo /etc/fstab le permite controlar qu\u00e9 sistemas de archivos se montan en su sistema Linux durante el inicio, incluidas las particiones de Windows y las compartidas en la red:</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#8-chroot","title":"8. Chroot","text":"<p>Ingrese al chroot y configure los siguientes pasos: Configuraci\u00f3n de la hora local, systemclock, idioma, asignaciones de teclado, localhost, contrase\u00f1a de root, creaci\u00f3n de usuario y contrase\u00f1a.</p> <p>Ingrese al chroot:</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#zona-horaria","title":"Zona horaria","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#configuracion-regional","title":"Configuraci\u00f3n regional","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#hostname-y-hosts","title":"Hostname y Hosts","text":"<ul> <li><code># echo \"YOURMACHINENAME\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#usuario-y-root","title":"Usuario y Root","text":"<p>Configure la contrase\u00f1a de Root, \u00a1tenga cuidado!</p> <p><code># passwd</code></p> <p>Configure un nuevo usuario en min\u00fasculas, creando el directorio <code>/home/USERNAME</code> con <code>-m</code>, el grupo <code>wheel</code> con <code>-G</code> y la shell con <code>-s</code>:</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>Configure el nombre real (que aparece en gr\u00e1ficos con letra inicial en may\u00fascula, por ejemplo \"Alessio\") </p> <p><code># usermod -c 'NOMBREREAL' USERNAME</code></p> <p>Configure una contrase\u00f1a para el usuario reci\u00e9n agregado, \u00a1tenga cuidado!</p> <p><code># passwd USERNAME</code></p> <p>Configure el archivo sudoers para el grupo wheel:</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#mkinitcpio-para-lvm","title":"mkinitcpio para LVM","text":"<p>Agregar lvm2 en los hooks de /etc/mkinitcpio.conf</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>luego usar el comando:</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#9-bootloader","title":"9. Bootloader","text":""},{"location":"en/Archlinux-Guide/guida-es/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB admite completamente el arranque seguro usando claves CA o shim, sin embargo, el comando de instalaci\u00f3n es diferente dependiendo de cual se pretenda utilizar.</p> <p>Para usar claves CA, el comando es:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>Para usar shim-lock, el comando es:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Ahora cree la configuraci\u00f3n del archivo arch.conf abierto con vim, es importante escribir la partici\u00f3n de arranque ra\u00edz correctamente, como <code>root=/dev/sdax</code> donde <code>x</code> es el n\u00famero de la partici\u00f3n ra\u00edz.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Ahora cree la configuraci\u00f3n del archivo arch.conf abierto con vim, es importante escribir la partici\u00f3n de arranque ra\u00edz correctamente, como <code>root=/dev/sdax</code> donde <code>x</code> es el n\u00famero de la partici\u00f3n ra\u00edz, agregar la bandera para el subvolumen @.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Ahora cree la configuraci\u00f3n del archivo arch.conf abierto con vim, es importante escribir la partici\u00f3n de arranque ra\u00edz correctamente, como para lvm <code>root=/dev/mapper/lvm-root</code></p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#10-paquetes-base","title":"10. Paquetes Base","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#11-entorno-de-escritorio","title":"11. Entorno de Escritorio","text":"<p>Elija entre algunos de los entornos de escritorio populares sugeridos:</p>"},{"location":"en/Archlinux-Guide/guida-es/#gnome","title":"Gnome","text":"<p>Gnome completo con el gestor de pantallas GDM</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#xfce4","title":"Xfce4","text":"<p>Xfce4 con el gestor de pantallas Lightdm</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#lxde","title":"Lxde","text":"<p>Lxde con el gestor de pantallas Lightdm</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#mate","title":"Mate","text":"<p>Mate con el gestor de pantallas Lightdm</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#plasma","title":"Plasma","text":"<p>Plasma kde con el gestor de pantallas SDDM</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-es/#cinnamon","title":"Cinnamon","text":"<p>Cinnamon con el gestor de pantallas Lightdm</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#12-servicios","title":"12. Servicios","text":"<p>Si ha habilitado el servicio para el gestor de pantalla, puede pasar a habilitar los dem\u00e1s servicios necesarios.</p> <ul> <li><code># systemctl enable NetworkManager</code> Tenga cuidado, es sensible a may\u00fasculas.</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-es/#13-zram","title":"13. Zram","text":"<p>El siguiente ejemplo describe c\u00f3mo configurar el intercambio autom\u00e1tico a zram en el arranque mediante una \u00fanica regla udev. No deber\u00edan ser necesarios paquetes adicionales para que esto funcione.</p> <p>Cargue expl\u00edcitamente el m\u00f3dulo en el arranque:</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>Cree la siguiente regla udev ajustando el atributo disksize seg\u00fan se requiera para el tama\u00f1o del swap, en este ejemplo es 16G:</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>Agregue /dev/zram a fstab con una prioridad m\u00e1s alta que la predeterminada:</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/","title":"Installation d'Arch Linux","text":""},{"location":"en/Archlinux-Guide/guida-fr/#1-verification-de-signature","title":"1. V\u00e9rification de signature","text":"<p>Il est recommand\u00e9 de v\u00e9rifier la signature de l'image avant de l'utiliser, surtout si vous la t\u00e9l\u00e9chargez depuis un miroir HTTP, o\u00f9 les t\u00e9l\u00e9chargements sont sujets \u00e0 interception pour fournir des images malveillantes.</p> <p>Sur un syst\u00e8me avec GnuPG install\u00e9, t\u00e9l\u00e9chargez la signature PGP de l'ISO dans le r\u00e9pertoire ISO et v\u00e9rifiez-la avec:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>Alternativement, \u00e0 partir d'une installation existante d'Arch Linux, ex\u00e9cutez:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#2-configuration-initiale","title":"2. Configuration initiale","text":"<p>Pour commencer, nous devons d\u00e9finir la langue du clavier, la langue par d\u00e9faut sans entrer la commande est <code>US</code>. Les dispositions disponibles peuvent \u00eatre r\u00e9pertori\u00e9es avec:</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>d\u00e9finir la langue de notre clavier avec la commande:</p> <p><code># loadkeys it</code></p> <p>Les caract\u00e8res de la console se trouvent dans /usr/share/kbd/consolefonts/ et peuvent \u00e9galement \u00eatre d\u00e9finis avec setfont. Par exemple, pour utiliser l'un des plus grands caract\u00e8res adapt\u00e9s aux affichages HiDPI, ex\u00e9cutez:</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#3-connexion-internet","title":"3. Connexion Internet","text":"<p>Si vous avez connect\u00e9 la machine \u00e0 Internet via un c\u00e2ble ou une machine virtuelle, vous pouvez v\u00e9rifier votre adresse IP acquise \u00e0 l'aide de cette commande:</p> <p><code># ip a</code></p> <p>La connexion peut \u00eatre test\u00e9e avec une commande de test ping:</p> <p><code># ping -c 3 archlinux.org</code></p> <p>Connectez-vous au r\u00e9seau Wi-Fi en utilisant l'outil iwctl:</p> <ul> <li><code># iwctl</code> D\u00e9marrer iwctl</li> <li><code># device list</code> Trouver le nom de votre appareil, par exemple wlan0</li> <li><code># station wlan0 scan</code> Rechercher les r\u00e9seaux sans fil disponibles</li> <li><code># station wlan0 get-networks</code> Obtenez la liste des r\u00e9seaux</li> <li><code># station wlan0</code> connect yournetworkname  Connection \u00e0 votre r\u00e9seau</li> <li><code># exit</code></li> </ul> <p>Si dans le cas o\u00f9 nos appareils sont d\u00e9sactiv\u00e9s et que nous ne pouvons pas ex\u00e9cuter ** iwctl **:</p> <ul> <li><code># rfkill list</code> V\u00e9rification du statut bloqu\u00e9 ou d\u00e9bloqu\u00e9 des appareils</li> <li><code># rfkill unblock all</code> D\u00e9bloquez tous nos appareils bloqu\u00e9s</li> <li><code># systemctl restart iwd</code> Red\u00e9marrez le service iwd</li> </ul> <p>R\u00e9essayez <code># iwctl</code> et proc\u00e9dez comme ci-dessus.</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#4-preparation-de-disque","title":"4. Pr\u00e9paration de disque","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guida-fr/#partitionnement","title":"Partitionnement","text":"<p>Identifiez votre disque pour conna\u00eetre la convention de nommage \u00e0 utiliser. Par exemple, dans le cas d'un SSD / dev / sda ou dans le cas d'un M.2 /dev/nvme0n1 et, enfin, le disque virtuel /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Une fois le nom de notre disque identifi\u00e9, utilisez cfdisk, ici nous supposerons avoir /dev/sda. On peut vous demander le type de table de partitionnement si le disque est brut. Dans ce cas, s\u00e9lectionnez DOS :</p> <p><code># cfdisk /dev/sda</code></p> <p>Cr\u00e9ez les partitions n\u00e9cessaires pour l'installation de base, en supposant que nous avons un SSD 128 GiB :</p> <ul> <li><code># 4 GiB</code> Cr\u00e9ez une partition pour le swap et s\u00e9lectionnez le type de partition swap</li> <li><code># 124 GiB</code> Cr\u00e9ez la partition Root</li> <li><code># write (yes)</code> et <code>quit</code> \u00c9crire les modifications et quitter</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#formatage-des-partitions","title":"Formatage des partitions","text":"<ul> <li><code># mkswap /dev/sda1</code> Partition swap</li> <li><code># mkfs.ext4 /dev/sda2</code> Partition Root en EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#montage-des-partitions","title":"Montage des partitions","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> Monter la partition root</li> <li><code># swapon /dev/sda1</code> Monter la partition swap</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-fr/#partitionnement-de-disque","title":"Partitionnement de disque","text":"<p>Identifiez votre disque pour conna\u00eetre la convention de nommage \u00e0 utiliser. Par exemple, dans le cas d'un SSD /dev/sda ou dans le cas d'un M.2 /dev/nvme0n1 et, enfin, le Disque virtuel /dev/vda.</p> <p><code># lsblk -l</code></p> <p>En supposant que nous avons un SSD 128 GiB et que nous utiliserons un partitionnement GPT pour l'installation UEFI :</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512 Mib</code> Cr\u00e9ez une partition EFI et s\u00e9lectionnez le type de partition syst\u00e8me EFI</li> <li><code># 4 GiB</code> Cr\u00e9ez une partition pour le swap et s\u00e9lectionnez le type de partition swap</li> <li><code># 23,5 GiB</code>  Cr\u00e9ez la partition Root</li> <li><code># 100 GiB</code>  Cr\u00e9ez la partition Home</li> <li><code># write (yes)</code> et <code>quit</code> \u00c9crire les modifications et quitter</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#formatage-des-partitions_1","title":"Formatage des partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Partition syst\u00e8me EFI en FAT32 pour le boot</li> <li><code># mkswap /dev/sda2</code> Partition swap</li> <li><code># mkfs.ext4 /dev/sda3</code> Partition root en EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> Partition home en EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#montage-des-partitions_1","title":"Montage des partitions","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> Monter la partition root</li> <li><code># mkdir -p /mnt/{home,boot}</code> Cr\u00e9er des r\u00e9pertoires /home et /boot</li> <li><code># mount /dev/sda4 /mnt/home</code> Monter la partition home</li> <li><code># mount /dev/sda1 /mnt/boot</code> Monter la partition boot</li> <li><code># swapon /dev/sda2</code> Monter la partition swap</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-fr/#partitionnement-de-disque_1","title":"Partitionnement de disque","text":"<p>Identifiez votre disque pour conna\u00eetre la convention de nommage \u00e0 utiliser. Par exemple, dans le cas d'un SSD /dev/sda ou dans le cas d'un M.2 /dev/nvme0n1 et, enfin, le Disque virtuel /dev/vda.</p> <p><code># lsblk -l</code></p> <p>En supposant que nous avons un SSD 128 GiB et que nous utiliserons un partitionnement GPT pour l'installation UEFI :</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512 Mib</code> Cr\u00e9ez une partition EFI et s\u00e9lectionnez le type de partition syst\u00e8me EFI</li> <li><code># 27,5 GiB</code>  Cr\u00e9ez la partition Root</li> <li><code># 100 GiB</code>  Cr\u00e9ez la partition Home</li> <li><code># write (yes)</code> et <code>quit</code> \u00c9crire les modifications et quitter</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#formatage-des-partitions_2","title":"Formatage des partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Partition syst\u00e8me EFI en FAT32 pour le boot</li> <li><code># mkfs.btrfs /dev/sda2</code> Partition root en BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> Partition home en BTRFS</li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#montage-des-partitions_2","title":"Montage des partitions","text":"<p>Cr\u00e9er des sous-volumes @ et @home:</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> Cr\u00e9er des r\u00e9pertoires /home et /boot</p> </li> <li><code># mount /dev/sda1 /mnt/boot</code></li> <li><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-fr/#partitionnement-de-disque_2","title":"Partitionnement de disque","text":"<p>Identifiez votre disque pour conna\u00eetre la convention de nommage \u00e0 utiliser. Par exemple, dans le cas d'un SSD /dev/sda ou dans le cas d'un M.2 /dev/nvme0n1 et, enfin, le Disque virtuel /dev/vda.</p> <p><code># lsblk -l</code></p> <p>En supposant que nous avons 3 disques de 128 GiB pour LVM: sda sdb sdc utilisez cfdisk un par un :</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512 Mib</code> Cr\u00e9ez une partition EFI et s\u00e9lectionnez le type de partition syst\u00e8me EFI</li> <li><code># 127,5 GiB</code>  Cr\u00e9ez une partition et s\u00e9lectionnez le type LVM</li> <li><code># write (yes)</code> et <code>quit</code> \u00c9crire les modifications et quitter</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128 GiB</code>  Cr\u00e9ez une partition et s\u00e9lectionnez le type LVM</li> <li><code># write (yes)</code> et <code>quit</code> \u00c9crire les modifications et quitter</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128 GiB</code>  Cr\u00e9ez une partition et s\u00e9lectionnez le type LVM</li> <li><code># write (yes)</code> et <code>quit</code> \u00c9crire les modifications et quitter</li> </ul> <p>Pour cr\u00e9er des partitions sous LVM, il nous faut d'abord cr\u00e9er un volume physique :</p>"},{"location":"en/Archlinux-Guide/guida-fr/#creer-un-volume-physique","title":"Cr\u00e9er un volume physique","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-fr/#creer-un-groupe-de-volumes","title":"Cr\u00e9er un groupe de volumes","text":"<p>Cr\u00e9ez et \u00e9tendez votre groupe de volumes ; vous devez cr\u00e9er un groupe de volumes sur un ou plusieurs volumes physiques <code># vgcreate group_volume physical_volume</code> par exemple :</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>Cette commande configura tout d'abord les trois partitions comme volumes physiques (si n\u00e9cessaire), puis cr\u00e9e le groupe de volumes avec les trois volumes. La commande vous alertera si elle d\u00e9tecte un syst\u00e8me de fichiers existant sur l'un ou l'autre des p\u00e9riph\u00e9riques.</p>"},{"location":"en/Archlinux-Guide/guida-fr/#creer-des-volumes-logiques","title":"Cr\u00e9er des volumes logiques","text":"<p>Cr\u00e9ez des volumes logiques, pour une configuration de base, il nous faudrait chacun pour root, swap et home.</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#formatage-des-partitions_3","title":"Formatage des partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Partition syst\u00e8me EFI en FAT32 pour le boot</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#montage-des-partitions_3","title":"Montage des partitions","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code> Monter la partition root</li> <li><code># mkdir -p /mnt/{home,boot}</code> Cr\u00e9er des r\u00e9pertoires /home et /boot</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#etendre-un-groupe-lvm","title":"\u00c9tendre un groupe LVM","text":"<p>Si \u00e0 l'avenir vous souhaitez ajouter un nouveau volume physique au groupe, consultez quelle commande utiliser, en supposant un quatri\u00e8me disque sdd et l'avoir partitionn\u00e9 comme pr\u00e9c\u00e9demment, nous \u00e9tendons l'espace par exemple \u00e0 <code>/dev/lvm/home</code> :</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#5-liste-de-miroirs","title":"5. Liste de Miroirs","text":"<p>Enregistrez la liste de miroirs pour les d\u00e9p\u00f4ts dans /etc/pacman.d/mirrorlist en utilisant l'outil reflector, en sp\u00e9cifiant le pays pour synchroniser les serveurs, par exemple it. Plusieurs pays peuvent \u00eatre ajout\u00e9s en utilisant une virgule, par exemple it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#6-pacstrap","title":"6. Pacstrap","text":"<p>Installer le noyau linux et les paquets de base pour cr\u00e9er notre syst\u00e8me Arch, ajouter \u00e9galement un \u00e9diteur tel que vim. Si vous suivez l'installation pour lvm, ajoutez le paquet <code>lvm2</code> \u00e0 la commande suivante :</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#7-generer-fstab","title":"7. G\u00e9n\u00e9rer Fstab","text":"<p>Le fichier /etc/fstab vous permet de contr\u00f4ler les syst\u00e8mes de fichiers qui sont mont\u00e9s sur votre syst\u00e8me Linux lors du d\u00e9marrage, y compris les partitions Windows et les partages r\u00e9seau :</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#8-chroot","title":"8. Chroot","text":"<p>Entrez dans le chroot et configurez les \u00e9tapes suivantes : Configuration de l'heure locale, de l'horloge syst\u00e8me, de la langue, des mappages de clavier, de localhost, du mot de passe Root, de la cr\u00e9ation de l'utilisateur et de son mot de passe.</p> <p>Entrez dans le chroot :</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#fuseau-horaire","title":"Fuseau horaire","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#localisation","title":"Localisation","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#nom-dhote-et-hosts","title":"Nom d'h\u00f4te et Hosts","text":"<ul> <li><code># echo \"NOMDEVOTREAMACHINE\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#utilisateur-et-root","title":"Utilisateur et Root","text":"<p>Configurez le mot de passe Root, faites attention !</p> <p><code># passwd</code></p> <p>Configurez un nouvel utilisateur en minuscules, en cr\u00e9ant le r\u00e9pertoire <code>/home/USERNAME</code> avec <code>-m</code>, le groupe <code>wheel</code> avec <code>-G</code> et le shell avec <code>-s</code> :</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>Configurez le nom r\u00e9el (qui appara\u00eet en graphique avec une majuscule en d\u00e9but de nom par exemple \"Alessio\")</p> <p><code># usermod -c 'NOMR\u00c9EL' USERNAME</code></p> <p>Configurez un mot de passe pour le nouvel utilisateur ajout\u00e9, faites attention !</p> <p><code># passwd USERNAME</code></p> <p>Configurez le fichier sudoers pour le groupe wheel :</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#mkinitcpio-pour-lvm","title":"mkinitcpio pour LVM","text":"<p>ajouter lvm2 aux hooks dans /etc/mkinitcpio.conf</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>puis utilisez la commande :</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#9-chargeur-de-demarrage","title":"9. Chargeur de d\u00e9marrage","text":""},{"location":"en/Archlinux-Guide/guida-fr/#grub-bios-mbr","title":"GRUB (BIOS-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB prend en charge enti\u00e8rement le d\u00e9marrage s\u00e9curis\u00e9 en utilisant des cl\u00e9s CA ou shim, cependant, la commande d'installation diff\u00e8re selon celle que vous avez l'intention d'utiliser.</p> <p>Pour utiliser des cl\u00e9s CA, la commande est :</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>Pour utiliser shim-lock, la commande est :</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Maintenant, cr\u00e9ez la configuration du fichier arch.conf ouvert avec vim, il est important d'\u00e9crire la partition boot racine correcte telle que <code>root=/dev/sdax</code> o\u00f9 <code>x</code> est le num\u00e9ro de la partition racine.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Maintenant, cr\u00e9ez la configuration du fichier arch.conf ouvert avec vim, il est important d'\u00e9crire la partition boot racine correcte telle que <code>root=/dev/sdax</code> o\u00f9 <code>x</code> est le num\u00e9ro de la partition root, ajoutez le drapeau pour le sous-volume @.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Maintenant, cr\u00e9ez la configuration du fichier arch.conf ouvert avec vim, il est important d'\u00e9crire la partition boot racine correcte telle que pour lvm <code>root=/dev/mapper/lvm-root</code></p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#10-paquets-de-base","title":"10. Paquets de base","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#11-environnement-de-bureau","title":"11. Environnement de bureau","text":"<p>Choisissez parmi les environnements de bureau populaires sugg\u00e9r\u00e9s :</p>"},{"location":"en/Archlinux-Guide/guida-fr/#gnome","title":"Gnome","text":"<p>Gnome complet avec le gestionnaire d'affichage GDM</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#xfce4","title":"Xfce4","text":"<p>xfce4 avec le gestionnaire d'affichage Lightdm</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#lxde","title":"Lxde","text":"<p>lxde avec le gestionnaire d'affichage Lightdm</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#mate","title":"Mate","text":"<p>mate avec le gestionnaire d'affichage Lightdm</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#plasma","title":"Plasma","text":"<p>plasma kde avec le gestionnaire d'affichage SDDM</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-fr/#cinnamon","title":"Cinnamon","text":"<p>cinnamon avec le gestionnaire d'affichage Lightdm</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#12-services","title":"12. Services","text":"<p>Si vous avez activ\u00e9 le service pour le gestionnaire d'affichage, vous pouvez passer \u00e0 l'activation des autres services n\u00e9cessaires.</p> <ul> <li><code># systemctl enable NetworkManager</code> Soyez prudent, il est sensible \u00e0 la casse.</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-fr/#13-zram","title":"13. Zram","text":"<p>L'exemple suivant d\u00e9crit comment configurer le swapping automatique vers zram au d\u00e9marrage en utilisant une seule r\u00e8gle udev. Aucun paquet suppl\u00e9mentaire ne devrait \u00eatre n\u00e9cessaire pour que cela fonctionne.</p> <p>Chargez explicitement le module au d\u00e9marrage :</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>Cr\u00e9ez la r\u00e8gle udev suivante en ajustant l'attribut disksize selon la taille de la swap, dans cet exemple, c'est 16G:</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>Ajoutez /dev/zram \u00e0 votre fstab avec une priorit\u00e9 sup\u00e9rieure \u00e0 la valeur par d\u00e9faut :</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/","title":"Arch Linux Installation","text":""},{"location":"en/Archlinux-Guide/guida-in/#1","title":"1. \u0939\u0938\u094d\u0924\u093e\u0915\u094d\u0937\u0930 \u0938\u0924\u094d\u092f\u093e\u092a\u0928","text":"<p>\u0907\u0938\u094d\u0924\u0947\u092e\u093e\u0932 \u0938\u0947 \u092a\u0939\u0932\u0947, \u0916\u093e\u0938\u0924\u094c\u0930 \u0938\u0947 HTTP \u092e\u093f\u0930\u0930 \u0938\u0947 \u0921\u093e\u0909\u0928\u0932\u094b\u0921 \u0915\u0930\u0924\u0947 \u0938\u092e\u092f \u0939\u092e\u0947\u0902 \u0907\u092e\u0947\u091c \u0915\u0947 \u0939\u0938\u094d\u0924\u093e\u0915\u094d\u0937\u0930 \u0915\u0940 \u0938\u0924\u094d\u092f\u093e\u092a\u0928 \u0915\u0930\u0928\u093e \u091a\u093e\u0939\u093f\u090f, \u091c\u0939\u093e\u0902 \u0921\u093e\u0909\u0928\u0932\u094b\u0921 \u0939\u093e\u0928\u093f\u0915\u093e\u0930\u0915 \u0907\u092e\u0947\u091c \u092a\u094d\u0930\u0926\u093e\u0928 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0939\u0938\u094d\u0924\u0915\u094d\u0937\u0930\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u0906\u0935\u0947\u0926\u0928 \u0915\u093f\u092f\u093e \u091c\u093e \u0938\u0915\u0924\u093e \u0939\u0948\u0964</p> <ul> <li>GnuPG * \u0938\u0902\u092c\u0902\u0927\u093f\u0924 \u090f\u0915 \u0938\u093f\u0938\u094d\u091f\u092e \u0915\u0947 \u0938\u093e\u0925, * PGP ISO \u0939\u0938\u094d\u0924\u093e\u0915\u094d\u0937\u0930 * \u0915\u094b ISO \u0928\u093f\u0930\u094d\u0926\u0947\u0936\u093f\u0915\u093e \u092e\u0947\u0902 \u0921\u093e\u0909\u0928\u0932\u094b\u0921 \u0915\u0930\u0947\u0902 \u0914\u0930 \u0907\u0938\u0915\u0940 \u0938\u0924\u094d\u092f\u093e\u092a\u0928 \u0915\u0930\u0947\u0902:</li> </ul> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>\u0905\u0928\u094d\u092f\u0925\u093e, Arch Linux \u0915\u0947 \u092e\u094c\u091c\u0942\u0926\u093e \u0938\u094d\u0925\u093e\u092a\u0928\u093e \u0938\u0947 \u0928\u093f\u092e\u094d\u0928 \u091a\u0932\u093e\u090f\u0901:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#2","title":"2. \u092a\u094d\u0930\u093e\u0930\u0902\u092d\u093f\u0915 \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930\u0947\u0936\u0928","text":"<p>\u0936\u0941\u0930\u0942 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, \u0939\u092e\u0947\u0902 \u0915\u0940\u092c\u094b\u0930\u094d\u0921 \u092d\u093e\u0937\u093e, \u092e\u0942\u0932 \u092d\u093e\u0937\u093e \u0915\u094b \u092a\u0930\u093f\u092d\u093e\u0937\u093f\u0924 \u0915\u0930\u0928\u093e \u0939\u094b\u0917\u093e, \u092c\u093f\u0928\u093e \u0905\u092d\u094d\u092f\u0938\u094d\u0924 \u0915\u093f\u090f \u0921\u093f\u092b\u093c\u0949\u0932\u094d\u091f \u092d\u093e\u0937\u093e <code>US</code> \u0939\u0948\u0964 \u0909\u092a\u0932\u092c\u094d\u0927 \u0932\u0947\u0906\u0909\u091f \u0938\u0942\u091a\u0940 \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u0924\u0930\u0940\u0915\u0947 \u0938\u0947 \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u093f\u0924 \u0915\u0940 \u091c\u093e \u0938\u0915\u0924\u0940 \u0939\u0948:</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>\u0905\u092a\u0928\u0947 \u0915\u0940\u092c\u094b\u0930\u094d\u0921 \u0915\u0940 \u092d\u093e\u0937\u093e \u0915\u094b \u0928\u093f\u092e\u094d\u0928 \u0906\u0926\u0947\u0936 \u0915\u0947 \u0938\u093e\u0925 \u0938\u0947\u091f \u0915\u0930\u0947\u0902:</p> <p><code># loadkeys it</code></p> <p>\u0915\u0902\u0938\u094b\u0932 \u0905\u0915\u094d\u0937\u0930\u094b\u0902 \u0915\u094b /usr/share/kbd/consolefonts/ \u092e\u0947\u0902 \u092a\u093e\u092f\u093e \u091c\u093e \u0938\u0915\u0924\u093e \u0939\u0948 \u0914\u0930 \u0907\u0938\u0947 \u0938\u0947\u091f \u092d\u0940 setfont \u0915\u0947 \u0938\u093e\u0925 \u0915\u093f\u092f\u093e \u091c\u093e \u0938\u0915\u0924\u093e \u0939\u0948\u0964 \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f, HiDPI \u0921\u093f\u0938\u094d\u092a\u094d\u0932\u0947 \u0915\u0947 \u0932\u093f\u090f \u0909\u092a\u092f\u0941\u0915\u094d\u0924 \u092c\u0921\u093c\u0947 \u0905\u0915\u094d\u0937\u0930 \u0935\u093e\u0932\u0947 \u090f\u0915 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, \u0928\u093f\u092e\u094d\u0928 \u0906\u0926\u0947\u0936 \u091a\u0932\u093e\u090f\u0901: </p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#3","title":"3. \u0907\u0902\u091f\u0930\u0928\u0947\u091f \u0915\u0928\u0947\u0915\u094d\u0936\u0928","text":"<p>\u092f\u0926\u093f \u0906\u092a\u0928\u0947 \u0915\u0947\u092c\u0932 \u092f\u093e \u0935\u0930\u094d\u091a\u0941\u0905\u0932 \u092e\u0936\u0940\u0928 \u0915\u0947 \u092e\u093e\u0927\u094d\u092f\u092e \u0938\u0947 \u092e\u0936\u0940\u0928 \u0915\u094b \u0907\u0902\u091f\u0930\u0928\u0947\u091f \u0938\u0947 \u0915\u0928\u0947\u0915\u094d\u091f \u0915\u093f\u092f\u093e \u0939\u0948, \u0924\u094b \u0906\u092a \u0907\u0938 \u0906\u0926\u0947\u0936 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0915\u0947 \u0905\u092a\u0928\u093e \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0906\u0908\u092a\u0940 \u092a\u0924\u093e \u0938\u0924\u094d\u092f\u093e\u092a\u093f\u0924 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902:</p> <p><code># ip a</code></p> <ul> <li>Ping * \u091f\u0947\u0938\u094d\u091f \u0906\u0926\u0947\u0936 \u0915\u0947 \u092e\u093e\u0927\u094d\u092f\u092e \u0938\u0947 \u0915\u0928\u0947\u0915\u094d\u0936\u0928 \u0915\u0940 \u091c\u093e\u0902\u091a \u0915\u0940 \u091c\u093e \u0938\u0915\u0924\u0940 \u0939\u0948:</li> </ul> <p><code># ping -c 3 archlinux.org</code></p> <ul> <li> <p>iwctl * \u0909\u092a\u0915\u0930\u0923 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0915\u0947 Wi-Fi \u0928\u0947\u091f\u0935\u0930\u094d\u0915 \u0938\u0947 \u0915\u0928\u0947\u0915\u094d\u091f \u0915\u0930\u0947\u0902:</p> </li> <li> <p><code># iwctl</code> iwctl \u0938\u094d\u0925\u093e\u0930\u094d\u091f \u0915\u0930\u0947\u0902</p> </li> <li><code># device list</code> \u0905\u092a\u0928\u0940 \u0921\u093f\u0935\u093e\u0907\u0938 \u0915\u093e \u0928\u093e\u092e \u0922\u0942\u0902\u0922\u0947\u0902, \u0909\u0926\u093e\u0939\u0930\u0923 \u0935\u093e\u0932\u0928 0 \u0939\u094b \u0938\u0915\u0924\u093e \u0939\u0948</li> <li><code># station wlan0 scan</code> \u0909\u092a\u0932\u092c\u094d\u0927 \u0935\u093e\u092f\u0930\u0932\u0947\u0938 \u0928\u0947\u091f\u0935\u0930\u094d\u0915\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u0938\u094d\u0915\u0948\u0928 \u0915\u0930\u0947\u0902</li> <li><code># station wlan0 get-networks</code> \u0928\u0947\u091f\u0935\u0930\u094d\u0915\u094b\u0902 \u0915\u0940 \u0938\u0942\u091a\u0940 \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0915\u0930\u0947\u0902</li> <li><code># station wlan0</code> yournetworkname \u0938\u0947 \u0905\u092a\u0928\u0947 \u0928\u0947\u091f\u0935\u0930\u094d\u0915 \u0938\u0947 \u0915\u0928\u0947\u0915\u094d\u091f \u0915\u0930\u0947\u0902</li> <li><code># exit</code></li> </ul> <p>\u092f\u0926\u093f \u0939\u092e\u093e\u0930\u0940 \u0921\u093f\u0935\u093e\u0907\u0938 \u0905\u0915\u094d\u0937\u092e \u0939\u094b \u0917\u092f\u0940 \u0939\u0948 \u0914\u0930 \u0939\u092e iwctl \u0928\u0939\u0940\u0902 \u091a\u0932\u093e \u0938\u0915\u0924\u0947 \u0939\u0948\u0902:</p> <ul> <li><code># rfkill list</code> \u0921\u093f\u0935\u093e\u0907\u0938\u094b\u0902 \u0915\u0940 \u092c\u094d\u0932\u0949\u0915 \u0939\u0948 \u092f\u093e \u0928\u0939\u0940\u0902 \u0939\u0948, \u091c\u093e\u0902\u091a\u0947\u0902</li> <li><code># rfkill unblock all</code> \u0938\u092d\u0940 \u0905\u0915\u094d\u0937\u092e \u0921\u093f\u0935\u093e\u0907\u0938 \u0938\u0947 \u0905\u0915\u094d\u0937\u092e \u0921\u093f\u0935\u093e\u0907\u0938\u094b\u0902 \u0915\u0947 \u092c\u094d\u0932\u0949\u0915 \u0939\u091f\u093e\u090f\u0902</li> <li><code># systemctl restart iwd</code> iwd \u0938\u0947\u0935\u093e \u0915\u094b \u0930\u0940\u0938\u094d\u091f\u093e\u0930\u094d\u091f \u0915\u0930\u0947\u0902</li> </ul> <p>iwctl \u0915\u094b \u092a\u0941\u0928: \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902 \u0914\u0930 \u0909\u092a\u0930\u094b\u0915\u094d\u0924 \u0915\u0947 \u0930\u0942\u092a \u092e\u0947\u0902 \u0906\u0917\u0947 \u092c\u0922\u093c\u0947\u0902\u0964</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#4","title":"4. \u0921\u093f\u0938\u094d\u0915 \u0915\u0940 \u0924\u0948\u092f\u093e\u0930\u0940","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guida-in/#partitioning","title":"Partitioning","text":"<p>\u0928\u093e\u092e \u0928\u093f\u0930\u094d\u0926\u0947\u0936\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u093e \u0921\u093f\u0938\u094d\u0915 \u092a\u0939\u091a\u093e\u0928\u0947\u0902\u0964 \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f, SSD / dev / sda \u092f\u093e \u090f\u092e\u0964 2 /dev/nvme0n1 \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902 \u0914\u0930 \u0905\u0902\u0924\u0924\u0903, \u090f\u0915 virtual disk /dev/vda \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902\u0964</p> <p><code># lsblk -l</code></p> <p>\u0905\u092a\u0928\u0940 \u0921\u093f\u0938\u094d\u0915 \u0915\u0947 \u0928\u093e\u092e \u0915\u0947 \u0928\u093e\u092e \u0915\u0947 \u0928\u093e\u092e \u0915\u0947 \u0928\u093e\u092e \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0915\u0947, \u092f\u0939\u093e\u0902 \u0939\u092e /dev/sda \u0939\u094b\u0928\u0947 \u0915\u0947 \u0905\u0927\u093f\u0915\u093e\u0930 \u092e\u0947\u0902 \u092e\u093e\u0928 \u0932\u0947\u0902\u0917\u0947\u0964 \u090f\u0915 \u0905\u091c\u094d\u091e\u093e\u0924 \u0938\u094d\u0925\u093e\u0928 \u092a\u0930, \u092f\u0926\u093f \u0921\u093f\u0938\u094d\u0915 \u0938\u094d\u0935\u091a\u093e\u0932\u093f\u0924 \u0939\u0948, \u0906\u092a\u0938\u0947 \u0907\u0938\u0915\u093e \u092a\u094d\u0930\u0915\u093e\u0930 \u092a\u0942\u091b\u093e \u091c\u093e\u090f\u0917\u093e\u0964 \u0907\u0938 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902, DOS \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902: </p> <p><code># cfdisk /dev/sda</code></p> <p>\u092c\u0947\u0938 \u0938\u094d\u0925\u093e\u092a\u0928\u093e \u0915\u0947 \u0932\u093f\u090f \u0906\u0935\u0936\u094d\u092f\u0915 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902, \u092e\u093e\u0928 \u0932\u0947\u0924\u0947 \u0939\u0948\u0902 \u0915\u093f \u0939\u092e\u093e\u0930\u0947 \u092a\u093e\u0938 \u090f\u0915 128GiB SSD \u0939\u0948:</p> <ul> <li><code># 4Gib</code>    \u0938\u094d\u0935\u0948\u092a \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 \u0938\u094d\u0935\u0948\u092a \u0915\u0947 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902</li> <li>124Gib # \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># write (yes)</code> \u0914\u0930 <code>quit</code> \u092c\u0926\u0932\u093e\u0935 \u0932\u093f\u0916\u0947\u0902 \u0914\u0930 \u092c\u093e\u0939\u0930 \u0928\u093f\u0915\u0932\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#formatting-partitions","title":"Formatting Partitions","text":"<ul> <li><code># mkswap /dev/sda1</code> \u0938\u094d\u0935\u0948\u092a \u0935\u093f\u092d\u093e\u091c\u0928</li> <li><code># mkfs.ext4 /dev/sda2</code> \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 EXT4 \u092e\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#mounting-partitions","title":"Mounting Partitions","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0947\u0902</li> <li><code># swapon /dev/sda1</code> \u0938\u094d\u0935\u0948\u092a \u0935\u093f\u092d\u093e\u091c\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-in/#disk-partitioning","title":"Disk Partitioning","text":"<p>\u0928\u093e\u092e \u0928\u093f\u0930\u094d\u0926\u0947\u0936\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u093e \u0921\u093f\u0938\u094d\u0915 \u092a\u0939\u091a\u093e\u0928\u0947\u0902\u0964 \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f, SSD /dev/sda \u092f\u093e \u090f\u092e\u0964 2 /dev/nvme0n1 \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902 \u0914\u0930 \u0905\u0902\u0924\u0924\u0903, \u090f\u0915 virtual disk /dev/vda \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902\u0964</p> <p><code># lsblk -l</code></p> <p>\u092e\u093e\u0928 \u0932\u0947\u0924\u0947 \u0939\u0948\u0902 \u0915\u093f \u0939\u092e\u093e\u0930\u0947 \u092a\u093e\u0938 128GiB SSD \u0939\u0948\u0902 \u0914\u0930 \u0939\u092e UEFI \u0938\u094d\u0925\u093e\u092a\u0928\u093e \u0915\u0947 \u0932\u093f\u090f GPT \u0935\u093f\u092d\u093e\u091c\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0947\u0902\u0917\u0947:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> EFI \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 EFI \u0938\u093f\u0938\u094d\u091f\u092e \u0935\u093f\u092d\u093e\u091c\u0928 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902</li> <li><code># 4Gib</code> \u0938\u094d\u0935\u0948\u092a \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 \u0938\u094d\u0935\u0948\u092a \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902</li> <li><code># 23.5Gib</code>  \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># 100Gib</code> \u0939\u094b\u092e \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># write (yes)</code> \u0914\u0930 <code>quit</code> \u092c\u0926\u0932\u093e\u0935 \u0932\u093f\u0916\u0947\u0902 \u0914\u0930 \u092c\u093e\u0939\u0930 \u0928\u093f\u0915\u0932\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#formatting-partitions_1","title":"Formatting Partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> \u092c\u0942\u091f \u0915\u0947 \u0932\u093f\u090f FAT32 \u092e\u0947\u0902 EFI \u0938\u093f\u0938\u094d\u091f\u092e \u0935\u093f\u092d\u093e\u091c\u0928</li> <li><code># mkswap /dev/sda2</code> \u0938\u094d\u0935\u0948\u092a \u0935\u093f\u092d\u093e\u091c\u0928 </li> <li><code># mkfs.ext4 /dev/sda3</code> \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 EXT4 \u092e\u0947\u0902</li> <li><code># mkfs.ext4 /dev/sda4</code> \u0939\u094b\u092e \u0935\u093f\u092d\u093e\u091c\u0928 EXT4 \u092e\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#mounting-partitions_1","title":"Mounting Partitions","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0947\u0902</li> <li><code># mkdir -p /mnt/{home,boot}</code> /home \u0914\u0930 /boot \u0928\u093f\u0930\u094d\u092e\u093f\u0924 \u0915\u0930\u0947\u0902</li> <li><code># mount /dev/sda4 /mnt/home</code> \u0939\u094b\u092e \u0935\u093f\u092d\u093e\u091c\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0947\u0902</li> <li><code># mount /dev/sda1 /mnt/boot</code> \u092c\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0947\u0902</li> <li><code># swapon /dev/sda2</code> \u0938\u094d\u0935\u0948\u092a \u0935\u093f\u092d\u093e\u091c\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-in/#disk-partitioning_1","title":"Disk Partitioning","text":"<p>\u0928\u093e\u092e \u0928\u093f\u0930\u094d\u0926\u0947\u0936\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u093e \u0921\u093f\u0938\u094d\u0915 \u092a\u0939\u091a\u093e\u0928\u0947\u0902\u0964 \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f, SSD /dev/sda \u092f\u093e \u090f\u092e\u0964 2 /dev/nvme0n1 \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902 \u0914\u0930 \u0905\u0902\u0924\u0924\u0903, \u090f\u0915 \u0935\u0930\u094d\u091a\u0941\u0905\u0932 \u0921\u093f\u0938\u094d\u0915 /dev/vda \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902\u0964</p> <p><code># lsblk -l</code></p> <p>\u092e\u093e\u0928 \u0932\u0947\u0924\u0947 \u0939\u0948\u0902 \u0915\u093f \u0939\u092e\u093e\u0930\u0947 \u092a\u093e\u0938 128GiB SSD \u0939\u0948\u0902 \u0914\u0930 \u0939\u092e UEFI \u0938\u094d\u0925\u093e\u092a\u0928\u093e \u0915\u0947 \u0932\u093f\u090f GPT \u0935\u093f\u092d\u093e\u091c\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0947\u0902\u0917\u0947:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> EFI \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 EFI \u0938\u093f\u0938\u094d\u091f\u092e \u0935\u093f\u092d\u093e\u091c\u0928 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902</li> <li><code># 27.5Gib</code>  \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># 100Gib</code> \u0939\u094b\u092e \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># write (yes)</code> \u0914\u0930 <code>quit</code> \u092c\u0926\u0932\u093e\u0935 \u0932\u093f\u0916\u0947\u0902 \u0914\u0930 \u092c\u093e\u0939\u0930 \u0928\u093f\u0915\u0932\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#formatting-partitions_2","title":"Formatting Partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> \u092c\u0942\u091f \u0915\u0947 \u0932\u093f\u090f FAT32 \u092e\u0947\u0902 EFI \u0938\u093f\u0938\u094d\u091f\u092e \u0935\u093f\u092d\u093e\u091c\u0928</li> <li><code># mkfs.btrfs /dev/sda2</code> \u0930\u0942\u091f \u0935\u093f\u092d\u093e\u091c\u0928 BTRFS \u092e\u0947\u0902</li> <li><code># mkfs.btrfs /dev/sda3</code> \u0939\u094b\u092e \u0935\u093f\u092d\u093e\u091c\u0928 BTRFS \u092e\u0947\u0902</li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#mounting-partitions_2","title":"Mounting Partitions","text":"<p>@ \u0914\u0930 @home \u0938\u092c\u0935\u094b\u0932\u094d\u092f\u0942\u092e \u092c\u0928\u093e\u090f\u0902:</p> <ul> <li><code># mount /dev/sda2 /mnt</code></li> <li><code># btrfs su cr /mnt/@</code></li> <li><code># umount /mnt</code></li> <li><code># mount /dev/sda3 /mnt</code></li> <li><code># btrfs su cr /mnt/@home</code></li> <li><code># umount /mnt</code></li> <li><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></li> <li><code># mkdir -p /mnt/{home,boot}</code> /home \u0914\u0930 /boot \u0928\u093f\u0930\u094d\u092e\u093f\u0924 \u0915\u0930\u0947\u0902</li> <li><code># mount /dev/sda1 /mnt/boot</code></li> <li><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-in/#disk-partitioning_2","title":"Disk Partitioning","text":"<p>\u0928\u093e\u092e \u0928\u093f\u0930\u094d\u0926\u0947\u0936\u0928 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u093e \u0921\u093f\u0938\u094d\u0915 \u092a\u0939\u091a\u093e\u0928\u0947\u0902\u0964 \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f, SSD /dev/sda \u092f\u093e \u090f\u092e\u0964 2 /dev/nvme0n1 \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902 \u0914\u0930 \u0905\u0902\u0924\u0924\u0903, \u090f\u0915 virtual disk /dev/vda \u0915\u0947 \u092e\u093e\u092e\u0932\u0947 \u092e\u0947\u0902\u0964</p> <p><code># lsblk -l</code></p> <p>\u092e\u093e\u0928 \u0932\u0947\u0924\u0947 \u0939\u0948\u0902 \u0915\u093f \u0939\u092e\u093e\u0930\u0947 \u092a\u093e\u0938 LVM \u0915\u0947 \u0932\u093f\u090f 3 128GiB \u0921\u093f\u0938\u094d\u0915 \u0939\u0948\u0902: sda sdb sdc \u090f\u0915 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 cfdisk \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0947\u0902:</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512Mib</code> EFI \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 EFI \u0938\u093f\u0938\u094d\u091f\u092e \u0935\u093f\u092d\u093e\u091c\u0928 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902</li> <li><code># 127.5GiB</code> \u092a\u093e\u0930\u0917\u092e\u0928 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 LVM \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u091a\u092f\u0928 \u0915\u0930\u0947\u0902</li> <li><code># write (yes)</code> \u0914\u0930 <code>quit</code> \u0932\u093f\u0916\u0947\u0902 \u092c\u0926\u0932\u093e\u0935 \u0932\u093f\u0916\u0947\u0902 \u0914\u0930 \u092c\u093e\u0939\u0930 \u0928\u093f\u0915\u0932\u0947\u0902</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> LVM \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># write (yes)</code> \u0914\u0930 <code>quit</code> \u092c\u0926\u0932\u093e\u0935 \u0932\u093f\u0916\u0947\u0902 \u0914\u0930 \u092c\u093e\u0939\u0930 \u0928\u093f\u0915\u0932\u0947\u0902</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128GiB</code> LVM \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u090f\u0902</li> <li><code># write (yes)</code> \u0914\u0930 <code>quit</code> \u092c\u0926\u0932\u093e\u0935 \u0932\u093f\u0916\u0947\u0902 \u0914\u0930 \u092c\u093e\u0939\u0930 \u0928\u093f\u0915\u0932\u0947\u0902</li> </ul> <p>LVM \u0915\u0947 \u0924\u0939\u0924 \u0935\u093f\u092d\u093e\u091c\u0928 \u092c\u0928\u093e\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, \u0939\u092e\u0947\u0902 \u0938\u092c\u0938\u0947 \u092a\u0939\u0932\u0947 Physical volume \u092c\u0928\u093e\u0928\u093e \u092a\u0921\u093c\u0947\u0917\u093e:</p>"},{"location":"en/Archlinux-Guide/guida-in/#physical-volume","title":"Physical Volume \u092c\u0928\u093e\u090f\u0902","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-in/#_1","title":"\u0935\u0949\u0932\u094d\u092f\u0942\u092e \u0917\u094d\u0930\u0941\u092a \u092c\u0928\u093e\u090f\u0902","text":"<p>\u0905\u092a\u0928\u0940 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u0917\u094d\u0930\u0941\u092a \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 \u0935\u093f\u0938\u094d\u0924\u093e\u0930 \u0926\u0947\u0902; \u0906\u092a\u0915\u094b \u090f\u0915 \u092f\u093e \u090f\u0915 \u0938\u0947 \u0905\u0927\u093f\u0915 \u092b\u093f\u091c\u093f\u0915\u0932 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u092a\u0930 \u090f\u0915 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u0917\u094d\u0930\u0941\u092a \u092c\u0928\u093e\u0928\u0947 \u0915\u0940 \u0906\u0935\u0936\u094d\u092f\u0915\u0924\u093e \u0939\u094b\u0917\u0940 <code># vgcreate volume_group physical_volume</code>, \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f:</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>\u092f\u0939 \u0906\u0926\u0947\u0936 \u092a\u0939\u0932\u0947 \u0924\u0940\u0928 \u0935\u093f\u092d\u093e\u091c\u0928\u094b\u0902 \u0915\u094b \u092b\u093f\u091c\u093f\u0915\u0932 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u092e\u0947\u0902 \u0938\u0947\u091f \u0915\u0930\u0947\u0917\u093e (\u091c\u0930\u0942\u0930\u0924 \u092a\u0921\u093c\u0928\u0947 \u092a\u0930), \u0914\u0930 \u092b\u093f\u0930 \u0924\u0940\u0928 \u0935\u0949\u0932\u094d\u092f\u0942\u092e\u094b\u0902 \u0915\u0947 \u0938\u093e\u0925 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u0917\u094d\u0930\u0941\u092a \u092c\u0928\u093e\u090f\u0917\u093e\u0964 \u0906\u092a\u0915\u094b \u0907\u0938 \u0906\u0926\u0947\u0936 \u092e\u0947\u0902 \u092c\u0924\u093e\u092f\u093e \u091c\u093e\u090f\u0917\u093e \u092f\u0926\u093f \u0907\u0938\u0947 \u0915\u093f\u0938\u0940 \u092d\u0940 \u0921\u093f\u0935\u093e\u0907\u0938 \u092a\u0930 \u092a\u0939\u0932\u0947 \u0938\u0947 \u0939\u0940 \u092e\u094c\u091c\u0942\u0926 \u0939\u094b\u0928\u0947 \u0935\u093e\u0932\u0947 \u0938\u0942\u091a\u0940 \u0915\u093e \u092a\u0924\u093e \u0932\u0917\u093e\u0924\u093e \u0939\u0948\u0964</p>"},{"location":"en/Archlinux-Guide/guida-in/#_2","title":"\u0932\u0949\u091c\u093f\u0915\u0932 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u092c\u0928\u093e\u090f\u0902","text":"<p>\u0932\u0949\u091c\u093f\u0915\u0932 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u092c\u0928\u093e\u090f\u0902, \u090f\u0915 \u092c\u0947\u0938\u093f\u0915 \u0935\u093f\u0928\u094d\u092f\u093e\u0938 \u0915\u0947 \u0932\u093f\u090f, \u0939\u092e\u0947\u0902 \u090f\u0915-\u090f\u0915 \u0915\u0930\u0915\u0947 \u0930\u0942\u091f, \u0938\u094d\u0935\u0948\u092a \u0914\u0930 \u0939\u094b\u092e \u092a\u0930 \u090f\u0915 \u0932\u0949\u091c\u093f\u0915\u0932 \u0935\u0949\u0932\u094d\u092f\u0942\u092e \u091a\u093e\u0939\u093f\u090f\u0964</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#formatting-partitions_3","title":"Formatting Partitions","text":"<ul> <li><code>#mkfs.vfat -F32 /dev/sda1</code> EFI \u0938\u093f\u0938\u094d\u091f\u092e \u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u0915\u094b \u092c\u0942\u091f \u0915\u0947 \u0932\u093f\u090f FAT32 \u092e\u0947\u0902 \u092c\u0928\u093e\u090f\u0902\u0964</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#_3","title":"\u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u092e\u093e\u0909\u0902\u091f \u0915\u0930\u0928\u093e","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code></li> <li><code># mkdir -p /mnt/{home,boot}</code> /home \u0914\u0930 /boot \u0928\u093f\u0930\u094d\u092e\u093f\u0924 \u0915\u0930\u0947\u0902</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code></li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#_4","title":"\u090f\u0932\u0935\u0940\u090f\u092e \u0938\u092e\u0942\u0939 \u092c\u0922\u093c\u093e\u090f\u0902","text":"<p>\u092d\u0935\u093f\u0937\u094d\u092f \u092e\u0947\u0902 \u091c\u092c \u0906\u092a \u0938\u092e\u0942\u0939 \u092e\u0947\u0902 \u090f\u0915 \u0928\u092f\u093e \u092d\u094c\u0924\u093f\u0915 \u0916\u0902\u0921 \u091c\u094b\u0921\u093c\u0928\u093e \u091a\u093e\u0939\u0947\u0902\u0917\u0947, \u0924\u094b \u092e\u0948\u0902\u0928\u0947 \u092a\u0939\u0932\u0947 \u091c\u093f\u0924\u0928\u0947 \u0921\u093f\u0938\u094d\u0915 \u0926\u093f\u090f \u0925\u0947, \u0909\u0928\u092e\u0947\u0902 \u0938\u0947 \u090f\u0915 \u091a\u094c\u0925\u093e \u0921\u093f\u0938\u094d\u0915 sdd \u0939\u0948 \u0914\u0930 \u092e\u0948\u0902\u0928\u0947 \u0909\u0938\u0947 \u092a\u0939\u0932\u0947 \u091c\u093f\u0924\u0928\u0947 \u092a\u093e\u0930\u094d\u091f\u093f\u0936\u0928 \u0915\u093f\u090f \u0925\u0947, \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f \u0939\u092e \u0924\u094d\u0935\u0930\u093f\u0924 \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u092a\u094d\u0930\u092f\u094b\u0917 \u0915\u0930\u0947\u0902\u0917\u0947, \u0939\u092e \u0935\u093f\u0935\u0930\u0923 \u092e\u0947\u0902 \u091c\u0917\u0939 \u092c\u0922\u093c\u093e\u0924\u0947 \u0939\u0948\u0902 <code>/dev/lvm/home</code>:</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#5-mirrorlist","title":"5. Mirrorlist","text":"<p>\u0915\u0902\u091f\u0947\u0928\u0930 \u0915\u094b \u0938\u093f\u0902\u0915\u094d\u0930\u0928\u093e\u0907\u091c\u093c \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0926\u0947\u0936 \u0915\u094b \u0928\u093f\u0930\u094d\u0926\u093f\u0937\u094d\u091f \u0915\u0930\u0924\u0947 \u0939\u0941\u090f reflector \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0947\u0902, \u0930\u093f\u092a\u0949\u091c\u093f\u091f\u094d\u0930\u0940 \u0915\u0947 \u0932\u093f\u090f \u092e\u093f\u0930\u0930\u0932\u093f\u0938\u094d\u091f \u0915\u094b /etc/pacman.d/mirrorlist \u092e\u0947\u0902 \u0938\u0939\u0947\u091c\u0947\u0902, \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f it, \u090f\u0915 \u092f\u093e \u090f\u0915 \u0938\u0947 \u0905\u0927\u093f\u0915 \u0926\u0947\u0936 \u091c\u094b\u0921\u093c\u0947\u0902, \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#6-pacstrap","title":"6. Pacstrap","text":"<p>\u0905\u092a\u0928\u0940 Arch \u0938\u093f\u0938\u094d\u091f\u092e \u092c\u0928\u093e\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f Linux kernel \u0914\u0930 \u092c\u0947\u0938 \u092a\u0948\u0915\u0947\u091c \u0915\u094b \u0907\u0902\u0938\u094d\u091f\u0949\u0932 \u0915\u0930\u0947\u0902, \u0907\u0938\u0915\u0947 \u0905\u0932\u093e\u0935\u093e vim \u091c\u0948\u0938\u093e \u090f\u0915 \u090f\u0921\u093f\u091f\u0930 \u092d\u0940 \u091c\u094b\u0921\u093c\u0947\u0902\u0964 \u092f\u0926\u093f \u0906\u092a lvm \u0915\u0947 \u0932\u093f\u090f \u0938\u094d\u0925\u093e\u092a\u0928\u093e \u0915\u093e \u092a\u093e\u0932\u0928 \u0915\u0930 \u0930\u0939\u0947 \u0939\u0948\u0902, \u0924\u094b \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u0915\u092e\u093e\u0902\u0921 \u092e\u0947\u0902 <code>lvm2</code> \u092a\u0948\u0915\u0947\u091c \u0915\u094b \u0936\u093e\u092e\u093f\u0932 \u0915\u0930\u0947\u0902:</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#7-fstab","title":"7. Fstab \u092c\u0928\u093e\u090f\u0902","text":"<p>/etc/fstab \u092b\u093c\u093e\u0907\u0932 \u092c\u0942\u091f \u0915\u0947 \u0938\u092e\u092f \u0906\u092a\u0915\u0947 \u0932\u093f\u0928\u0915\u094d\u0938 \u0938\u093f\u0938\u094d\u091f\u092e \u092a\u0930 \u092e\u093e\u0909\u0902\u091f \u0939\u094b\u0928\u0947 \u0935\u093e\u0932\u0940 \u092b\u093c\u093e\u0907\u0932 \u0938\u093f\u0938\u094d\u091f\u092e \u0915\u094b \u0928\u093f\u092f\u0902\u0924\u094d\u0930\u093f\u0924 \u0915\u0930\u0928\u0947 \u0915\u0940 \u0905\u0928\u0941\u092e\u0924\u093f \u0926\u0947\u0924\u0940 \u0939\u0948, \u091c\u093f\u0938\u092e\u0947\u0902 \u0935\u093f\u0902\u0921\u094b\u091c \u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u0914\u0930 \u0928\u0947\u091f\u0935\u0930\u094d\u0915 \u0936\u0947\u092f\u0930 \u0936\u093e\u092e\u093f\u0932 \u0939\u094b\u0924\u0947 \u0939\u0948\u0902:</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#8-chroot","title":"8. Chroot","text":"<p>\u0909\u0938 Chroot \u092e\u0947\u0902 \u091c\u093e\u090f\u0902 \u0914\u0930 \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u091a\u0930\u0923\u094b\u0902 \u0915\u094b \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902: localtime, systemclock, \u092d\u093e\u0937\u093e, \u0915\u0941\u0902\u091c\u0940\u092a\u091f\u0932\u092e\u093e\u0928\u091a\u093f\u0924\u094d\u0930 \u0928\u0915\u094d\u0936\u0947, localhost, \u0930\u0942\u091f \u092a\u093e\u0938\u0935\u0930\u094d\u0921, \u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0938\u0943\u091c\u0928 \u0914\u0930 \u092a\u093e\u0938\u0935\u0930\u094d\u0921\u0964</p> <p>chroot \u092e\u0947\u0902 \u091c\u093e\u090f\u0902:</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#_5","title":"\u0938\u092e\u092f \u0915\u094d\u0937\u0947\u0924\u094d\u0930","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#_6","title":"\u0938\u094d\u0925\u093e\u0928\u0940\u092f\u0915\u0930\u0923","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#_7","title":"\u0939\u094b\u0938\u094d\u091f\u0928\u093e\u092e \u0914\u0930 \u0939\u094b\u0938\u094d\u091f","text":"<ul> <li><code># echo \"\u0906\u092a\u0915\u093e \u092e\u0936\u0940\u0928 \u0928\u093e\u092e\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#_8","title":"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0914\u0930 \u0930\u0942\u091f","text":"<p>\u0927\u094d\u092f\u093e\u0928 \u0926\u0947\u0902, \u092f\u0939 \u0938\u093e\u0935\u0927\u093e\u0928\u0940\u092a\u0942\u0930\u094d\u0935\u0915 \u0939\u094b \u0938\u0915\u0924\u093e \u0939\u0948, \u0930\u0942\u091f \u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u0915\u094b \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902\u0964</p> <p><code># passwd</code></p> <p>\u0928\u090f \u0932\u094b\u0905\u0930 \u0915\u0947\u0938 \u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0915\u094b \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902, <code>-m</code> \u0915\u0947 \u0938\u093e\u0925 \u0928\u093f\u0930\u094d\u0926\u093f\u0937\u094d\u091f \u0915\u093f\u090f \u0917\u090f \u0921\u093e\u092f\u0930\u0947\u0915\u094d\u091f\u0930\u0940 <code>/home/USERNAME</code> \u092c\u0928\u093e\u090f\u0902, <code>-G</code> \u0938\u092e\u0942\u0939 <code>wheel</code> \u091c\u094b\u0921\u093c\u0947\u0902 \u0914\u0930 \u0936\u0947\u0932 \u0926\u0930\u094d\u091c \u0915\u0930\u0947\u0902 <code>/ -s</code>:</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>\u0935\u093e\u0938\u094d\u0924\u0935\u093f\u0915 \u0928\u093e\u092e \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902 (\u091c\u094b \u0909\u091a\u094d\u091a \u0906\u0930\u0902\u092d\u093f\u0915 \u0905\u0915\u094d\u0937\u0930\u094b\u0902 \u0915\u0947 \u0938\u093e\u0925 \u0917\u094d\u0930\u093e\u092b\u093f\u0915 \u092e\u0947\u0902 \u0926\u093f\u0916\u0924\u093e \u0939\u0948, \u0909\u0926\u093e\u0939\u0930\u0923 \u0915\u0947 \u0932\u093f\u090f \"Alessio\"):</p> <p><code># usermod -c 'REALNAME' USERNAME</code></p> <p>\u0928\u0908 \u091c\u094b\u0921\u093c\u0940 \u0917\u0908 \u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0915\u0947 \u0932\u093f\u090f \u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902, \u0938\u093e\u0935\u0927\u093e\u0928 \u0930\u0939\u0947\u0902!</p> <p><code># passwd USERNAME</code></p> <p>\u0938\u094d\u0935\u0940\u0915\u0943\u0924 \u0938\u094d\u0935\u0940\u0921\u0935\u093f\u0902\u0921\u094b\u091c\u093c\u0940\u0913\u0930\u094d\u0938 \u0915\u0947 \u0932\u093f\u090f \u0938\u0942\u0921\u094b\u090f\u0930\u094d\u0938 \u092b\u093c\u093e\u0907\u0932 \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902:</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#mkinitcpio","title":"\u090f\u0932\u0935\u0940\u090f\u092e \u0915\u0947 \u0932\u093f\u090f mkinitcpio","text":"<p>lvm \u0915\u0947 \u0932\u093f\u090f \u0939\u0941\u0915\u094d\u0938 \u092e\u0947\u0902 lvm2 \u091c\u094b\u0921\u093c\u0947\u0902, /etc/mkinitcpio.conf \u092e\u0947\u0902\u0964</p> <p><code>HOOKS = \"base udev...block lvm2 filesystems\"</code></p> <p>\u092a\u0941\u0928: \u0932\u093f\u0928\u0915\u094d\u0938 \u0915\u0947 \u0932\u093f\u090f \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u0906\u0926\u0947\u0936 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0947\u0902:</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#9","title":"9. \u092c\u0942\u091f\u0932\u094b\u0921\u0930","text":""},{"location":"en/Archlinux-Guide/guida-in/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB \u092a\u0942\u0930\u0940 \u0924\u0930\u0939 \u0938\u0947 CA \u0915\u0941\u0902\u091c\u0940 \u092f\u093e \u0936\u093f\u092e \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0938\u092e\u0930\u094d\u0925\u093f\u0924 \u0915\u0930\u0924\u093e \u0939\u0948, \u0939\u093e\u0932\u093e\u0902\u0915\u093f, \u0906\u092a \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902 \u0909\u0938\u0915\u0947 \u0906\u0927\u093e\u0930 \u092a\u0930 \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u0915\u094b\u092e\u093e\u0902\u0921 \u0905\u0932\u0917-\u0905\u0932\u0917 \u0939\u094b\u0924\u0947 \u0939\u0948\u0902\u0964</p> <p>CA \u0915\u0941\u0902\u091c\u093f\u092f\u094b\u0902 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, \u0930\u0923\u0928\u0940\u0924\u093f \u092f\u0939 \u0939\u0948:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>\u0936\u093f\u092e \u0932\u0949\u0915 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, \u0930\u0923\u0928\u0940\u0924\u093f \u092f\u0939 \u0939\u0948:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u0905\u092c vim \u0915\u0947 \u0938\u093e\u0925 \u0916\u0941\u0932\u0940 \u0905\u092d\u093f\u0932\u0947\u0916 \u092b\u093c\u093e\u0907\u0932 arch.conf \u0915\u093e \u0935\u093f\u0928\u094d\u092f\u093e\u0938 \u092c\u0928\u093e\u090f\u0902, \u0907\u0938\u092e\u0947\u0902 root \u092c\u0942\u091f \u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u091c\u0948\u0938\u0947 <code>root=/dev/sdax</code> \u0915\u094b \u0938\u0939\u0940 \u0924\u0930\u0940\u0915\u0947 \u0938\u0947 \u0932\u093f\u0916\u0928\u093e \u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u0939\u0948 \u091c\u0939\u093e\u0902 <code>x</code> \u0930\u0942\u091f \u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u0915\u0940 \u0938\u0902\u0916\u094d\u092f\u093e \u0939\u0948\u0964</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u0905\u092c vim \u0915\u0947 \u0938\u093e\u0925 \u0916\u0941\u0932\u0940 \u0905\u092d\u093f\u0932\u0947\u0916 \u092b\u093c\u093e\u0907\u0932 arch.conf \u0915\u093e \u0935\u093f\u0928\u094d\u092f\u093e\u0938 \u092c\u0928\u093e\u090f\u0902, \u0907\u0938\u092e\u0947\u0902 root \u092c\u0942\u091f \u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u091c\u0948\u0938\u0947 <code>root=/dev/sdax</code> \u0915\u094b \u0938\u0939\u0940 \u0924\u0930\u0940\u0915\u0947 \u0938\u0947 \u0932\u093f\u0916\u0928\u093e \u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u0939\u0948 \u0914\u0930 @ \u0909\u092a\u0935\u0930\u094d\u0917 \u0915\u0947 \u0932\u093f\u090f \u091d\u0902\u0921\u093e \u091c\u094b\u0921\u093c\u0947\u0902\u0964</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u0905\u092c vim \u0915\u0947 \u0938\u093e\u0925 \u0916\u0941\u0932\u0940 \u0905\u092d\u093f\u0932\u0947\u0916 \u092b\u093c\u093e\u0907\u0932 arch.conf \u0915\u093e \u0935\u093f\u0928\u094d\u092f\u093e\u0938 \u092c\u0928\u093e\u090f\u0902, lvm \u0915\u0947 \u0932\u093f\u090f \u0909\u091a\u093f\u0924 \u0930\u0942\u091f \u092c\u0942\u091f \u092a\u093e\u0930\u094d\u091f\u0940\u0936\u0928 \u091c\u0948\u0938\u0947 <code>root=/dev/mapper/lvm-root</code> \u0932\u093f\u0916\u0928\u093e \u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u0939\u0948\u0964</p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#10","title":"10. \u092c\u0947\u0938 \u092a\u0948\u0915\u0947\u091c","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#11","title":"11. \u0921\u0947\u0938\u094d\u0915\u091f\u0949\u092a \u0935\u093e\u0924\u093e\u0935\u0930\u0923","text":"<p>\u0915\u0941\u091b \u0938\u0941\u091d\u093e\u090f \u0917\u090f \u0932\u094b\u0915\u092a\u094d\u0930\u093f\u092f \u0921\u0947\u0938\u094d\u0915\u091f\u0949\u092a \u0935\u093e\u0924\u093e\u0935\u0930\u0923\u094b\u0902 \u092e\u0947\u0902 \u0938\u0947 \u091a\u0941\u0928\u0947\u0902:</p>"},{"location":"en/Archlinux-Guide/guida-in/#gnome","title":"Gnome","text":"<p>\u092a\u0942\u0930\u094d\u0923 Gnome \u091c\u0940\u0921\u0940\u090f\u092e \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0938\u0939\u093f\u0924\u0964</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#xfce4","title":"Xfce4","text":"<p>Xfce4 \u0932\u093e\u0907\u091f\u0921\u0940\u090f\u092e \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0915\u0947 \u0938\u093e\u0925\u0964</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#lxde","title":"Lxde","text":"<p>Lxde \u0932\u093e\u0907\u091f\u0921\u0940\u090f\u092e \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0915\u0947 \u0938\u093e\u0925\u0964</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#mate","title":"Mate","text":"<p>Mate \u0932\u093e\u0907\u091f\u0921\u0940\u090f\u092e \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0915\u0947 \u0938\u093e\u0925\u0964</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#plasma","title":"Plasma","text":"<p>SDDM \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0915\u0947 \u0938\u093e\u0925 \u092a\u094d\u0932\u093e\u091c\u094d\u092e\u093e \u0915\u0947 \u0938\u093e\u0925\u0964</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-in/#cinnamon","title":"Cinnamon","text":"<p>Cinnamon \u0932\u093e\u0907\u091f\u0921\u0940\u090f\u092e \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0915\u0947 \u0938\u093e\u0925\u0964</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#12","title":"12. \u0938\u0947\u0935\u093e\u090f\u0902","text":"<p>\u092f\u0926\u093f \u0906\u092a\u0928\u0947 \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u092a\u094d\u0930\u092c\u0902\u0927\u0915 \u0915\u0947 \u0932\u093f\u090f \u0938\u0947\u0935\u093e \u0938\u0915\u094d\u0937\u092e \u0915\u0930 \u0930\u0916\u0940 \u0939\u0948, \u0924\u094b \u0906\u092a \u0905\u0928\u094d\u092f \u0906\u0935\u0936\u094d\u092f\u0915 \u0938\u0947\u0935\u093e\u090f\u0902 \u0938\u0915\u094d\u0937\u092e \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0906\u0917\u0947 \u092c\u0922\u093c \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964</p> <ul> <li><code># systemctl enable NetworkManager</code> \u0927\u094d\u092f\u093e\u0928 \u0926\u0947\u0902, \u092f\u0939 \u0915\u0947\u0938 \u0938\u0902\u0935\u0947\u0926\u0928\u0936\u0940\u0932 \u0939\u094b\u0924\u093e \u0939\u0948\u0964</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-in/#13-zram","title":"13. Zram","text":"<p>\u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 \u0909\u0926\u093e\u0939\u0930\u0923 \u092e\u0947\u0902, \u0906\u092a\u0915\u094b \u090f\u0915\u0932 udev \u0928\u093f\u092f\u092e \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0915\u0947 zram \u092a\u0930 \u0938\u094d\u0935\u091a\u093e\u0932\u093f\u0924 \u0930\u0942\u092a \u0938\u0947 \u0938\u094d\u0935\u0948\u092a\u093f\u0902\u0917 \u0915\u0948\u0938\u0947 \u0915\u0949\u0928\u094d\u092b\u093c\u093f\u0917\u0930 \u0915\u0930\u0947\u0902 \u0907\u0938\u0915\u093e \u0935\u0930\u094d\u0923\u0928 \u0939\u0948\u0964 \u0907\u0938 \u0915\u093e\u092e \u0915\u0947 \u0932\u093f\u090f \u0915\u094b\u0908 \u0905\u0924\u093f\u0930\u093f\u0915\u094d\u0924 \u092a\u0948\u0915\u0947\u091c \u0915\u0940 \u0906\u0935\u0936\u094d\u092f\u0915\u0924\u093e \u0928\u0939\u0940\u0902 \u0939\u094b\u0928\u0940 \u091a\u093e\u0939\u093f\u090f\u0964</p> <p>\u0932\u094b\u0921 \u091c\u0932\u094d\u0926\u0940 \u0938\u0947 \u090f\u0915 \u092e\u0949\u0921\u094d\u092f\u0942\u0932:</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>\u0907\u0938 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u093e \u0928\u093f\u092e\u094d\u0928\u0932\u093f\u0916\u093f\u0924 udev \u0928\u093f\u092f\u092e \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 \u0938\u093e\u092e\u093e\u0928\u094d\u092f \u0930\u0942\u092a \u0938\u0947 \u0907\u0938\u0940 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0947 \u0932\u093f\u090f \u0906\u0935\u0936\u094d\u092f\u0915\u0924\u093e\u0928\u0941\u0938\u093e\u0930 \u0921\u093f\u0938\u094d\u0915\u0938\u093e\u0907\u091c \u0935\u093f\u0935\u0930\u0923 \u092e\u0947\u0902 \u0905\u0928\u0941\u0915\u0942\u0932\u0928 \u0915\u0930\u0947\u0902, \u0907\u0938 \u0909\u0926\u093e\u0939\u0930\u0923 \u092e\u0947\u0902 \u0907\u0938\u092e\u0947\u0902 \u0938\u094d\u0935\u0948\u092a \u0915\u093e \u0906\u0915\u093e\u0930 16G \u0939\u0948:</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>\u0905\u092a\u0928\u0940 fstab \u092e\u0947\u0902 /dev/zram \u0915\u094b \u092e\u0941\u0916\u094d\u092f\u0924\u0903 \u0921\u093f\u092b\u093c\u0949\u0932\u094d\u091f \u0938\u0947 \u0905\u0927\u093f\u0915 \u092a\u094d\u0930\u093e\u0925\u092e\u093f\u0915\u0924\u093e \u0926\u0947\u0902:</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/","title":"\ud83c\uddef\ud83c\uddf5 Arch Linux\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\uff03Arch Linux\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</p>"},{"location":"en/Archlinux-Guide/guida-jp/#1","title":"1.\u7f72\u540d\u306e\u691c\u8a3c","text":"<p>\u7279\u306bHTTP\u30df\u30e9\u30fc\u304b\u3089\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306e\u5834\u5408\u3001\u60aa\u610f\u306e\u3042\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306b\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u4f7f\u7528\u524d\u306b\u30a4\u30e1\u30fc\u30b8\u306e\u7f72\u540d\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u307e\u3059\u3002 GnuPG \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001ISO\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bPGP ISO\u7f72\u540d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u691c\u8a3c\u3057\u307e\u3059\u3002</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>\u307e\u305f\u306f\u3001Arch Linux\u306e\u65e2\u5b58\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#2","title":"2.\u521d\u671f\u69cb\u6210","text":"<p>\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u8a00\u8a9e\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a00\u8a9e\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u3092\u5165\u529b\u305b\u305a\u306b\u3001\u5229\u7528\u53ef\u80fd\u306a\u30ec\u30a4\u30a2\u30a6\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u30ea\u30b9\u30c8\u3067\u304d\u307e\u3059\u3002</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u8a00\u8a9e\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p><code># loadkeys it</code></p> <p>\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u6587\u5b57\u306f/usr/share/kbd/consolefonts/ \u3067\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u3001setfont\u3067\u3082\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001HiDPI\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u9069\u3057\u305f\u5927\u304d\u306a\u6587\u5b57\u306e\u3046\u3061\u306e1\u3064\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#3","title":"3.\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a","text":"<p>\u6709\u7dda\u307e\u305f\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4ecb\u3057\u3066\u30de\u30b7\u30f3\u3092\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3057\u305f\u5834\u5408\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u53d6\u5f97\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <p><code># ip a</code></p> <p>\u63a5\u7d9a\u306fping\u30c6\u30b9\u30c8\u30b3\u30de\u30f3\u30c9\u3067\u30c6\u30b9\u30c8\u3067\u304d\u307e\u3059\u3002</p> <p><code># ping -c 3 archlinux.org</code></p> <p>\u30c4\u30fc\u30eb\u300ciwctl\u300d\u3092\u4f7f\u7528\u3057\u3066Wi-Fi\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002</p> <ul> <li><code># iwctl</code> iwctl\u306e\u8d77\u52d5</li> <li><code># device list</code> \u30c7\u30d0\u30a4\u30b9\u540d\u3092\u898b\u3064\u3051\u308b\uff08\u4f8b\uff1awlan0\uff09</li> <li><code># station wlan0 scan</code> \u5229\u7528\u53ef\u80fd\u306a\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30b9\u30ad\u30e3\u30f3</li> <li><code># station wlan0 get-networks</code> \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97</li> <li><code># station wlan0</code> \u3042\u306a\u305f\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540d\u306b\u63a5\u7d9a</li> <li><code># exit</code></li> </ul> <p>\u30c7\u30d0\u30a4\u30b9\u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u3066 iwctl \u3092\u5b9f\u884c\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <ul> <li><code># rfkill list</code> \u30c7\u30d0\u30a4\u30b9\u306e\u30d6\u30ed\u30c3\u30af\u307e\u305f\u306f\u30a2\u30f3\u30d6\u30ed\u30c3\u30af\u3055\u308c\u305f\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</li> <li><code># rfkill unblock all</code> \u30d6\u30ed\u30c3\u30af\u3055\u308c\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u3059\u3079\u3066\u89e3\u9664\u3057\u307e\u3059\u3002</li> <li><code># systemctl restart iwd</code> iwd\u30b5\u30fc\u30d3\u30b9\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002</li> </ul> <p><code>\uff03iwctl</code>\u3092\u518d\u8a66\u884c\u3057\u3066\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#4","title":"4.\u30c7\u30a3\u30b9\u30af\u306e\u6e96\u5099","text":"<ul> <li>[Bios-MBR ext4]\uff08\uff03bios-mbr\uff09</li> <li>[UEFI ext4]\uff08\uff03uefi-ext4\uff09</li> <li>[UEFI btrfs]\uff08\uff03uefi-btrfs\uff09</li> <li>[UEFI lvm EXT4]\uff08\uff03uefi-lvm-ext4\uff09</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guida-jp/#_1","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0","text":"<p>\u30c7\u30a3\u30b9\u30af\u306e\u540d\u524d\u4ed8\u3051\u898f\u5247\u3092\u77e5\u308b\u305f\u3081\u306b\u30c7\u30a3\u30b9\u30af\u3092\u8b58\u5225\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 SSD / dev / sda \u306e\u5834\u5408\u3084\u3001 M.2 / dev / nvme0n1 \u306e\u5834\u5408\u3001\u305d\u3057\u3066\u6700\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af/ dev / vda\u306e\u5834\u5408\u3002</p> <p><code># lsblk -l</code></p> <p>\u30c7\u30a3\u30b9\u30af\u306e\u540d\u524d\u4ed8\u3051\u304c\u7279\u5b9a\u3055\u308c\u305f\u3089\u3001\u3053\u3053\u3067\u306f / dev / sda \u3092\u6301\u3063\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u307e\u3059\u3002 cfdisk\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002raw\u30c7\u30a3\u30b9\u30af\u306e\u5834\u5408\u306f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u306e\u30bf\u30a4\u30d7\u3092\u5c0b\u306d\u3089\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u306f\u3001\u300cDOS\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p><code># cfdisk /dev/sda</code></p> <p>\u57fa\u672c\u7684\u306a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u305f\u3081\u306b\u5fc5\u8981\u306a\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 128GiB SSD \u3092\u6301\u3063\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3059\u308b\u5834\u5408\uff1a</p> <ul> <li><code># 4Gib</code> \u30b9\u30ef\u30c3\u30d7\u7528\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001\u30b9\u30ef\u30c3\u30d7\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u307e\u3059</li> <li><code># 124Gib</code> \u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># write\uff08yes\uff09</code>\u304a\u3088\u3073<code>quit</code> \u5909\u66f4\u3092\u66f8\u304d\u8fbc\u3093\u3067\u7d42\u4e86\u3057\u307e\u3059</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_2","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<ul> <li><code># mkswap /dev/sda1</code> \u30b9\u30ef\u30c3\u30d7\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3</li> <li><code># mkfs.ext4 /dev/sda2</code> Root\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_3","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30de\u30a6\u30f3\u30c8","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> \u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059</li> <li><code># swapon /dev/sda1</code> \u30b9\u30ef\u30c3\u30d7\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-jp/#_4","title":"\u30c7\u30a3\u30b9\u30af\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0","text":"<p>\u30c7\u30a3\u30b9\u30af\u306e\u540d\u524d\u4ed8\u3051\u898f\u5247\u3092\u77e5\u308b\u305f\u3081\u306b\u30c7\u30a3\u30b9\u30af\u3092\u8b58\u5225\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 SSD /dev/sda \u306e\u5834\u5408\u3084\u3001 M.2 /dev/nvme0n1 \u306e\u5834\u5408\u3001\u305d\u3057\u3066\u6700\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af/ dev / vda\u306e\u5834\u5408\u3002</p> <p><code># lsblk -l</code></p> <p>** 128GiB SSD **\u3092\u6301\u3063\u3066\u3044\u308b\u3068\u3057\u3001UEFI\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u305f\u3081\u306bGPT\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\uff1a</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> EFI\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001EFI\u30b7\u30b9\u30c6\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u307e\u3059</li> <li><code># 4Gib</code> \u30b9\u30ef\u30c3\u30d7\u7528\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001\u30b9\u30ef\u30c3\u30d7\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u307e\u3059</li> <li><code># 23.5Gib</code>  \u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># 100Gib</code>  \u30db\u30fc\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># write\uff08yes\uff09</code>\u304a\u3088\u3073<code>quit</code> \u5909\u66f4\u3092\u66f8\u304d\u8fbc\u3093\u3067\u7d42\u4e86\u3057\u307e\u3059</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_5","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI\u30b7\u30b9\u30c6\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in FAT32\u30d6\u30fc\u30c8\u7528</li> <li><code># mkswap /dev/sda2</code> \u30b9\u30ef\u30c3\u30d7\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3</li> <li><code># mkfs.ext4 /dev/sda3</code> Root\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> Home\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_6","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> \u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059</li> <li><code># mkdir -p /mnt/{home,boot}</code>  /home\u3068/boot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210</li> <li><code># mount /dev/sda4 /mnt/home</code> \u30db\u30fc\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059</li> <li><code># mount /dev/sda1 /mnt/boot</code>  \u30d6\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059</li> <li><code># swapon /dev/sda2</code>  \u30b9\u30ef\u30c3\u30d7\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-jp/#_7","title":"\u30c7\u30a3\u30b9\u30af\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0","text":"<p>\u30c7\u30a3\u30b9\u30af\u306e\u540d\u524d\u4ed8\u3051\u898f\u5247\u3092\u77e5\u308b\u305f\u3081\u306b\u30c7\u30a3\u30b9\u30af\u3092\u8b58\u5225\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 SSD /dev/sda \u306e\u5834\u5408\u3084\u3001 M.2 /dev/nvme0n1 \u306e\u5834\u5408\u3001\u305d\u3057\u3066\u6700\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af/ dev / vda\u306e\u5834\u5408\u3002</p> <p><code># lsblk -l</code></p> <p>** 128GiB SSD **\u3092\u6301\u3063\u3066\u3044\u308b\u3068\u3057\u3001UEFI\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u305f\u3081\u306bGPT\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\uff1a</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> EFI\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001EFI\u30b7\u30b9\u30c6\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u307e\u3059</li> <li><code># 27.5Gib</code>  \u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># 100Gib</code>  \u30db\u30fc\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># write\uff08yes\uff09</code>\u304a\u3088\u3073<code>quit</code> \u5909\u66f4\u3092\u66f8\u304d\u8fbc\u3093\u3067\u7d42\u4e86\u3057\u307e\u3059</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_8","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI\u30b7\u30b9\u30c6\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in FAT32\u30d6\u30fc\u30c8\u7528</li> <li><code># mkfs.btrfs /dev/sda2</code> \u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> \u30db\u30fc\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in BTRFS</li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_9","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b","text":"<p>@\u304a\u3088\u3073@ home\u306e\u30b5\u30d6\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> /home\u3068/boot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059</p> </li> <li> <p><code># mount /dev/sda1 /mnt/boot</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-jp/#_10","title":"\u30c7\u30a3\u30b9\u30af\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0","text":"<p>\u30c7\u30a3\u30b9\u30af\u306e\u540d\u524d\u4ed8\u3051\u898f\u5247\u3092\u77e5\u308b\u305f\u3081\u306b\u30c7\u30a3\u30b9\u30af\u3092\u8b58\u5225\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 SSD /dev/sda \u306e\u5834\u5408\u3084\u3001 M.2 /dev/nvme0n1 \u306e\u5834\u5408\u3001\u305d\u3057\u3066\u6700\u5f8c\u306b\u4eee\u60f3\u30c7\u30a3\u30b9\u30af/ dev / vda\u306e\u5834\u5408\u3002</p> <p><code># lsblk -l</code></p> <p>** 3 128GiB\u30c7\u30a3\u30b9\u30af \u3092\u6301\u3061\u3001LVM\u306e\u305f\u3081\u306b\uff1a sda sdb sdc \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u30011\u3064\u306e\u30c7\u30a3\u30b9\u30af\u305a\u3064 cfdisk **\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512Mib</code> EFI\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001EFI\u30b7\u30b9\u30c6\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u307e\u3059</li> <li><code># 127.5GiB</code> LVM\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># write\uff08yes\uff09</code>\u304a\u3088\u3073<code>quit</code> \u5909\u66f4\u3092\u66f8\u304d\u8fbc\u3093\u3067\u7d42\u4e86\u3057\u307e\u3059</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> LVM\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># write\uff08yes\uff09</code>\u304a\u3088\u3073<code>quit</code> \u5909\u66f4\u3092\u66f8\u304d\u8fbc\u3093\u3067\u7d42\u4e86\u3057\u307e\u3059</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128GiB</code>  LVM\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3057\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># write\uff08yes\uff09</code>\u304a\u3088\u3073<code>quit</code> \u5909\u66f4\u3092\u66f8\u304d\u8fbc\u3093\u3067\u7d42\u4e86\u3057\u307e\u3059</li> </ul> <p>LVM\u306e\u4e0b\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"en/Archlinux-Guide/guida-jp/#_11","title":"\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-jp/#_12","title":"\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u3066\u62e1\u5f35\u3059\u308b\u3002\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u30921\u3064\u4ee5\u4e0a\u306e\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001<code># vgcreate volume_group physical_volume</code>\u306a\u3069\u306e\u30b3\u30de\u30f3\u30c9\u304c\u5fc5\u8981\u3067\u3059\u3002\u305f\u3068\u3048\u3070\uff1a</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6700\u521d\u306b\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u30663\u3064\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3001\u6b21\u306b3\u3064\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3067\u30dc\u30ea\u30e5\u30fc\u30e0\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u4e0a\u306b\u65e2\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u691c\u51fa\u3057\u305f\u5834\u5408\u306f\u30a2\u30e9\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"en/Archlinux-Guide/guida-jp/#_13","title":"\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u30eb\u30fc\u30c8\u3001\u30b9\u30ef\u30c3\u30d7\u3001\u304a\u3088\u3073\u30db\u30fc\u30e0\u5404\u3005\u306b\u8ad6\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_14","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI\u30b7\u30b9\u30c6\u30e0\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3in FAT32\u30d6\u30fc\u30c8\u7528</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_15","title":"\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code></li> <li><code># mkdir -p /mnt/{home,boot}</code> /home\u3068/boot\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#lvm","title":"LVM\u30b0\u30eb\u30fc\u30d7\u3092\u62e1\u5f35\u3059\u308b","text":"<p>\u5c06\u6765\u7684\u306b\u30b0\u30eb\u30fc\u30d7\u306b\u65b0\u3057\u3044\u7269\u7406\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u306f\u30014\u756a\u76ee\u306e\u30c7\u30a3\u30b9\u30afsdd\u3092\u8ffd\u52a0\u3057\u3001\u4ee5\u524d\u3068\u540c\u3058\u3088\u3046\u306b\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3001\u30b9\u30da\u30fc\u30b9\u3092\u62e1\u5927\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u4f8b\uff1a<code>/dev/lvm/home</code>\uff1a</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#5","title":"5.\u30df\u30e9\u30fc\u30ea\u30b9\u30c8","text":"<p>\u56fd\u3092\u6307\u5b9a\u3057\u3066 reflector \u3092\u4f7f\u7528\u3057\u3066\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30df\u30e9\u30fc\u30ea\u30b9\u30c8\u3092 /etc/pacman.d/mirrorlist \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\u8907\u6570\u306e\u56fd\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 it\u3001us \uff1a</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#6","title":"6.\u30d1\u30c3\u30af\u30b9\u30c8\u30e9\u30c3\u30d7","text":"<p>** Linux\u30ab\u30fc\u30cd\u30eb\u3068\u57fa\u672c\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001Arch\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u3001 vim \u306a\u3069\u306e\u30a8\u30c7\u30a3\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 lvm**\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306b<code>lvm2</code>\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#7fstab","title":"7.fstab\u3092\u751f\u6210\u3059\u308b","text":"<p>** / etc / fstab **\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001Linux\u30b7\u30b9\u30c6\u30e0\u306e\u30d6\u30fc\u30c8\u4e2d\u306b\u30de\u30a6\u30f3\u30c8\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\uff08Windows\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3084\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5171\u6709\u3092\u542b\u3080\uff09\u3002</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#8chroot","title":"8.Chroot","text":"<p>Chroot\u306b\u5165\u308a\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u69cb\u6210\u3057\u307e\u3059\uff1a\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u3001\u8a00\u8a9e\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u30de\u30c3\u30d4\u30f3\u30b0\u3001localhost\u3001\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3002</p> <p>chroot\u306b\u5165\u308a\u307e\u3059\u3002</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-jp/#_16","title":"\u30bf\u30a4\u30e0\u30be\u30fc\u30f3","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-jp/#_17","title":"\u30ed\u30fc\u30ab\u30e9\u30a4\u30ba","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li>`# echo \"KEYMAP=us\" &gt;&gt; /etc/vconsole.conf</li> <li></li> </ul> <p>\u30db\u30b9\u30c8\u540d\u3068\u30db\u30b9\u30c8</p> <ul> <li><code># echo \"YOURMACHINENAME\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul> <p>\u30e6\u30fc\u30b6\u30fc\u3068\u30eb\u30fc\u30c8</p> <p>\u30eb\u30fc\u30c8\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <p><code># passwd</code></p> <p>\u65b0\u3057\u3044\u30ed\u30fc\u30ef\u30fc\u30b1\u30fc\u30b9\u30e6\u30fc\u30b6\u30fc\u3092\u69cb\u6210\u3057\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea <code>/home/USERNAME</code> \u3092 <code>-m</code> \u3067\u4f5c\u6210\u3057\u3001\u30b0\u30eb\u30fc\u30d7 <code>wheel</code> \u3092 <code>-G</code> \u3067\u4f5c\u6210\u3057\u3001\u30b7\u30a7\u30eb\u3092 <code>-s</code> \u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>\u5b9f\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff08\u4f8b\u3048\u3070\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u4e0a\u3067\u306f\u5927\u6587\u5b57\u3067\u59cb\u307e\u308b \"Alessio\" \u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff09\u3002</p> <p><code># usermod -c 'REALNAME' USERNAME</code></p> <p>\u65b0\u3057\u304f\u8ffd\u52a0\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\uff01</p> <p><code># passwd USERNAME</code></p> <p>wheel\u30b0\u30eb\u30fc\u30d7\u306esudoers\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p>LVM\u7528\u306emkinitcpio</p> <p><code>/etc/mkinitcpio.conf</code>\u5185\u306e<code>hooks</code>\u306b lvm2 \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>\u305d\u306e\u5f8c\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p><code># mkinitcpio -p linux</code></p> <p>\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc</p> <p>GRUB\uff08Bios-MBR\uff09</p> <ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB\u306f\u3001CA\u30ad\u30fc\u307e\u305f\u306fshim\u3092\u4f7f\u7528\u3057\u305f\u30bb\u30ad\u30e5\u30a2\u30d6\u30fc\u30c8\u3092\u5b8c\u5168\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4f7f\u7528\u3059\u308b\u3082\u306e\u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\u304c\u7570\u306a\u308a\u307e\u3059\u3002</p> <p>CA\u30ad\u30fc\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>shim-lock\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p>Systemd-boot\uff08EXT4\uff09</p> <ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u6b21\u306b\u3001vim\u3067\u958b\u3044\u305farch.conf\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u6210\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002<code>root=</code>\u306b\u306f\u3001\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u756a\u53f7\u3067\u3042\u308b <code>x</code> \u3068\u66f8\u304d\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p>Systemd-boot\uff08Btrfs\uff09</p> <ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u6b21\u306b\u3001vim\u3067\u958b\u3044\u305farch.conf\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u6210\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002<code>root=</code>\u306b\u306f\u3001\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u756a\u53f7\u3067\u3042\u308b <code>x</code> \u3068\u66f8\u304d\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001@\u30b5\u30d6\u30dc\u30ea\u30e5\u30fc\u30e0\u306e\u305f\u3081\u306e\u30d5\u30e9\u30b0\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p>Systemd-boot\uff08LVM\uff09</p> <ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>\u6b21\u306b\u3001vim\u3067\u958b\u3044\u305farch.conf\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u6210\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30eb\u30fc\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3068\u3057\u3066 lvm \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001 <code>root=/dev/mapper/lvm-root</code> \u3068\u66f8\u304d\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p>\u57fa\u672c\u30d1\u30c3\u30b1\u30fc\u30b8</p> <p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p>\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883</p> <p>\u3044\u304f\u3064\u304b\u306e\u4eba\u6c17\u306e\u3042\u308b\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002</p> <p>Gnome \u5b8c\u5168\u306aGnome\u3068GDM\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul> <p>Xfce4 Lightdm\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3067xfce4\u3092\u4f7f\u3046</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p>Lxde Lightdm\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3067lxde\u3092\u4f7f\u3046</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p>Mate Lightdm\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3067mate\u3092\u4f7f\u3046</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p>Plasma SDDM\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3067plasma kde\u3092\u4f7f\u3046</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul> <p>Cinnamon Lightdm\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3067cinnamon\u3092\u4f7f\u3046</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p>\u30b5\u30fc\u30d3\u30b9</p> <p>\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u306b\u3057\u305f\u5834\u5408\u3001\u4ed6\u306e\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u9032\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ul> <li><code># systemctl enable NetworkManager</code> \u6ce8\u610f\uff1a\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3057\u307e\u3059\u3002</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p>Zram</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u5358\u4e00\u306e udev \u30eb\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u8d77\u52d5\u6642\u306b zram \u306b\u81ea\u52d5\u30b9\u30ef\u30c3\u30d4\u30f3\u30b0\u3092\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001\u8ffd\u52a0\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u8d77\u52d5\u6642\u306b\u660e\u793a\u7684\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>\u6b21\u306e udev \u30eb\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u4f8b\u3067\u306f\u3001\u30b9\u30ef\u30c3\u30d7\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30b9\u30af\u30b5\u30a4\u30ba\u5c5e\u6027\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30b9\u30ef\u30c3\u30d7\u30b5\u30a4\u30ba\u306f 16G \u306b\u306a\u308a\u307e\u3059\u3002</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>\u512a\u5148\u5ea6\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3088\u308a\u3082\u9ad8\u304f\u3057\u3066\u3001fstab\u306b /dev/zram \u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/","title":"Instala\u00e7\u00e3o do Arch Linux","text":""},{"location":"en/Archlinux-Guide/guida-pt/#1-verificacao-de-assinatura","title":"1. Verifica\u00e7\u00e3o de Assinatura","text":"<p>\u00c9 recomend\u00e1vel verificar a assinatura da imagem antes de us\u00e1-la, especialmente ao fazer o download de um espelho HTTP, onde os downloads est\u00e3o sujeitos \u00e0 intercepta\u00e7\u00e3o para fornecer imagens maliciosas.</p> <p>Em um sistema com GnuPG instalado, baixe a assinatura PGP da ISO para o diret\u00f3rio ISO e verifique-a com o seguinte comando:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>Alternativamente, a partir de uma instala\u00e7\u00e3o existente do Arch Linux, execute:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#2-configuracao-inicial","title":"2. Configura\u00e7\u00e3o Inicial","text":"<p>Para come\u00e7ar, precisamos definir o idioma do teclado, o idioma padr\u00e3o sem digitar o comando \u00e9 <code>US</code>. As disposi\u00e7\u00f5es dispon\u00edveis podem ser listadas com:</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>defina o idioma do teclado com o comando:</p> <p><code># loadkeys it</code></p> <p>Os caracteres do console podem ser encontrados em /usr/share/kbd/consolefonts/ e tamb\u00e9m podem ser definidos com o comando setfont. Por exemplo, para usar caracteres maiores adequados para telas de HiDPI, execute:</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#3-conexao-com-a-internet","title":"3. Conex\u00e3o com a Internet","text":"<p>Se voc\u00ea conectou a m\u00e1quina \u00e0 Internet via cabo ou m\u00e1quina virtual, pode verificar o endere\u00e7o IP adquirido usando este comando:</p> <p><code># ip a</code></p> <p>A conex\u00e3o pode ser testada com um comando de teste de ping:</p> <p><code># ping -c 3 archlinux.org</code></p> <p>Conecte-se \u00e0 rede Wi-Fi usando a ferramenta iwctl:</p> <ul> <li><code># iwctl</code> Inicie o iwctl</li> <li><code># device list</code> Encontre o nome do seu dispositivo, por exemplo, wlan0</li> <li><code># station wlan0 scan</code> Verifique as redes sem fio dispon\u00edveis</li> <li><code># station wlan0 get-networks</code> Obtenha a lista de redes</li> <li><code># station wlan0</code> connect yournetworkname Conecte-se \u00e0 sua rede</li> <li><code># exit</code></li> </ul> <p>Se, no caso, nossos dispositivos estiverem desativados e n\u00e3o conseguirmos executar o iwctl:</p> <ul> <li><code># rfkill list</code> Verifique o status bloqueado ou desbloqueado dos dispositivos</li> <li><code># rfkill unblock all</code> Desbloqueie todos os nossos dispositivos bloqueados</li> <li><code># systemctl restart iwd</code> Reinicie o servi\u00e7o iwd</li> </ul> <p>Tente novamente <code># iwctl</code> e continue como acima.</p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#4-preparacao-do-disco","title":"4. Prepara\u00e7\u00e3o do disco","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#bios-mbr","title":"BIOS-MBR","text":""},{"location":"en/Archlinux-Guide/guida-pt/#particionamento","title":"Particionamento","text":"<p>Identifique seu disco para saber qual conven\u00e7\u00e3o de nomenclatura usar. Por exemplo, no caso de um SSD /dev/sda ou no caso de M.2 /dev/nvme0n1 e, finalmente, o disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assim que a nomenclatura de nosso disco for identificada, use o cfdisk, aqui assumiremos ter /dev/sda. Voc\u00ea pode ser solicitado o tipo de tabela de parti\u00e7\u00e3o se o disco for bruto. Nesse caso, selecione DOS:</p> <p><code># cfdisk /dev/sda</code></p> <p>Crie as parti\u00e7\u00f5es necess\u00e1rias para a instala\u00e7\u00e3o b\u00e1sica, assumindo que temos um SSD de 128GiB:</p> <ul> <li><code># 4Gib</code>   Crie uma parti\u00e7\u00e3o para swap e selecione o tipo de swap</li> <li><code># 124Gib</code>  Crie a parti\u00e7\u00e3o raiz</li> <li><code># write (yes)</code> and <code>quit</code>  Escreva as altera\u00e7\u00f5es e saia</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#formatacao-de-particoes","title":"Formata\u00e7\u00e3o de parti\u00e7\u00f5es","text":"<ul> <li><code># mkswap /dev/sda1</code> Parti\u00e7\u00e3o de swap</li> <li><code># mkfs.ext4 /dev/sda2</code> Parti\u00e7\u00e3o raiz em EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#montagem-de-particoes","title":"Montagem de parti\u00e7\u00f5es","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> Monte a parti\u00e7\u00e3o raiz</li> <li><code># swapon /dev/sda1</code> Monte a parti\u00e7\u00e3o de swap</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guida-pt/#particionamento-de-disco","title":"Particionamento de disco","text":"<p>Identifique seu disco para saber qual conven\u00e7\u00e3o de nomenclatura usar. Por exemplo, no caso de um SSD /dev/sda ou no caso de M.2 /dev/nvme0n1 e, finalmente, o disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assumindo que temos um SSD de 128GiB e usaremos o particionamento GPT para a instala\u00e7\u00e3o UEFI:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Crie uma parti\u00e7\u00e3o EFI e selecione o tipo de parti\u00e7\u00e3o do sistema EFI</li> <li><code># 4Gib</code>   Crie uma parti\u00e7\u00e3o para swap e selecione o tipo de swap</li> <li><code># 23.5Gib</code>  Crie a parti\u00e7\u00e3o raiz</li> <li><code># 100Gib</code>  Crie a parti\u00e7\u00e3o Home</li> <li><code># write (yes)</code> e <code>quit</code>  Escreva as altera\u00e7\u00f5es e saia</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#formatacao-de-particoes_1","title":"Formata\u00e7\u00e3o de parti\u00e7\u00f5es","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Parti\u00e7\u00e3o do sistema EFI em FAT32 para inicializa\u00e7\u00e3o</li> <li><code># mkswap /dev/sda2</code> Parti\u00e7\u00e3o de swap</li> <li><code># mkfs.ext4 /dev/sda3</code> Parti\u00e7\u00e3o raiz em EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> Parti\u00e7\u00e3o Home em EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#montagem-de-particoes_1","title":"Montagem de parti\u00e7\u00f5es","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> Monte a parti\u00e7\u00e3o raiz</li> <li><code># mkdir -p /mnt/{home,boot}</code> Crie os diret\u00f3rios /home e /boot</li> <li><code># mount /dev/sda4 /mnt/home</code> Monte a parti\u00e7\u00e3o Home</li> <li><code># mount /dev/sda1 /mnt/boot</code> Monte a parti\u00e7\u00e3o de inicializa\u00e7\u00e3o</li> <li><code># swapon /dev/sda2</code> Monte a parti\u00e7\u00e3o de swap</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guida-pt/#particionamento-de-disco_1","title":"Particionamento de disco","text":"<p>Identifique seu disco para saber qual conven\u00e7\u00e3o de nomenclatura usar. Por exemplo, no caso de um SSD /dev/sda ou no caso de M.2 /dev/nvme0n1 e, finalmente, o disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assumindo que temos um SSD de 128GiB e usaremos o particionamento GPT para a instala\u00e7\u00e3o UEFI:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Crie uma parti\u00e7\u00e3o EFI e selecione o tipo de parti\u00e7\u00e3o do sistema EFI</li> <li><code># 27.5Gib</code>  Crie a parti\u00e7\u00e3o raiz</li> <li><code># 100Gib</code>  Crie a parti\u00e7\u00e3o Home</li> <li><code># write (yes)</code> e <code>quit</code>  Escreva as altera\u00e7\u00f5es e saia</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#formatacao-de-particoes_2","title":"Formata\u00e7\u00e3o de parti\u00e7\u00f5es","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Parti\u00e7\u00e3o do sistema EFI em FAT32 para inicializa\u00e7\u00e3o</li> <li><code># mkfs.btrfs /dev/sda2</code> Parti\u00e7\u00e3o raiz em BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> Parti\u00e7\u00e3o Home em BTRFS</li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#montagem-de-particoes_2","title":"Montagem de parti\u00e7\u00f5es","text":"<p>Crie os subvolumes @ e @home:</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> Crie os diret\u00f3rios /home e /boot \u00a0</p> </li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guida-pt/#particionamento-de-disco_2","title":"Particionamento de disco","text":"<p>Identifique seu disco para saber qual conven\u00e7\u00e3o de nomenclatura usar. Por exemplo, no caso de um SSD /dev/sda ou no caso de M.2 /dev/nvme0n1 e, finalmente, o disco virtual /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assumindo que temos 3 discos de 128GiB para LVM: sda sdb sdc use o cfdisk para um disco de cada vez:</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Crie uma parti\u00e7\u00e3o EFI e selecione o tipo de parti\u00e7\u00e3o do sistema EFI</li> <li><code># 127.5GiB</code> Crie uma parti\u00e7\u00e3o e selecione o tipo LVM</li> <li><code># write (yes)</code> e <code>quit</code>  Escreva as altera\u00e7\u00f5es e saia</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> Crie uma parti\u00e7\u00e3o e selecione o tipo LVM</li> <li><code># write (yes)</code> e <code>quit</code>  Escreva as altera\u00e7\u00f5es e saia</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128GiB</code>  Crie uma parti\u00e7\u00e3o e selecione o tipo LVM</li> <li><code># write (yes)</code> e <code>quit</code>  Escreva as altera\u00e7\u00f5es e saia</li> </ul> <p>Para criar parti\u00e7\u00f5es em LVM, precisamos primeiro criar um volume f\u00edsico:</p>"},{"location":"en/Archlinux-Guide/guida-pt/#crie-o-volume-fisico","title":"Crie o volume f\u00edsico","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guida-pt/#crie-o-grupo-de-volume","title":"Crie o grupo de volume","text":"<p>Crie e estenda seu grupo de volume; voc\u00ea precisa criar um grupo de volume em um ou mais volumes f\u00edsicos <code># vgcreate grupo_de_volume volume_f\u00edsico</code> por exemplo:</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>Este comando primeiro configurar\u00e1 as tr\u00eas parti\u00e7\u00f5es como volumes f\u00edsicos (se necess\u00e1rio) e, em seguida, criar\u00e1 o grupo de volumes com os tr\u00eas volumes. O comando o alertar\u00e1 se detectar um sistema de arquivos existente em qualquer dispositivo.</p>"},{"location":"en/Archlinux-Guide/guida-pt/#crie-volumes-logicos","title":"Crie volumes l\u00f3gicos","text":"<p>Crie volumes l\u00f3gicos; para uma configura\u00e7\u00e3o b\u00e1sica, precisar\u00edamos de um para raiz, swap e home.</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#formatacao-de-particoes_3","title":"Formata\u00e7\u00e3o de parti\u00e7\u00f5es","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> Parti\u00e7\u00e3o do sistema EFI em FAT32 para inicializa\u00e7\u00e3o</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#montagem-de-particoes_3","title":"Montagem de parti\u00e7\u00f5es","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code> Monte a parti\u00e7\u00e3o raiz</li> <li><code># mkdir -p /mnt/{home,boot}</code> Crie os diret\u00f3rios /home e /boot</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#estender-um-grupo-lvm","title":"Estender um grupo LVM","text":"<p>Se no futuro voc\u00ea quiser adicionar um novo volume f\u00edsico ao grupo, veja qual comando usar, supondo um quarto disco sdd e tendo particionado como antes, estendemos o espa\u00e7o, por exemplo, para <code>/dev/lvm/home</code>:</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#5-lista-de-servidores-espelho","title":"5. Lista de servidores espelho","text":"<p>Salve a lista de servidores para os reposit\u00f3rios em /etc/pacman.d/mirrorlist usando a ferramenta reflector, especificando o pa\u00eds para sincronizar os servidores, por exemplo it. V\u00e1rios pa\u00edses podem ser adicionados usando uma v\u00edrgula, por exemplo, it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#6-pacstrap","title":"6. Pacstrap","text":"<p>Instale o kernel Linux e pacotes base para criar nosso sistema Arch, adicione tamb\u00e9m um editor, como vim. Se estiver seguindo a instala\u00e7\u00e3o do lvm, adicione o pacote <code>lvm2</code> ao comando a seguir:</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#7-gerar-fstab","title":"7. Gerar Fstab","text":"<p>O arquivo /etc/fstab permite controlar quais sistemas de arquivos s\u00e3o montados em seu sistema Linux durante a inicializa\u00e7\u00e3o, incluindo as parti\u00e7\u00f5es do Windows e os compartilhamentos de rede:</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#8-chroot","title":"8. Chroot","text":"<p>Entre no chroot e configure as etapas a seguir: configura\u00e7\u00e3o de hora local, rel\u00f3gio de sistema, idioma, mapeamentos de teclado, nome do host, senha do root, cria\u00e7\u00e3o de usu\u00e1rio e senha.</p> <p>Entre no chroot:</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#fuso-horario","title":"Fuso hor\u00e1rio","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#localizacao","title":"Localiza\u00e7\u00e3o","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#nome-de-host-e-hosts","title":"Nome de host e Hosts","text":"<ul> <li><code># echo \"NOMEDAMAQUINA\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#usuario-e-root","title":"Usu\u00e1rio e Root","text":"<p>Configure a senha do Root, tenha cuidado!</p> <p><code># passwd</code></p> <p>Configure um novo usu\u00e1rio em min\u00fasculas, criando o diret\u00f3rio <code>/home/USUARIO</code> com <code>-m</code>, o grupo <code>wheel</code> com <code>-G</code> e o shell com <code>-s</code>:</p> <p><code># useradd -mG wheel -s /bin/bash USUARIO</code></p> <p>Configure o nome real (que aparece em gr\u00e1ficos com letra inicial mai\u00fascula por exemplo \"Alessio\")</p> <p><code># usermod -c 'NOMEREAL' USUARIO</code></p> <p>Configure uma senha para o usu\u00e1rio rec\u00e9m-adicionado, tenha cuidado!</p> <p><code># passwd USUARIO</code></p> <p>Configure o arquivo sudoers para o grupo wheel:</p> <p><code># echo \"USUARIO ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USUARIO</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#mkinitcpio-para-lvm","title":"mkinitcpio para lvm","text":"<p>adicionar o lvm2 em hooks no arquivo /etc/mkinitcpio.conf</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>em seguida, usar o comando:</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#9-carregador-de-boot","title":"9. Carregador de boot","text":""},{"location":"en/Archlinux-Guide/guida-pt/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>O GRUB suporta totalmente o secure boot usando CA keys ou shim, no entanto, o comando de instala\u00e7\u00e3o \u00e9 diferente dependendo de qual for usar.</p> <p>Para usar as CA keys, o comando \u00e9:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>Para usar o shim-lock, o comando \u00e9:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Agora, crie a configura\u00e7\u00e3o do arquivo arch.conf que foi aberto com vim, \u00e9 importante escrever a parti\u00e7\u00e3o de inicializa\u00e7\u00e3o raiz correta como <code>root=/dev/sdax</code> onde <code>x</code> \u00e9 o n\u00famero da parti\u00e7\u00e3o raiz.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Agora, crie a configura\u00e7\u00e3o do arquivo arch.conf que foi aberto com vim, \u00e9 importante escrever a parti\u00e7\u00e3o de inicializa\u00e7\u00e3o raiz correta como <code>root=/dev/sdax</code> onde <code>x</code> \u00e9 o n\u00famero da parti\u00e7\u00e3o raiz, adicione a bandeira para o subvolume @.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Agora, crie a configura\u00e7\u00e3o do arquivo arch.conf que foi aberto com vim, \u00e9 importante escrever a parti\u00e7\u00e3o de inicializa\u00e7\u00e3o raiz correta como para o lvm <code>root=/dev/mapper/lvm-root</code></p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#10-pacotes-basicos","title":"10. Pacotes B\u00e1sicos","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#11-ambiente-de-area-de-trabalho","title":"11. Ambiente de \u00c1rea de Trabalho","text":"<p>Escolha alguns dos ambientes de \u00e1rea de trabalho populares sugeridos:</p>"},{"location":"en/Archlinux-Guide/guida-pt/#gnome","title":"Gnome","text":"<p>Gnome completo com o gerenciador de exibi\u00e7\u00e3o GDM</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#xfce4","title":"Xfce4","text":"<p>xfce4 com o gerenciador de exibi\u00e7\u00e3o Lightdm</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#lxde","title":"Lxde","text":"<p>lxde com o gerenciador de exibi\u00e7\u00e3o Lightdm</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#mate","title":"Mate","text":"<p>mate com o gerenciador de exibi\u00e7\u00e3o Lightdm</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#plasma","title":"Plasma","text":"<p>plasma kde com o gerenciador de exibi\u00e7\u00e3o SDDM</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guida-pt/#cinnamon","title":"Cinnamon","text":"<p>cinnamon com o gerenciador de exibi\u00e7\u00e3o Lightdm</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#12-servicos","title":"12. Servi\u00e7os","text":"<p>Se voc\u00ea tiver habilitado o servi\u00e7o para o gerenciador de exibi\u00e7\u00e3o, pode passar para a ativa\u00e7\u00e3o de outros servi\u00e7os necess\u00e1rios.</p> <ul> <li><code># systemctl enable NetworkManager</code> Tenha cuidado, o comando diferencia mai\u00fasculas e min\u00fasculas.</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guida-pt/#13-zram","title":"13. Zram","text":"<p>O exemplo a seguir descreve como configurar a troca autom\u00e1tica para zram na inicializa\u00e7\u00e3o usando uma \u00fanica regra udev. Nenhum pacote adicional \u00e9 necess\u00e1rio para faz\u00ea-lo funcionar.</p> <p>Carregar explicitamente o m\u00f3dulo na inicializa\u00e7\u00e3o:</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>Crie a seguinte regra udev ajustando o atributo disksize conforme necess\u00e1rio para o tamanho da troca, neste exemplo \u00e9 16G:</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>Adicione /dev/zram ao seu fstab com uma prioridade mais alta que o padr\u00e3o:</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/","title":"Arch Linux Installation","text":""},{"location":"en/Archlinux-Guide/guide/#1-signature-verification","title":"1. Signature Verification","text":"<p>It is recommended to verify the signature of the image before use, especially when downloading from an HTTP mirror, where downloads are subject to interception to provide harmful images.</p> <p>On a system with GnuPG installed, download the PGP ISO signature to the ISO directory and verify it with:</p> <p><code>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</code></p> <p>Alternatively, from an existing installation of Arch Linux run:</p> <p><code>$ pacman-key -v archlinux-version-x86_64.iso.sig</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#2-initial-configuration","title":"2. Initial Configuration","text":"<p>To begin, we need to define the keyboard language, the default language without entering the command is <code>US</code>. The available layouts can be listed with:</p> <p><code># ls /usr/share/kbd/keymaps/**/*.map.gz</code></p> <p>set the language of our keyboard with the command:</p> <p><code># loadkeys it</code></p> <p>The console characters can be found in /usr/share/kbd/consolefonts/ and can also be set with setfont. For example, to use one of the larger characters suitable for HiDPI displays, run:</p> <p><code># setfont ter-132b</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#3-internet-connection","title":"3. Internet Connection","text":"<p>If you have connected the machine to the internet via cable or virtual machine, you can verify your acquired IP address using this command:</p> <p><code># ip a</code></p> <p>The connection can be tested with a ping test command:</p> <p><code># ping -c 3 archlinux.org</code></p> <p>Connect to the Wi-Fi network using the iwctl tool:</p> <ul> <li><code># iwctl</code> Start iwctl</li> <li><code># device list</code> Find the name of your device, example wlan0</li> <li><code># station wlan0 scan</code> Scan for available wireless networks</li> <li><code># station wlan0 get-networks</code> Get the list of networks</li> <li><code># station wlan0</code> connect yournetworkname  Connection to your network</li> <li><code># exit</code></li> </ul> <p>If in case our devices are disabled and we are unable to run ** iwctl **:</p> <ul> <li><code># rfkill list</code> Check the blocked or unblocked status of the devices</li> <li><code># rfkill unblock all</code> Unblock all our blocked devices</li> <li><code># systemctl restart iwd</code> Restart the iwd service</li> </ul> <p>Retry <code># iwctl</code> and proceed as above.</p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#4-disk-preparation","title":"4. Disk Preparation","text":"<ul> <li>Bios-MBR ext4</li> <li>UEFI ext4</li> <li>UEFI btrfs</li> <li>UEFI lvm EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#bios-mbr","title":"Bios-MBR","text":""},{"location":"en/Archlinux-Guide/guide/#partitioning","title":"Partitioning","text":"<p>Identify your disk to know the naming convention to use. For example, in the case of an SSD / dev / sda or in the case of M.2 /dev/nvme0n1 and, finally, the virtual disk /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Once the naming of our disk is identified, use cfdisk, here we will assume to have /dev/sda. You may be asked the type of partitioning table if the disk is raw. In this case, select DOS:</p> <p><code># cfdisk /dev/sda</code></p> <p>Create the necessary partitions for the base installation, assuming that we have a 128GiB SSD:</p> <ul> <li><code># 4Gib</code>   Create a partition for swap and select swap type</li> <li><code># 124Gib</code>  Create the Root partition</li> <li><code># write (yes)</code> and <code>quit</code>  Write the changes and exit</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#formatting-partitions","title":"Formatting Partitions","text":"<ul> <li><code># mkswap /dev/sda1</code> Swap partition</li> <li><code># mkfs.ext4 /dev/sda2</code> Root partition in EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#mounting-partitions","title":"Mounting Partitions","text":"<ul> <li><code># mount /dev/sda2 /mnt</code> Mount the root partition</li> <li><code># swapon /dev/sda1</code> Mount the swap partition</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#uefi-ext4","title":"UEFI ext4","text":""},{"location":"en/Archlinux-Guide/guide/#disk-partitioning","title":"Disk Partitioning","text":"<p>Identify your disk to know the naming convention to use. For example, in the case of an SSD /dev/sda or in the case of M.2 /dev/nvme0n1 and, finally, the Virtual Disk /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assuming that we have 128GiB SSD and will use GPT partitioning for UEFI install:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Create an EFI partition and select EFI system partition type</li> <li><code># 4Gib</code>   Create a partition for swap and select swap type</li> <li><code># 23.5Gib</code>  Create the Root partition</li> <li><code># 100Gib</code>  Create the Home partition</li> <li><code># write (yes)</code> and <code>quit</code>  Write changes and exit</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#formatting-partitions_1","title":"Formatting Partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI system partition in FAT32 for boot</li> <li><code># mkswap /dev/sda2</code> Swap partition</li> <li><code># mkfs.ext4 /dev/sda3</code> Root partition in EXT4</li> <li><code># mkfs.ext4 /dev/sda4</code> Home partition in EXT4</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#mounting-partitions_1","title":"Mounting Partitions","text":"<ul> <li><code># mount /dev/sda3 /mnt</code> Mount root partition</li> <li><code># mkdir -p /mnt/{home,boot}</code> Create /home and /boot directories</li> <li><code># mount /dev/sda4 /mnt/home</code> Mount home partition</li> <li><code># mount /dev/sda1 /mnt/boot</code> Mount boot partition</li> <li><code># swapon /dev/sda2</code> Mount swap partition</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#uefi-btrfs","title":"UEFI btrfs","text":""},{"location":"en/Archlinux-Guide/guide/#disk-partitioning_1","title":"Disk Partitioning","text":"<p>Identify your disk to know the naming convention to use. For example, in the case of an SSD /dev/sda or in the case of M.2 /dev/nvme0n1 and, finally, the Virtual Disk /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assuming that we have 128GiB SSD and will use GPT partitioning for UEFI install:</p> <p><code># cfdisk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Create an EFI partition and select EFI system partition type</li> <li><code># 27.5Gib</code>  Create the Root partition</li> <li><code># 100Gib</code>  Create the Home partition</li> <li><code># write (yes)</code> and <code>quit</code>  Write changes and exit</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#formatting-partitions_2","title":"Formatting Partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI system partition in FAT32 for boot</li> <li><code># mkfs.btrfs /dev/sda2</code> Root partition in BTRFS</li> <li><code># mkfs.btrfs /dev/sda3</code> Home partition in BTRFS</li> </ul>"},{"location":"en/Archlinux-Guide/guide/#mounting-partitions_2","title":"Mounting Partitions","text":"<p>Create @ and @home subvolumes:</p> <ul> <li> <p><code># mount /dev/sda2 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount /dev/sda3 /mnt</code></p> </li> <li> <p><code># btrfs su cr /mnt/@home</code></p> </li> <li> <p><code># umount /mnt</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ /dev/sda2 /mnt</code></p> </li> <li> <p><code># mkdir -p /mnt/{home,boot}</code> Create /home and /boot directories</p> </li> <li> <p><code># mount /dev/sda1 /mnt/boot</code></p> </li> <li> <p><code># mount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home /dev/sda3 /mnt/home</code></p> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/#uefi-lvm-ext4","title":"UEFI lvm-ext4","text":""},{"location":"en/Archlinux-Guide/guide/#disk-partitioning_2","title":"Disk Partitioning","text":"<p>Identify your disk to know the naming convention to use. For example, in the case of an SSD /dev/sda or in the case of M.2 /dev/nvme0n1 and, finally, the Virtual Disk /dev/vda.</p> <p><code># lsblk -l</code></p> <p>Assuming that we have 3 128GiB disks for LVM: sda sdb sdc use cfdisk for one disk at a time:</p> <p><code># cfdifk /dev/sda</code></p> <ul> <li><code># 512Mib</code> Create an EFI partition and select EFI system partition type</li> <li><code># 127.5GiB</code> Create a partition and select LVM type</li> <li><code># write (yes)</code> and <code>quit</code>  Write changes and exit</li> </ul> <p><code># cfdifk /dev/sdb</code></p> <ul> <li><code># 128GiB</code> Create a partition and select LVM type</li> <li><code># write (yes)</code> and <code>quit</code>  Write changes and exit</li> </ul> <p><code># cfdifk /dev/sdc</code></p> <ul> <li><code># 128GiB</code>  Create a partition and select LVM type</li> <li><code># write (yes)</code> and <code>quit</code>  Write changes and exit</li> </ul> <p>To create partitions under LVM, we need to first create a physical volume:</p>"},{"location":"en/Archlinux-Guide/guide/#create-physical-volume","title":"Create Physical Volume","text":"<p><code># pvcreate /dev/sda2 /dev/sdb1 /dev/sdc1</code></p>"},{"location":"en/Archlinux-Guide/guide/#create-volume-group","title":"Create Volume Group","text":"<p>Create and extend your volume group; you need to create a volume group on one or more physical volumes <code># vgcreate volume_group physical_volume</code> for example:</p> <p><code># vgcreate lvm /dev/sda2 /dev/sdb1 /dev/sdc1</code></p> <p>This command will first set up the three partitions as physical volumes (if needed), and then create the volume group with the three volumes. The command will alert you if it detects an existing filesystem on any device.</p>"},{"location":"en/Archlinux-Guide/guide/#create-logical-volumes","title":"Create Logical Volumes","text":"<p>Create logical volumes, for a basic configuration, we'd need one each for root, swap, and home.</p> <ul> <li><code># lvcreate -L 120G lvm -n root</code></li> <li><code># lvcreate -L 8G lvm -n swap</code></li> <li><code># lvcreate -l 100%FREE lvm -n home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#formatting-partitions_3","title":"Formatting Partitions","text":"<ul> <li><code># mkfs.vfat -F32 /dev/sda1</code> EFI system partition in FAT32 for boot</li> <li><code># mkfs.ext4 /dev/lvm/root</code></li> <li><code># mkfs.ext4 /dev/lvm/home</code></li> <li><code># mkswap /dev/lvm/swap</code> </li> </ul>"},{"location":"en/Archlinux-Guide/guide/#mounting-partitions_3","title":"Mounting Partitions","text":"<ul> <li><code># mount /dev/lvm/root /mnt</code></li> <li><code># mkdir -p /mnt/{home,boot}</code> Create /home and /boot directories</li> <li><code># mount /dev/lvm/home /mnt/home</code></li> <li><code># mount /dev/sda1 /mnt/boot</code> </li> <li><code># swapon /dev/lvm/swap</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#extend-an-lvm-group","title":"Extend an LVM group","text":"<p>If in the future you want to add a new physical volume to the group, see which command to use, assuming a fourth disk sdd and having partitioned it as before, we extend space for example to <code>/dev/lvm/home</code>:</p> <ul> <li><code># pvcreate /dev/sdd1</code></li> <li><code># vgextend lvm /dev/sdd1</code></li> <li><code># lvextend -l +100%FREE /dev/lvm/home</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#5-mirrorlist","title":"5. Mirrorlist","text":"<p>Save the mirrorlist for the repositories in /etc/pacman.d/mirrorlist using the tool reflector, specifying the country to synchronize the servers, for example it. Multiple countries can be added using a comma, for example it,us:</p> <p><code># reflector --verbose -c it -a 12 --sort rate --save /etc/pacman.d/mirrorlist</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#6-pacstrap","title":"6. Pacstrap","text":"<p>Install the linux kernel and base packages to create our Arch system, also add an editor such as vim. If following the installation for lvm, add the <code>lvm2</code> package to the following command:</p> <p><code># pacstrap -K /mnt base base-devel linux linux-firmware vim</code> </p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#7-generate-fstab","title":"7. Generate Fstab","text":"<p>The /etc/fstab file allows you to control which filesystems are mounted on your Linux system during boot, including Windows partitions and network shares:</p> <p><code># genfstab -U /mnt &gt; /mnt/etc/fstab</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#8-chroot","title":"8. Chroot","text":"<p>Enter the chroot and configure the following steps: Configuration of localtime, systemclock, language, keyboard mappings, localhost, Root Password, User Creation and Password.</p> <p>Enter the chroot:</p> <p><code># arch-chroot /mnt</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#time-zone","title":"Time zone","text":"<ul> <li><code># ln -sf /usr/share/zoneinfo/Europe/Italy /etc/localtime</code></li> <li><code># hwclock --systohc</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#localization","title":"Localization","text":"<ul> <li><code># echo \"it_IT.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen</code></li> <li><code># locale-gen</code></li> <li><code># echo \"LANG=it_IT.UTF-8\" &gt;&gt; /etc/locale.conf</code></li> <li><code># echo \"KEYMAP=it\" &gt;&gt; /etc/vconsole.conf</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#hostname-and-hosts","title":"Hostname and Hosts","text":"<ul> <li><code># echo \"YOURMACHINENAME\" &gt; /etc/hostname</code></li> <li><code># echo \"127.0.0.1 localhost\" &gt;&gt; /etc/hosts</code></li> <li><code># echo \"::1       localhost\" &gt;&gt; /etc/hosts</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#user-and-root","title":"User and Root","text":"<p>Configure Root password, be careful!</p> <p><code># passwd</code></p> <p>Configure a new lowercase user, creating the directory <code>/home/USERNAME</code> with <code>-m</code>, the group <code>wheel</code> with <code>-G</code>, and the shell with <code>-s</code>:</p> <p><code># useradd -mG wheel -s /bin/bash USERNAME</code></p> <p>Configure the real name (which appears in graphics with uppercase initial letter for example \"Alessio\") </p> <p><code># usermod -c 'REALNAME' USERNAME</code></p> <p>Configure a password for the newly added user, be careful!</p> <p><code># passwd USERNAME</code></p> <p>Configure the sudoers file for the wheel group:</p> <p><code># echo \"USERNAME ALL=(ALL:ALL) ALL\" &gt;&gt; /etc/sudoers.d/USERNAME</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#mkinitcpio-for-lvm","title":"mkinitcpio for lvm","text":"<p>add lvm2 to hooks in /etc/mkinitcpio.conf</p> <p><code>HOOKS=\"base udev ... block lvm2 filesystems\"</code></p> <p>then use the command:</p> <p><code># mkinitcpio -p linux</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#9-bootloader","title":"9. Bootloader","text":""},{"location":"en/Archlinux-Guide/guide/#grub-bios-mbr","title":"GRUB (Bios-MBR)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=i386-pc /dev/sda</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#grub-uefi","title":"GRUB (UEFI)","text":"<ul> <li><code># pacman -S grub</code></li> <li><code># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</code></li> <li><code># grub-mkconfig -o /boot/grub/grub.cfg</code></li> </ul> <p>GRUB fully supports secure boot using CA keys or shim, however, the installation command is different depending on which one you intend to use.</p> <p>To use CA keys, the command is:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"tpm\" --disable-shim-lock</code></p> <p>To use shim-lock, the command is:</p> <p><code># grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB --modules=\"normal test efi_gop efi_uga search echo linux all_video gfxmenu gfxterm_background gfxterm_menu gfxterm loadenv configfile tpm\"</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#systemd-boot-ext4","title":"Systemd-boot (EXT4)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Now create the configuration of the arch.conf file opened with vim, it is important to write the correct root boot partition such as <code>root=/dev/sdax</code> where <code>x</code> is the number of the root partition.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/#systemd-boot-btrfs","title":"Systemd-boot (BTRFS)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Now create the configuration of the arch.conf file opened with vim, it is important to write the correct root boot partition such as <code>root=/dev/sdax</code> where <code>x</code> is the number of the root partition, add the flag for the @ subvolume.</p> <ul> <li><code>title   Arch Linux</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/sdax rootflags=subvol=@ rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/#systemd-boot-lvm","title":"Systemd-boot (LVM)","text":"<ul> <li><code># pacman -S efibootmgr</code></li> <li><code># bootctl --path=/boot install</code></li> <li><code># echo \"default arch-*\" &gt;&gt; /boot/loader/loader.conf</code></li> <li><code># vim /boot/loader/entries/arch.conf</code></li> </ul> <p>Now create the configuration of the arch.conf file opened with vim, it is important to write the correct root boot partition such as for lvm <code>root=/dev/mapper/lvm-root</code></p> <ul> <li><code>title   Arch Linux (LVM)</code></li> <li><code>linux   /vmlinuz-linux</code></li> <li><code>initrd  /initramfs-linux.img</code></li> <li><code>options root=/dev/mapper/lvm-root rw quiet loglevel=3 rd.systemd.show_status=auto rd.udev.log_level=3</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/#10-base-packages","title":"10. Base Packages","text":"<p><code># pacman -S xorg wpa_supplicant wireless_tools netctl net-tools iw networkmanager alsa-utils pipewire-pulse mtools dosfstools mtools ntfs-3g f2fs-tools dosfstools exfatprogs fuse firewalld acpi cronie git reflector bluez bluez-utils cups reflector</code></p> <p></p>"},{"location":"en/Archlinux-Guide/guide/#11-desktop-environment","title":"11. Desktop Environment","text":"<p>Choose from some of the suggested popular desktop environments:</p>"},{"location":"en/Archlinux-Guide/guide/#gnome","title":"Gnome","text":"<p>Complete Gnome with GDM display manager</p> <ul> <li><code># pacman -S gnome gnome-extra gdm</code> </li> <li><code># systemctl enable gdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#xfce4","title":"Xfce4","text":"<p>xfce4 with Lightdm display manager</p> <ul> <li><code># pacman -S xfce4 xfce4-goodies lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#lxde","title":"Lxde","text":"<p>lxde with Lightdm display manager</p> <ul> <li><code># pacman -S lxde lxde-common lxsession openbox</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#mate","title":"Mate","text":"<p>mate with Lightdm display manager</p> <ul> <li><code># pacman -S mate mate-extra</code></li> <li><code># systemctl enable lightdm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#plasma","title":"Plasma","text":"<p>plasma kde with SDDM display manager</p> <ul> <li><code># pacman -S plasma kde-applications sddm</code></li> <li><code># systemctl enable sddm</code></li> </ul>"},{"location":"en/Archlinux-Guide/guide/#cinnamon","title":"Cinnamon","text":"<p>cinnamon with Lightdm display manager</p> <ul> <li><code># pacman -S cinnamon nemo-fileroller gnome-terminal lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings xdg-user-dirs-gtk</code></li> <li><code># systemctl enable lightdm</code></li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/#12-services","title":"12. Services","text":"<p>If you have enabled the service for the display manager, you can move on to enabling the other necessary services.</p> <ul> <li><code># systemctl enable NetworkManager</code> Be careful, it is case sensitive.</li> <li><code># systemctl enable bluetooth</code></li> <li><code># systemctl enable reflector</code></li> <li><code># systemctl enable cronie</code></li> <li><code># systemctl enable firewalld</code> </li> </ul> <p></p>"},{"location":"en/Archlinux-Guide/guide/#13-zram","title":"13. Zram","text":"<p>The following example describes how to configure automatic swapping to zram at boot using a single udev rule. No additional packages should be needed to get this working.</p> <p>Explicitly load the module at boot:</p> <ul> <li> <p><code># vim /etc/modules-load.d/zram.conf</code></p> </li> <li> <p><code>zram</code></p> </li> </ul> <p>Create the following udev rule adjusting the disksize attribute as required for the swap size in this example it is 16G:</p> <ul> <li> <p><code># vim /etc/udev/rules.d/99-zram.rules</code></p> </li> <li> <p><code>ACTION==\"add\", KERNEL==\"zram0\", ATTR{comp_algorithm}=\"zstd\", ATTR{disksize}=\"16G\", RUN=\"/usr/bin/mkswap -U clear /dev/%k\", TAG+=\"systemd\"</code></p> </li> </ul> <p>Add /dev/zram to your fstab with a higher priority than the default:</p> <ul> <li> <p><code># vim /etc/fstab</code></p> </li> <li> <p><code>/dev/zram0 none swap defaults,pri=100 0 0</code></p> </li> </ul> <p></p>"},{"location":"scripts/clamav/","title":"Clamav","text":"<p>Semplice script per la scansione antivirus settimanale. scegliere nella variabile weekday il giorno della settimana in cui verificare il controllo. lo script ad ogni avvio di sistema controllera' se e' il giorno impostato per la scansione, se lo e' verifica se non sia gia stata eseguita una scansione, verra salvato alla fine della scansione un log nella directory av.</p>"},{"location":"scripts/clamav/#prerequisiti","title":"Prerequisiti","text":"<p>Installare clamav: </p> <ul> <li><code>$ sudo pacman -S clamav</code></li> </ul> <p>effettuare l'aggiornamento: </p> <ul> <li><code>$ sudo freshclam</code></li> </ul> <p>abilitare il servizio automatico degli aggiornamenti: </p> <ul> <li><code>$ sudo systemctl enable --now clamav-freshclam.service</code></li> </ul> <p>Per assicurarti che ClamAV e le definizioni siano installate correttamente, scansiona il file di test EICAR (una firma innocua senza codice virus) con <code>clamscan</code>.</p> <ul> <li><code>$ curl https://secure.eicar.org/eicar.com.txt | clamscan -</code></li> </ul> <p>Creare la directory con i file per lo script: </p> <ul> <li><code>$ mkdir ~/clamav/av</code></li> <li><code>$ mkdir ~/clam/av/img</code></li> <li><code>$ echo \"0\" &gt; ~/clamav/av/last</code></li> </ul> <p>aggiungiamo due icone per i messaggi di notifica: ~/clam/av/img/{icon1.svg,icon2.svg} adesso possiamo creare il nostro script ~/clamav/clamav.sh che avvieremo con un file.desktop in ~/.config/autostart:</p> <pre><code>#!/bin/bash\n#\n# Author : Jonathan Sanfilippo\n# Date: Jun 2023\n# Version 1.0.0: clamav weekly script\n# Tested with www.eicar.org\n\n# Set Scan\nweekday=\"Tue\" # see date +'%d'\ndirscan=\"/\" # directory of scan\nterminal=\"kgx -e\" # terminal for log\n\n#variable\ndata=$(date +'%d')\ntarget=\"$weekday\"\ncurrent=$(date +'%a')\nlog=\"$HOME/.scripts/av/log\" # log file\nurl=\"$HOME/.scripts/av/last\" # date of the last scan\nlast=$(cat $url)\nicon1=\"$HOME/.scripts/av/img/icon1.svg\"\nicon2=\"$HOME/.scripts/av/img/icon2.svg\"\n\n\n\nclamav(){\n\nif [ \"$target\" = \"$current\" ]; then # check if it is the day of the week to scan\n    if ! [ \"$data\" -eq \"$last\" ]; then # Compare today's date with the last scan\n\n         echo \"scan!\"\n         nice -n19  clamscan -ri  --remove=yes $dirscan &gt; \"$log\";\n         echo \"$data\" &gt; $url\n\n         MALWARE=$(tail \"$log\" | grep 'Infected' | cut -d \" \" -f3);\n         if [ \"$MALWARE\" -eq \"0\" ];then\n\n             ACTION=$(notify-send -i \"$icon1\" --action=\"Read Log\" --action=\"Close\"  \"ClamAV\"  \"System Protect\"   -u normal  -u critical )\n                case \"$ACTION\" in\n                      \"0\")\n                         $terminal vim $log\n                         ;;\n                      \"1\")\n                         exit\n                         ;;\n                esac\n         else\n             ACTION=$(notify-send -i \"$icon2\" --action=\"Read log\" --action=\"Close\"  \"ClamAV\"  \"$MALWARE Malware Removed\"  -u critical )\n                case \"$ACTION\" in\n                      \"0\")\n                         $terminal vim $log\n                         ;;\n                      \"1\")\n                         exit\n                         ;;\n                esac\n         fi    \n    else\n        echo \"already scan!\"\n    fi\nelse    \n    echo \"no scan for today!\"\nfi\n\n}\n\nclamav\n</code></pre>"},{"location":"scripts/clean/","title":"Clean","text":"<p><code>$ clean</code> easy command for arch linux</p> <p></p> <p>\ud83c\uddee\ud83c\uddf9 Clean utilizza alla base il comando pacman per gestire la pulizia e la manutenzione del sistema. Questo pacchetto in un semplice script bash verifica la presenza di pacchetti orfani e di dipendenze inutilizzate, grazie al flag -n non elimina dipendenze che sono in uso da altri pacchetti. Clean si occupa anche di rimuovere tutta la cache dei pacchetti, tutta la cache dell'utente comprensiva della cache di yay e di file spazzatura del cestino. e' possibile vedere lo spazio occupato da questi file e lo spazio totale che verra' eliminato. Clean e' un idea per raccogliere tutti i comandi che servirebbero' per eseguire queste azioni in una semplice parola, un comando chiaro da ricordare anche per i meno esperti. Questo progetto e' realizzato dalla comunity italiana Architalia Linux*. Clean e' disponibile su aur.archlinux.org</p> <p>\ud83c\uddec\ud83c\udde7 Clean uses the pacman command to manage system cleaning and maintenance. This package, in a simple bash script, checks for the presence of orphan packages and unused dependencies. Furthermore, with the -n flag, it doesn't  dependencies that are still used by other packages. Clean also removes all package caches, user caches (including yay cache) and trash files. The amount of space taken up by these files and the total amount of space that will be freed up can be viewed. Clean is an idea to collect all the commands needed to perform these actions in a simple word, a clear command to remember even for the less experienced. This project was created by the Italian community Architalia Linux*. Clean is available on aur.archlinux.org.</p>"},{"location":"scripts/clean/#install-from-aur","title":"install from AUR","text":"<ul> <li>git clone https://aur.archlinux.org/clean.git</li> <li>cd clean</li> <li>makepkg -si</li> </ul>"},{"location":"scripts/clean/#install-from-github","title":"install from GitHub","text":"<ul> <li>git clone https://github.com/architalia/clean.git</li> <li>cd clean</li> <li>makepkg -si</li> </ul>"},{"location":"scripts/easypacman/","title":"easypacman","text":"<ul> <li>Author: MarcoArch </li> <li>Github: https://github.com/MarcoArch</li> <li>Architalia Forked: https://github.com/ArchItalia/easypacman </li> </ul> <p>\ud83c\uddec\ud83c\udde7 This is a simply script for Arch Linux's package manager Pacman.</p> <p>The provided script is a useful tool for users who use the Arch Linux operating system, as it greatly simplifies the installation and removal of software packages.</p> <p></p> <p>The Pac-Man menu interface offers several options for installing, removing, and cleaning up packages, helping users easily manage their software. Additionally, using an automated script, instead of the traditional command-line way, greatly reduces the possibility of errors during command typing. In summary, the Pac-Man script offers a reliable and simple way for end-users to use and manage Arch Linux packages.</p>"},{"location":"scripts/easypacman/#installation","title":"Installation","text":"<pre><code>git clone https://github.com/ArchItalia/easypacman.git\ncd easypacman\nchmod +x easypacman\n</code></pre>"},{"location":"scripts/easypacman/#run","title":"Run","text":"<p><code>./easypacman</code></p> <p>\ud83c\uddee\ud83c\uddf9 Lo script offerto \u00e8 un utile strumento per gli utenti che utilizzano il sistema operativo Arch Linux,  in quanto semplifica notevolmente l'installazione e la rimozione di pacchetti software.</p> <p>L'interfaccia del menu Pac-Man offre diverse opzioni per l'installazione,  la rimozione e la pulizia dei pacchetti, aiutando gli utenti a gestire facilmente i loro software.  Inoltre, l'utilizzo di uno script automatizzato, invece del modo tradizionale da riga di comando,  riduce notevolmente la possibilit\u00e0 di errori durante la digitazione dei comandi. In sintesi,  lo script Pac-Man offre un modo affidabile e semplice per l'utilizzo e la gestione dei pacchetti Arch Linux per l'utente finale.</p>"},{"location":"scripts/easypacman/#installazione","title":"Installazione","text":"<pre><code>git clone https://github.com/ArchItalia/easypacman.git\ncd easypacman\nchmod +x easypacman\n</code></pre>"},{"location":"scripts/easypacman/#esegui","title":"Esegui","text":"<p><code>./easypacman</code></p>"},{"location":"scripts/installscript/","title":"Installscript","text":"<p>Installscript script di installazione btrfs diviso in due parti. - GitHub  </p> <p></p> <p> </p> <p>La prima parte (1-parte.sh) e' composta dalla preparazione del disco e delle partizioni. Prima di usare questo script diviso in due che si trova in <code>~/Installscript</code> su architalia-live ISO,  e' necessario preparare il disco con ad esempio cfdisk seguendo le istruzioni sulla guida al paragrafo UEFI btrfs, oppure semplicemente gparted integrato nella live, le partizioni necessarie per esempio sono:</p> <p></p> <p></p> <p></p> <p><pre><code># 512MiB Type EFI System\n# 20GiB  Type Linux Filesystem\n# 30GiB  Type Linux Filesystem\n</code></pre> </p> <p>Nota</p> <p>La partizione di swap viene sostituita con l'installazione di ZRAM, che lo script 2-parte.sh   configurera per noi, sara' sufficente indicare la misura della swap in GiB</p> <p></p> <p>A questo punto sara' lo script a prendere in mano la formattazione, la creazione dei sottovolumi e il montaggio. Prima pero' vediamo come cambiare il valore delle variabili a seconda delle proprie impostazioni in entrambi le parti 1 e 2:</p> <p></p> <pre><code># settings script 1\n\ncountry=\"us\" # Seleziona il paese piu vicino per configurare il mirrorlist\nage=\"6\" # Specifica il numero massimo di mirror da includere nella lista dei mirror sincronizzati.\neditor=\"vim\" # Installa vim come editor\nkernel=\"linux\" # Scegli il kernel da installare \nFM=\"linux-firmware\" # Installa i firmware\ntools=\"intel-ucode btrfs-progs\" # Installa utility per il filesystem BTRFS e altri\nbase=\"base base-devel\" # gruppi di pacchetti fondamentali per Arch Linux\n\n# --- scegli la nomemclatura, decommenta le tre partizioni necessarie. \n\n#nvme - M2\n#p1=\"/dev/nvme0n1p1\"\n#p2=\"/dev/nvme0n1p2\"\n#p3=\"/dev/nvme0n1p3\"\n\n#vda - Virtual Machine\n#p1=\"/dev/vda1\"\n#p2=\"/dev/vda2\"\n#p3=\"/dev/vda3\"\n\n#sda - SSD\n#p1=\"/dev/sda1\"\n#p2=\"/dev/sda2\"\n#p3=\"/dev/sda3\" \n</code></pre> <p></p> <p><pre><code># settings script 2\n\nlocalhost=\"localhost\" # nome machina - hostname\nuser=\"username\"    # nome utente [solo minuscolo] -- username [only lowercase]\nrealname=\"realname\" # nome reale [minuscolo/maiuscolo] - real name [uppercase/lowercase]\nrootpw=\"password\" # password per root -- root password\nuserpw=\"password\" # password per utente -- user password\nlocalegen=\"en_US.UTF-8 UTF-8\" # locale encoding\nlocaleconf=\"LANG=en_US.UTF-8\"  # lingua locale -- local language\nkm=\"us\" # lingua della tastiera -- keyboard layout\nlocaltime=\"Europe/Italy\" # localtime\nZS=\"16G\" # dimensione swap zram - size swap zram\ngroups=\"wheel\" # aggiungi gruppi all'utente - add groups for user\nNtools=\"wpa_supplicant wireless_tools netctl net-tools iw networkmanager\" # set network tools\nAudio=\"alsa-utils pipewire-pulse\" # Audio packages\nUtils=\"mtools dosfstools exfatprogs fuse\" # tools \nPKGS=\"firewalld acpi cronie git reflector bluez bluez-utils\" #general packages\nDE=\"xorg gnome-shell nautilus gnome-console gvfs gnome-control-center xdg-user-dirs-gtk  gnome-text-editor gnome-keyring gnome-system-monitor\" #GNOME [Minimal installation]\nDM=\"gdm\" # Display Manager\nService=\"gdm NetworkManager firewalld bluetooth cronie reflector\" # Service\n\n# [root=/dev/XXX] decommenta la nomenclatura in uso per systemd-boot IMPORTANTE! -- uncomment the nomenclature in use for systemd-boot IMPORTANT!\n\n#p=\"sda2\" \n#p=\"vda2\"\n#p=\"nvme0n1p2\"\n\n# end setting ----------------------------------------------\n</code></pre> </p> <p>Ecco la parte che si occupera di eseguire la prima parte dell'installazione:</p> <p><pre><code>#Formattazione delle partizioni - EFI, ROOT, HOME\nmkfs.fat -F32 $p1\nmkfs.btrfs -f $p2 \nmkfs.btrfs -f $p3\n\n#Montaggio e sottovolumi - partizione /home separata\nmount $p2 /mnt           \nbtrfs su cr /mnt/@  \numount /mnt \nmount $p3 /mnt\nbtrfs su cr /mnt/@home      \numount /mnt                             \nmount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@ $p2 /mnt \nmkdir -p /mnt/{boot,home}\nmount $p1 /mnt/boot \nmount -o noatime,ssd,space_cache=v2,compress=zstd,discard=async,subvol=@home $p3 /mnt/home \n\n# reflector\nreflector --verbose -c $country -a $age --sort rate --save /etc/pacman.d/mirrorlist\n\n#pacstrap\npacstrap -K /mnt $base $FM $kernel $tools $editor\n\n#fstab\ngenfstab -Up /mnt &gt; /mnt/etc/fstab\n\n\ncp 2-parte.sh /mnt/home/\narch-chroot /mnt \n</code></pre> </p> <p>Alla fine del primo script ci ritroveremo direttamente in chroot, a questo punto dobbiamo spostarci e avviare il secondo script:</p> <ul> <li><code># cd /home</code></li> <li><code># ./2-parte.sh</code></li> </ul>"},{"location":"scripts/rsync/","title":"Rsync","text":"<p>Semplice script da avviare con un file.desktop in ~/.config/autostart, impostare ogni quanto lo script effettua il backup e definire le directory.</p> <pre><code>#!/bin/bash\n#\n# Author : Jonathan Sanfilippo\n# Date: Jun 2023\n# Version 1.0.0: rsync backup\n#\n\ncheckSpace=$(df -h /path | awk '{print $4}')\ndata=$(date +'%H:%M')\ndirBak=\"/path/rsync-backup\"\ntime=\"10800\" #3h\n\nbackup(){\nrsync -zvrah  /your/path1     $dirBak\nrsync -zvrah  /your/path2     $dirBak\nrsync -zvrah  /your/path3     $dirBak\nrsync -zvrah  /your/path4     $dirBak\nnotify-send   \"rsync\" \"Backup done. Space $checkSpace\" -u normal\n}\n\n\nwhile true; do\n  backup\n  sleep $time\ndone\n</code></pre>"}]}